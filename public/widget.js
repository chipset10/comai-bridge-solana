/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var __webpack_modules__={9016:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoinbaseWalletSDK=void 0;const n=r(9682),i=r(3143),o=r(3518),s=r(6570),a=r(7472),c=r(4643),u=process.env.LINK_API_URL||"https://www.walletlink.org",l=process.env.SDK_VERSION||r(626).i8||"unknown";class h{constructor(t){var e;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const r=t.linkAPIUrl||u;let i;i=t.uiConstructor?t.uiConstructor:t=>new o.WalletSDKUI(t),void 0===t.overrideIsMetaMask?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=t.overrideIsMetaMask,this._overrideIsCoinbaseWallet=null===(e=t.overrideIsCoinbaseWallet)||void 0===e||e,this._eventListener=t.eventListener;const c=new URL(r),d=`${c.protocol}//${c.host}`;this._storage=new n.ScopedLocalStorage(`-walletlink:${d}`),this._storage.setItem("version",h.VERSION),this.walletExtension||(this._relayEventManager=new a.WalletSDKRelayEventManager,this._relay=new s.WalletSDKRelay({linkAPIUrl:r,version:l,darkMode:!!t.darkMode,uiConstructor:i,storage:this._storage,relayEventManager:this._relayEventManager,eventListener:this._eventListener}),this.setAppInfo(t.appName,t.appLogoUrl),this._relay.attachUI())}makeWeb3Provider(t="",e=1){const r=this.walletExtension;if(r)return this.isCipherProvider(r)||r.setProviderInfo(t,e),r;const n=this._relay;if(!n||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return t||n.setConnectDisabled(!0),new i.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(n),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:t,chainId:e,eventListener:this._eventListener,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet})}setAppInfo(t,e){var r;this._appName=t||"DApp",this._appLogoUrl=e||(0,c.getFavicon)();const n=this.walletExtension;n?this.isCipherProvider(n)||n.setAppInfo(this._appName,this._appLogoUrl):null===(r=this._relay)||void 0===r||r.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var t;const e=this.walletExtension;e?e.close():null===(t=this._relay)||void 0===t||t.resetAndReload()}get walletExtension(){var t;return null!==(t=window.coinbaseWalletExtension)&&void 0!==t?t:window.walletLinkExtension}isCipherProvider(t){return"boolean"==typeof t.isCipher&&t.isCipher}}e.CoinbaseWalletSDK=h,h.VERSION=l},4833:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default='.-cbwsdk-css-reset .-cbwsdk-link-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-link-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.33);transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-link-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box{display:flex;position:relative;flex-direction:column;background-color:#f6f6f6;border-radius:16px;box-shadow:0px 16px 24px rgba(0,0,0,.1),0px 0px 8px rgba(0,0,0,.05);transform:scale(1);transition:opacity .25s,transform .25s;overflow:hidden}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content{padding:24px;text-align:center}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content h3{display:block;margin-bottom:24px;text-align:left;text-transform:uppercase;font-size:22px;font-weight:bold;line-height:1.2;color:#000}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content-qrcode{position:relative;display:block;margin-bottom:24px;background-color:#f6f6f6;padding:16px;border-radius:16px;box-shadow:4px 4px 8px rgba(0,0,0,.15),-8px -8px 8px #fff;overflow:hidden}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content-qrcode-wrapper{display:block;width:232px;height:232px;padding:4px;border-radius:4px;background:#f4f4f4;margin-bottom:16px}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content-qrcode-wrapper img{display:block;width:224px;height:224px}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content-qrcode>p{display:block;color:gray;font-weight:bold;font-size:12px;text-align:center}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content-qrcode-connecting{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(246,246,246,.98)}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content-qrcode-connecting p{margin-top:16px;color:#333;font-size:12px;font-weight:bold}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content a{text-align:center;cursor:pointer;transition:color .1s;font-size:14px}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content a,.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content a:link,.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content a:visited{color:#999}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content a:hover,.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content a:active{color:#666;text-decoration:underline}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:24px;right:24px;width:24px;height:24px;border-radius:12px;background-color:#e7e7e7;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel-x{position:relative;display:block}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:2px;background-color:#999;transition:background-color .2s}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel-x::before{transform:rotate(45deg)}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel-x::after{transform:rotate(135deg)}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-a,.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-b{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-hidden{display:none}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box{background-color:#2a2a2a}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content h3{color:#ccc}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content-qrcode{background-color:#2a2a2a;box-shadow:4px 4px 8px rgba(0,0,0,.5),-8px -8px 8px #343434}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content-qrcode>p{color:#999}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content-qrcode-connecting{background:rgba(42,42,42,.98)}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content-qrcode-connecting p{color:#ddd}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content a,.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content a:link,.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content a:visited{color:#888}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content a:hover,.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content a:active{color:#aaa}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-cancel{background-color:#333}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-cancel-x::after{background-color:#aaa}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x::after{background-color:#eee}'},4380:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDialog=void 0;const i=n(r(6010)),o=r(6400),s=r(396),a=n(r(4833)),c=r(381),u=r(6148),l=r(3604);e.LinkDialog=t=>{const[e,r]=(0,s.useState)(!t.isOpen),[n,c]=(0,s.useState)(!t.isOpen);return(0,s.useEffect)((()=>{const{isOpen:e}=t,n=[window.setTimeout((()=>{c(!e)}),10)];return e?r(!1):n.push(window.setTimeout((()=>{r(!0)}),360)),()=>{n.forEach(window.clearTimeout)}}),[t.isOpen]),(0,o.h)("div",{class:(0,i.default)("-cbwsdk-link-dialog-container",t.darkMode&&"-cbwsdk-link-dialog-container-dark",e&&"-cbwsdk-link-dialog-container-hidden")},(0,o.h)("style",null,a.default),(0,o.h)("div",{class:(0,i.default)("-cbwsdk-link-dialog-backdrop",n&&"-cbwsdk-link-dialog-backdrop-hidden")}),(0,o.h)("div",{class:"-cbwsdk-link-dialog"},(0,o.h)("div",{class:(0,i.default)("-cbwsdk-link-dialog-box",n&&"-cbwsdk-link-dialog-box-hidden")},(0,o.h)(h,{darkMode:t.darkMode,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection}),t.onCancel&&(0,o.h)(d,{onClick:t.onCancel}))))};const h=t=>{const e=window.encodeURIComponent(t.linkAPIUrl),r=t.isParentConnection?"parent-id":"id",n=`${t.linkAPIUrl}/#/link?${r}=${t.sessionId}&secret=${t.sessionSecret}&server=${e}&v=1`;return(0,o.h)("div",{class:"-cbwsdk-link-dialog-box-content"},(0,o.h)("h3",null,"Scan to",(0,o.h)("br",null)," Connect"),(0,o.h)("div",{class:"-cbwsdk-link-dialog-box-content-qrcode"},(0,o.h)("div",{class:"-cbwsdk-link-dialog-box-content-qrcode-wrapper"},(0,o.h)(c.QRCode,{content:n,width:224,height:224,fgColor:"#000",bgColor:"transparent"})),(0,o.h)("input",{type:"hidden",name:"cbwsdk-version",value:l.LIB_VERSION}),(0,o.h)("input",{type:"hidden",value:n}),!t.isConnected&&(0,o.h)("div",{class:"-cbwsdk-link-dialog-box-content-qrcode-connecting"},(0,o.h)(u.Spinner,{size:128,color:t.darkMode?"#fff":"#000"}),(0,o.h)("p",null,"Connecting...")),(0,o.h)("p",{title:`Coinbase Wallet SDK v${t.version}`},"Powered by Coinbase Wallet SDK")),(0,o.h)("a",{href:`${t.linkAPIUrl}/#/wallets`,target:"_blank",rel:"noopener"},"Donâ€™t have a wallet app?"))},d=t=>(0,o.h)("button",{class:"-cbwsdk-link-dialog-box-cancel",onClick:t.onClick},(0,o.h)("div",{class:"-cbwsdk-link-dialog-box-cancel-x"}))},8202:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkFlow=void 0;const n=r(6400),i=r(1759),o=r(9612),s=r(4380),a=r(101);e.LinkFlow=class{constructor(t){this.extensionUI$=new i.BehaviorSubject({}),this.subscriptions=new i.Subscription,this.isConnected=!1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=t.darkMode,this.version=t.version,this.sessionId=t.sessionId,this.sessionSecret=t.sessionSecret,this.linkAPIUrl=t.linkAPIUrl,this.isParentConnection=t.isParentConnection,this.connected$=t.connected$,fetch("https://api.wallet.coinbase.com/rpc/v2/getFeatureFlags").then((t=>t.json())).then((t=>{const e=t.result.desktop.extension_ui;void 0===e?this.extensionUI$.next({value:!1}):this.extensionUI$.next({value:e})})).catch((t=>{console.error("Couldn't fetch feature flags - ",t),this.extensionUI$.next({value:!1})}))}attach(t){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",t.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe((t=>{this.isConnected!==t&&(this.isConnected=t,this.render())})))}detach(){var t;this.root&&(this.subscriptions.unsubscribe(),(0,n.render)(null,this.root),null===(t=this.root.parentElement)||void 0===t||t.removeChild(this.root))}setConnectDisabled(t){this.connectDisabled=t}open(t){this.isOpen=!0,this.onCancel=t.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const t=this.extensionUI$.pipe((0,o.first)((t=>void 0!==t.value))).subscribe((t=>{this.root&&(0,n.render)(t.value?(0,n.h)(a.TryExtensionLinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,onCancel:this.onCancel,connectDisabled:this.connectDisabled}):(0,n.h)(s.LinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,onCancel:this.onCancel}),this.root)}));this.subscriptions.add(t)}}},381:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.QRCode=void 0;const i=r(6400),o=r(396),s=n(r(7713));e.QRCode=t=>{const[e,r]=(0,o.useState)("");return(0,o.useEffect)((()=>{var e,n;const i=new s.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:null!==(e=t.width)&&void 0!==e?e:256,height:null!==(n=t.height)&&void 0!==n?n:256,padding:0,image:t.image}),o=Buffer.from(i.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)})),e?(0,i.h)("img",{src:e,alt:"QR Code"}):null}},2193:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}"},9934:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Snackbar=void 0;const i=n(r(6010)),o=r(6400),s=r(396),a=n(r(2193));e.Snackbar=class{constructor(t){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=t.darkMode}attach(t){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",t.appendChild(this.root),this.render()}presentItem(t){const e=this.nextItemKey++;return this.items.set(e,t),this.render(),()=>{this.items.delete(e),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,o.render)((0,o.h)("div",null,(0,o.h)(c,{darkMode:this.darkMode},Array.from(this.items.entries()).map((([t,e])=>(0,o.h)(u,Object.assign({},e,{key:t})))))),this.root)}};const c=t=>(0,o.h)("div",{class:(0,i.default)("-cbwsdk-snackbar-container")},(0,o.h)("style",null,a.default),(0,o.h)("div",{class:"-cbwsdk-snackbar"},t.children)),u=({autoExpand:t,message:e,menuItems:r})=>{const[n,a]=(0,s.useState)(!0),[c,u]=(0,s.useState)(null!=t&&t);return(0,s.useEffect)((()=>{const t=[window.setTimeout((()=>{a(!1)}),1),window.setTimeout((()=>{u(!0)}),1e4)];return()=>{t.forEach(window.clearTimeout)}})),(0,o.h)("div",{class:(0,i.default)("-cbwsdk-snackbar-instance",n&&"-cbwsdk-snackbar-instance-hidden",c&&"-cbwsdk-snackbar-instance-expanded")},(0,o.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:()=>{u(!c)}},(0,o.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,o.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),(0,o.h)("div",{class:"-gear-container"},!c&&(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,o.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=",class:"-gear-icon",title:"Expand"}))),r&&r.length>0&&(0,o.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},r.map(((t,e)=>(0,o.h)("div",{class:(0,i.default)("-cbwsdk-snackbar-instance-menu-item",t.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:t.onClick,key:e},(0,o.h)("svg",{width:t.svgWidth,height:t.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":t.defaultFillRule,"clip-rule":t.defaultClipRule,d:t.path,fill:"#AAAAAA"})),(0,o.h)("span",{class:(0,i.default)("-cbwsdk-snackbar-instance-menu-item-info",t.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},t.info))))))}},1964:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:transparent;stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}"},6148:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Spinner=void 0;const i=r(6400),o=n(r(1964));e.Spinner=t=>{var e;const r=null!==(e=t.size)&&void 0!==e?e:64,n=t.color||"#000";return(0,i.h)("div",{class:"-cbwsdk-spinner"},(0,i.h)("style",null,o.default),(0,i.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,i.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))}},421:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default='.-cbwsdk-css-reset .-cbwsdk-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top{display:flex;flex-direction:row;background-color:#fff;border-radius:8px;overflow:hidden;min-height:300px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;color:#000;align-self:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;background-color:#fff;margin-top:8px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper img{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;color:#000;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;background-color:#fafbfc;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;background-color:#000;transition:background-color .2s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-a,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-b{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container-hidden{display:none}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px;color:#000}'},101:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TryExtensionLinkDialog=void 0;const i=n(r(6010)),o=r(6400),s=r(396),a=n(r(4744)),c=n(r(4475)),u=n(r(8714)),l=n(r(8196)),h=r(381),d=r(6148),f=n(r(421)),p=r(3604);e.TryExtensionLinkDialog=t=>{const[e,r]=(0,s.useState)(!t.isOpen),[n,a]=(0,s.useState)(!t.isOpen);return(0,s.useEffect)((()=>{const{isOpen:e}=t,n=[window.setTimeout((()=>{a(!e)}),10)];return e?r(!1):n.push(window.setTimeout((()=>{r(!0)}),360)),()=>{n.forEach(window.clearTimeout)}}),[t.isOpen]),(0,o.h)("div",{class:(0,i.default)("-cbwsdk-extension-dialog-container",e&&"-cbwsdk-extension-dialog-container-hidden")},(0,o.h)("style",null,f.default),(0,o.h)("div",{class:(0,i.default)("-cbwsdk-extension-dialog-backdrop",n&&"-cbwsdk-extension-dialog-backdrop-hidden")}),(0,o.h)("div",{class:"-cbwsdk-extension-dialog"},(0,o.h)("div",{class:(0,i.default)("-cbwsdk-extension-dialog-box",n&&"-cbwsdk-extension-dialog-box-hidden")},(0,o.h)(g,{onInstallClick:()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")}}),t.connectDisabled?null:(0,o.h)(y,{darkMode:t.darkMode,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection}),t.onCancel&&(0,o.h)(b,{onClick:t.onCancel}))))};const g=t=>(0,o.h)("div",{class:"-cbwsdk-extension-dialog-box-top"},(0,o.h)("div",{class:"-cbwsdk-extension-dialog-box-top-install-region"},(0,o.h)("h2",null,"Try the Coinbase Wallet extension"),(0,o.h)("button",{onClick:t.onInstallClick},"Install")),(0,o.h)("div",{class:"-cbwsdk-extension-dialog-box-top-info-region"},(0,o.h)(m,{icon:c.default,text:"Connect to crypto apps with one click"}),(0,o.h)(m,{icon:u.default,text:"Your private key is stored securely"}),(0,o.h)(m,{icon:a.default,text:"Works with Ethereum, Polygon, and more"}))),y=t=>{const e=window.encodeURIComponent(t.linkAPIUrl),r=t.isParentConnection?"parent-id":"id",n=`${t.linkAPIUrl}/#/link?${r}=${t.sessionId}&secret=${t.sessionSecret}&server=${e}&v=1`;return(0,o.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom"},(0,o.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-description-region"},(0,o.h)("h2",null,"Or scan to connect"),(0,o.h)("body",{class:"-cbwsdk-extension-dialog-box-bottom-description"},"Open ",(0,o.h)("a",{href:"https://wallet.coinbase.com/"},"Coinbase Wallet")," on your mobile phone and scan")),(0,o.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-region"},(0,o.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-wrapper"},(0,o.h)(h.QRCode,{content:n,width:150,height:150,fgColor:"#000",bgColor:"transparent",image:{svg:l.default,width:34,height:34}})),(0,o.h)("input",{type:"hidden",name:"cbwsdk-version",value:p.LIB_VERSION}),(0,o.h)("input",{type:"hidden",value:n}),!t.isConnected&&(0,o.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-connecting"},(0,o.h)(d.Spinner,{size:36,color:"#000"}),(0,o.h)("p",null,"Connecting..."))))},m=t=>(0,o.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description"},(0,o.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description-icon-wrapper"},(0,o.h)("img",{src:t.icon})),(0,o.h)("body",{class:"-cbwsdk-extension-dialog-box-top-description-text"},t.text)),b=t=>(0,o.h)("button",{class:"-cbwsdk-extension-dialog-box-cancel",onClick:t.onClick},(0,o.h)("div",{class:"-cbwsdk-extension-dialog-box-cancel-x"}))},8196:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default='<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">\n<circle cx="50" cy="50" r="50" fill="white"/>\n<circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>\n<circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>\n</svg>\n\n'},4744:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg=="},4475:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg=="},8714:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"},5755:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClientMessagePublishEvent=e.ClientMessageSetSessionConfig=e.ClientMessageGetSessionConfig=e.ClientMessageIsLinked=e.ClientMessageHostSession=void 0,e.ClientMessageHostSession=function(t){return Object.assign({type:"HostSession"},t)},e.ClientMessageIsLinked=function(t){return Object.assign({type:"IsLinked"},t)},e.ClientMessageGetSessionConfig=function(t){return Object.assign({type:"GetSessionConfig"},t)},e.ClientMessageSetSessionConfig=function(t){return Object.assign({type:"SetSessionConfig"},t)},e.ClientMessagePublishEvent=function(t){return Object.assign({type:"PublishEvent"},t)}},3610:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EVENTS=void 0,e.EVENTS={REQUEST_CHILD_ETHEREUM_ACCOUNTS_START:"walletlink_sdk.request_child_ethereum_accounts.start",REQUEST_CHILD_ETHEREUM_ACCOUNTS_RESPONSE:"walletlink_sdk.request_child_ethereum_accounts.response",STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"}},179:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RxWebSocket=e.ConnectionState=void 0;const n=r(1759),i=r(9612);var o;!function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"}(o=e.ConnectionState||(e.ConnectionState={})),e.RxWebSocket=class{constructor(t,e=WebSocket){this.WebSocketClass=e,this.webSocket=null,this.connectionStateSubject=new n.BehaviorSubject(o.DISCONNECTED),this.incomingDataSubject=new n.Subject,this.url=t.replace(/^http/,"ws")}connect(){return this.webSocket?(0,n.throwError)(new Error("webSocket object is not null")):new n.Observable((t=>{let e;try{this.webSocket=e=new this.WebSocketClass(this.url)}catch(e){return void t.error(e)}this.connectionStateSubject.next(o.CONNECTING),e.onclose=e=>{this.clearWebSocket(),t.error(new Error(`websocket error ${e.code}: ${e.reason}`)),this.connectionStateSubject.next(o.DISCONNECTED)},e.onopen=e=>{t.next(),t.complete(),this.connectionStateSubject.next(o.CONNECTED)},e.onmessage=t=>{this.incomingDataSubject.next(t.data)}})).pipe((0,i.take)(1))}disconnect(){const{webSocket:t}=this;if(t){this.clearWebSocket(),this.connectionStateSubject.next(o.DISCONNECTED);try{t.close()}catch(t){}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,i.flatMap)((t=>{let e;try{e=JSON.parse(t)}catch(t){return(0,n.empty)()}return(0,n.of)(e)})))}sendData(t){const{webSocket:e}=this;if(!e)throw new Error("websocket is not connected");e.send(t)}clearWebSocket(){const{webSocket:t}=this;t&&(this.webSocket=null,t.onclose=null,t.onerror=null,t.onmessage=null,t.onopen=null)}}},6156:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isServerMessageFail=void 0,e.isServerMessageFail=function(t){return t&&"Fail"===t.type&&"number"==typeof t.id&&"string"==typeof t.sessionId&&"string"==typeof t.error}},8876:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletSDKConnection=void 0;const n=r(1759),i=r(9612),o=r(3610),s=r(3526),a=r(1295),c=r(5755),u=r(179),l=r(6156);e.WalletSDKConnection=class{constructor(t,e,r,c,l=WebSocket){this.sessionId=t,this.sessionKey=e,this.eventListener=c,this.subscriptions=new n.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,a.IntNumber)(1),this.connectedSubject=new n.BehaviorSubject(!1),this.linkedSubject=new n.BehaviorSubject(!1),this.sessionConfigSubject=new n.ReplaySubject(1);const h=new u.RxWebSocket(r+"/rpc",l);this.ws=h,this.subscriptions.add(h.connectionState$.pipe((0,i.tap)((e=>{var r;return null===(r=this.eventListener)||void 0===r?void 0:r.onEvent(o.EVENTS.CONNECTED_STATE_CHANGE,{state:e,sessionIdHash:s.Session.hash(t)})})),(0,i.skip)(1),(0,i.filter)((t=>t===u.ConnectionState.DISCONNECTED&&!this.destroyed)),(0,i.delay)(5e3),(0,i.filter)((t=>!this.destroyed)),(0,i.flatMap)((t=>h.connect())),(0,i.retry)()).subscribe()),this.subscriptions.add(h.connectionState$.pipe((0,i.skip)(2),(0,i.switchMap)((t=>(0,n.iif)((()=>t===u.ConnectionState.CONNECTED),this.authenticate().pipe((0,i.tap)((t=>this.sendIsLinked())),(0,i.tap)((t=>this.sendGetSessionConfig())),(0,i.map)((t=>!0))),(0,n.of)(!1)))),(0,i.distinctUntilChanged)(),(0,i.catchError)((t=>(0,n.of)(!1)))).subscribe((t=>this.connectedSubject.next(t)))),this.subscriptions.add(h.connectionState$.pipe((0,i.skip)(1),(0,i.switchMap)((t=>(0,n.iif)((()=>t===u.ConnectionState.CONNECTED),(0,n.timer)(0,1e4))))).subscribe((t=>0===t?this.updateLastHeartbeat():this.heartbeat()))),this.subscriptions.add(h.incomingData$.pipe((0,i.filter)((t=>"h"===t))).subscribe((t=>this.updateLastHeartbeat()))),this.subscriptions.add(h.incomingJSONData$.pipe((0,i.filter)((t=>["IsLinkedOK","Linked"].includes(t.type)))).subscribe((e=>{var r;const n=e;null===(r=this.eventListener)||void 0===r||r.onEvent(o.EVENTS.LINKED,{sessionIdHash:s.Session.hash(t),linked:n.linked,type:e.type,onlineGuests:n.onlineGuests}),this.linkedSubject.next(n.linked||n.onlineGuests>0)}))),this.subscriptions.add(h.incomingJSONData$.pipe((0,i.filter)((t=>["GetSessionConfigOK","SessionConfigUpdated"].includes(t.type)))).subscribe((e=>{var r;const n=e;null===(r=this.eventListener)||void 0===r||r.onEvent(o.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:s.Session.hash(t),metadata_keys:n&&n.metadata?Object.keys(n.metadata):void 0}),this.sessionConfigSubject.next({webhookId:n.webhookId,webhookUrl:n.webhookUrl,metadata:n.metadata})})))}connect(){var t;if(this.destroyed)throw new Error("instance is destroyed");null===(t=this.eventListener)||void 0===t||t.onEvent(o.EVENTS.STARTED_CONNECTING,{sessionIdHash:s.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var t;this.subscriptions.unsubscribe(),this.ws.disconnect(),null===(t=this.eventListener)||void 0===t||t.onEvent(o.EVENTS.DISCONNECTED,{sessionIdHash:s.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,i.filter)((t=>t)),(0,i.take)(1),(0,i.map)((()=>{})))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,i.filter)((t=>t)),(0,i.take)(1),(0,i.map)((()=>{})))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,i.filter)((t=>{if("Event"!==t.type)return!1;const e=t;return"string"==typeof e.sessionId&&"string"==typeof e.eventId&&"string"==typeof e.event&&"string"==typeof e.data})),(0,i.map)((t=>t)))}setSessionMetadata(t,e){const r=(0,c.ClientMessageSetSessionConfig)({id:(0,a.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[t]:e}});return this.onceConnected$.pipe((0,i.flatMap)((t=>this.makeRequest(r))),(0,i.map)((t=>{if((0,l.isServerMessageFail)(t))throw new Error(t.error||"failed to set session metadata")})))}publishEvent(t,e,r=!1){const n=(0,c.ClientMessagePublishEvent)({id:(0,a.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:t,data:e,callWebhook:r});return this.onceLinked$.pipe((0,i.flatMap)((t=>this.makeRequest(n))),(0,i.map)((t=>{if((0,l.isServerMessageFail)(t))throw new Error(t.error||"failed to publish event");return t.eventId})))}sendData(t){this.ws.sendData(JSON.stringify(t))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>2e4)this.ws.disconnect();else try{this.ws.sendData("h")}catch(t){}}makeRequest(t,e=6e4){const r=t.id;try{this.sendData(t)}catch(t){return(0,n.throwError)(t)}return this.ws.incomingJSONData$.pipe((0,i.timeoutWith)(e,(0,n.throwError)(new Error(`request ${r} timed out`))),(0,i.filter)((t=>t.id===r)),(0,i.take)(1))}authenticate(){const t=(0,c.ClientMessageHostSession)({id:(0,a.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(t).pipe((0,i.map)((t=>{if((0,l.isServerMessageFail)(t))throw new Error(t.error||"failed to authentcate")})))}sendIsLinked(){const t=(0,c.ClientMessageIsLinked)({id:(0,a.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(t)}sendGetSessionConfig(){const t=(0,c.ClientMessageGetSessionConfig)({id:(0,a.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(t)}}},5811:(t,e,r)=>{"use strict";const n=r(9016),i=r(3143);r(9016),r(3143);e.ZP=n.CoinbaseWalletSDK,"undefined"!=typeof window&&(window.CoinbaseWalletSDK=n.CoinbaseWalletSDK,window.CoinbaseWalletProvider=i.CoinbaseWalletProvider,window.WalletLink=n.CoinbaseWalletSDK,window.WalletLinkProvider=i.CoinbaseWalletProvider)},9682:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScopedLocalStorage=void 0,e.ScopedLocalStorage=class{constructor(t){this.scope=t}setItem(t,e){localStorage.setItem(this.scopedKey(t),e)}getItem(t){return localStorage.getItem(this.scopedKey(t))}removeItem(t){localStorage.removeItem(this.scopedKey(t))}clear(){const t=this.scopedKey(""),e=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);"string"==typeof n&&n.startsWith(t)&&e.push(n)}e.forEach((t=>localStorage.removeItem(t)))}scopedKey(t){return`${this.scope}:${t}`}}},1119:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}'},7162:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.injectCssReset=void 0;const i=n(r(1119));e.injectCssReset=function(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(i.default)),document.documentElement.appendChild(t)}},3143:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CoinbaseWalletProvider=void 0;const i=n(r(9394)),o=n(r(3550)),s=r(9826),a=r(3610),c=r(3526),u=r(5633),l=r(4643),h=n(r(4497)),d=r(3648),f=r(8565),p=r(4729),g="DefaultChainId",y="DefaultJsonRpcUrl",m="HasChainBeenSwitched",b="HasChainOverriddenFromRelay";class w extends i.default{constructor(t){var e;super(),this._filterPolyfill=new d.FilterPolyfill(this),this._subscriptionManager=new p.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._jsonRpcUrlFromOpts=t.jsonRpcUrl,this._overrideIsMetaMask=t.overrideIsMetaMask,this._relayProvider=t.relayProvider,this._storage=t.storage,this._relayEventManager=t.relayEventManager,this._eventListener=t.eventListener,this.isCoinbaseWallet=null===(e=t.overrideIsCoinbaseWallet)||void 0===e||e;const r=this.getChainId(),n=(0,l.prepend0x)(r.toString(16));this.emit("connect",{chainIdStr:n});const i=this._storage.getItem(u.LOCAL_STORAGE_ADDRESSES_KEY);if(i){const t=i.split(" ");""!==t[0]&&(this._addresses=t.map((t=>(0,l.ensureAddressString)(t))),this.emit("accountsChanged",t))}this._subscriptionManager.events.on("notification",(t=>{this.emit("message",{type:t.method,data:t.params})})),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",(t=>{var e;if("walletLinkMessage"===t.data.type&&"defaultChainChanged"===t.data.data.action){const r=t.data.data.chainId,n=null!==(e=t.data.data.jsonRpcUrl)&&void 0!==e?e:this.jsonRpcUrl;this.updateProviderInfo(n,Number(r),!0)}}))}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,l.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var t;return null!==(t=this._storage.getItem(y))&&void 0!==t?t:this._jsonRpcUrlFromOpts}set jsonRpcUrl(t){this._storage.setItem(y,t)}get isChainOverridden(){return"true"===this._storage.getItem(b)}set isChainOverridden(t){this._storage.setItem(b,t.toString())}setProviderInfo(t,e){this.isChainOverridden||this.updateProviderInfo(t,this.getChainId(),!1)}updateProviderInfo(t,e,r){if("true"===this._storage.getItem(m)&&r)return;r&&(this.isChainOverridden=!0),this.jsonRpcUrl=t;const n=this.getChainId();this._storage.setItem(g,e.toString(10)),(0,l.ensureIntNumber)(e)===n&&this.hasMadeFirstChainChangedEmission||(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(t,e,r,n,i,o){const s=await this.initializeRelay();return!!(await s.watchAsset(t,e,r,n,i,null==o?void 0:o.toString()).promise).result}async addEthereumChain(t,e,r,n,i,o){var s,a;if((0,l.ensureIntNumber)(t)===this.getChainId())return!1;const c=await this.initializeRelay(),u=c.inlineAddEthereumChain(t.toString());this._isAuthorized()||u||await c.requestEthereumAccounts().promise;const h=await c.addEthereumChain(t.toString(),e,i,r,n,o).promise;return!0===(null===(s=h.result)||void 0===s?void 0:s.isApproved)&&(this._storage.setItem(m,"true"),this.updateProviderInfo(e[0],t,!1)),!0===(null===(a=h.result)||void 0===a?void 0:a.isApproved)}async switchEthereumChain(t){if((0,l.ensureIntNumber)(t)===this.getChainId())return;const e=await this.initializeRelay(),r=await e.switchEthereumChain(t.toString(10)).promise;if(r.errorCode)throw s.ethErrors.provider.custom({code:r.errorCode});const n=r.result;n.isApproved&&n.rpcUrl.length>0&&(this._storage.setItem(m,"true"),this.updateProviderInfo(n.rpcUrl,t,!1))}setAppInfo(t,e){this.initializeRelay().then((r=>r.setAppInfo(t,e)))}async enable(){var t;return null===(t=this._eventListener)||void 0===t||t.onEvent(a.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?c.Session.hash(this._relay.session.id):null}),this._addresses.length>0?[...this._addresses]:await this._send(f.JSONRPCMethod.eth_requestAccounts)}close(){this.initializeRelay().then((t=>t.resetAndReload()))}send(t,e){if("string"==typeof t){const r={jsonrpc:"2.0",id:0,method:t,params:Array.isArray(e)?e:void 0!==e?[e]:[]};return this._sendRequestAsync(r).then((t=>t.result))}if("function"==typeof e){const r=t,n=e;return this._sendAsync(r,n)}if(Array.isArray(t))return t.map((t=>this._sendRequest(t)));const r=t;return this._sendRequest(r)}sendAsync(t,e){if("function"!=typeof e)throw new Error("callback is required");if(Array.isArray(t)){const r=e;return void this._sendMultipleRequestsAsync(t).then((t=>r(null,t))).catch((t=>r(t,null)))}const r=e;this._sendRequestAsync(t).then((t=>r(null,t))).catch((t=>r(t,null)))}async request(t){if(!t||"object"!=typeof t||Array.isArray(t))throw s.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:r}=t;if("string"!=typeof e||0===e.length)throw s.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:t});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw s.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:t});const n=void 0===r?[]:r,i=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:e,params:n,jsonrpc:"2.0",id:i})).result}async scanQRCode(t){const e=await this.initializeRelay(),r=await e.scanQRCode((0,l.ensureRegExpString)(t)).promise;if("string"!=typeof r.result)throw new Error("result was not a string");return r.result}async genericRequest(t,e){const r=await this.initializeRelay(),n=await r.genericRequest(t,e).promise;if("string"!=typeof n.result)throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(t){const e={jsonrpc:"2.0",id:t.id},{method:r}=t;if(e.result=this._handleSynchronousMethods(t),void 0===e.result)throw new Error(`Coinbase Wallet does not support calling ${r} synchronously without a callback. Please provide a callback parameter to call ${r} asynchronously.`);return e}_setAddresses(t){if(!Array.isArray(t))throw new Error("addresses is not an array");const e=t.map((t=>(0,l.ensureAddressString)(t)));JSON.stringify(e)!==JSON.stringify(this._addresses)&&(this._addresses=e,this.emit("accountsChanged",this._addresses),this._storage.setItem(u.LOCAL_STORAGE_ADDRESSES_KEY,e.join(" ")))}_sendRequestAsync(t){return new Promise(((e,r)=>{try{const n=this._handleSynchronousMethods(t);if(void 0!==n)return e({jsonrpc:"2.0",id:t.id,result:n});const i=this._handleAsynchronousFilterMethods(t);if(void 0!==i)return void i.then((r=>e(Object.assign(Object.assign({},r),{id:t.id})))).catch((t=>r(t)));const o=this._handleSubscriptionMethods(t);if(void 0!==o)return void o.then((r=>e({jsonrpc:"2.0",id:t.id,result:r.result}))).catch((t=>r(t)))}catch(t){return r(t)}this._handleAsynchronousMethods(t).then((r=>r&&e(Object.assign(Object.assign({},r),{id:t.id})))).catch((t=>r(t)))}))}_sendMultipleRequestsAsync(t){return Promise.all(t.map((t=>this._sendRequestAsync(t))))}_handleSynchronousMethods(t){const{method:e}=t,r=t.params||[];switch(e){case f.JSONRPCMethod.eth_accounts:return this._eth_accounts();case f.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case f.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(r);case f.JSONRPCMethod.net_version:return this._net_version();case f.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(t){const{method:e}=t,r=t.params||[];switch(e){case f.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case f.JSONRPCMethod.eth_sign:return this._eth_sign(r);case f.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(r);case f.JSONRPCMethod.personal_sign:return this._personal_sign(r);case f.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(r);case f.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(r);case f.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(r);case f.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(r);case f.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(r);case f.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case f.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(r);case f.JSONRPCMethod.eth_signTypedData_v4:case f.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(r);case f.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(r);case f.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(r);case f.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(r);case f.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(r)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(t,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(t){const{method:e}=t,r=t.params||[];switch(e){case f.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(r);case f.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case f.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case f.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(r);case f.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(r)}}_handleSubscriptionMethods(t){switch(t.method){case f.JSONRPCMethod.eth_subscribe:case f.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(t)}}_isKnownAddress(t){try{const e=(0,l.ensureAddressString)(t),r=this._addresses.map((t=>(0,l.ensureAddressString)(t)));return r.includes(e)}catch(t){}return!1}_ensureKnownAddress(t){var e;if(!this._isKnownAddress(t))throw null===(e=this._eventListener)||void 0===e||e.onEvent(a.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(t){const e=t.from?(0,l.ensureAddressString)(t.from):this.selectedAddress;if(!e)throw new Error("Ethereum address is unavailable");return this._ensureKnownAddress(e),{fromAddress:e,toAddress:t.to?(0,l.ensureAddressString)(t.to):null,weiValue:null!=t.value?(0,l.ensureBN)(t.value):new o.default(0),data:t.data?(0,l.ensureBuffer)(t.data):Buffer.alloc(0),nonce:null!=t.nonce?(0,l.ensureIntNumber)(t.nonce):null,gasPriceInWei:null!=t.gasPrice?(0,l.ensureBN)(t.gasPrice):null,maxFeePerGas:null!=t.maxFeePerGas?(0,l.ensureBN)(t.maxFeePerGas):null,maxPriorityFeePerGas:null!=t.maxPriorityFeePerGas?(0,l.ensureBN)(t.maxPriorityFeePerGas):null,gasLimit:null!=t.gas?(0,l.ensureBN)(t.gas):null,chainId:this.getChainId()}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw s.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw s.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(t,e,r,n){this._ensureKnownAddress(e);try{const i=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await i.signEthereumMessage(t,e,r,n).promise).result}}catch(t){if("string"==typeof t.message&&t.message.match(/(denied|rejected)/i))throw s.ethErrors.provider.userRejectedRequest("User denied message signature");throw t}}async _ethereumAddressFromSignedMessage(t,e,r){const n=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await n.ethereumAddressFromSignedMessage(t,e,r).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,l.hexStringFromIntNumber)(this.getChainId())}getChainId(){const t=this._storage.getItem(g)||"1",e=parseInt(t,10);return(0,l.ensureIntNumber)(e)}async _eth_requestAccounts(){var t;if(null===(t=this._eventListener)||void 0===t||t.onEvent(a.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?c.Session.hash(this._relay.session.id):null}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let e;try{const t=await this.initializeRelay();e=await t.requestEthereumAccounts().promise}catch(t){if("string"==typeof t.message&&t.message.match(/(denied|rejected)/i))throw s.ethErrors.provider.userRejectedRequest("User denied account authorization");throw t}if(!e.result)throw new Error("accounts received is empty");return this._setAddresses(e.result),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(t){this._requireAuthorization();const e=(0,l.ensureAddressString)(t[0]),r=(0,l.ensureBuffer)(t[1]);return this._signEthereumMessage(r,e,!1)}_eth_ecRecover(t){const e=(0,l.ensureBuffer)(t[0]),r=(0,l.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(e,r,!1)}_personal_sign(t){this._requireAuthorization();const e=(0,l.ensureBuffer)(t[0]),r=(0,l.ensureAddressString)(t[1]);return this._signEthereumMessage(e,r,!0)}_personal_ecRecover(t){const e=(0,l.ensureBuffer)(t[0]),r=(0,l.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(e,r,!0)}async _eth_signTransaction(t){this._requireAuthorization();const e=this._prepareTransactionParams(t[0]||{});try{const t=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await t.signEthereumTransaction(e).promise).result}}catch(t){if("string"==typeof t.message&&t.message.match(/(denied|rejected)/i))throw s.ethErrors.provider.userRejectedRequest("User denied transaction signature");throw t}}async _eth_sendRawTransaction(t){const e=(0,l.ensureBuffer)(t[0]),r=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await r.submitEthereumTransaction(e,this.getChainId()).promise).result}}async _eth_sendTransaction(t){this._requireAuthorization();const e=this._prepareTransactionParams(t[0]||{});try{const t=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await t.signAndSubmitEthereumTransaction(e).promise).result}}catch(t){if("string"==typeof t.message&&t.message.match(/(denied|rejected)/i))throw s.ethErrors.provider.userRejectedRequest("User denied transaction signature");throw t}}async _eth_signTypedData_v1(t){this._requireAuthorization();const e=(0,l.ensureParsedJSONObject)(t[0]),r=(0,l.ensureAddressString)(t[1]);this._ensureKnownAddress(r);const n=h.default.hashForSignTypedDataLegacy({data:e}),i=JSON.stringify(e,null,2);return this._signEthereumMessage(n,r,!1,i)}async _eth_signTypedData_v3(t){this._requireAuthorization();const e=(0,l.ensureAddressString)(t[0]),r=(0,l.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(e);const n=h.default.hashForSignTypedData_v3({data:r}),i=JSON.stringify(r,null,2);return this._signEthereumMessage(n,e,!1,i)}async _eth_signTypedData_v4(t){this._requireAuthorization();const e=(0,l.ensureAddressString)(t[0]),r=(0,l.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(e);const n=h.default.hashForSignTypedData_v4({data:r}),i=JSON.stringify(r,null,2);return this._signEthereumMessage(n,e,!1,i)}async _cbwallet_arbitrary(t){const e=t[0],r=t[1];if("string"!=typeof r)throw new Error("parameter must be a string");if("object"!=typeof e||null===e)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(e,r)}}async _wallet_addEthereumChain(t){var e,r,n,i;const o=t[0];if(0===(null===(e=o.rpcUrls)||void 0===e?void 0:e.length))return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||""===o.chainName.trim())throw s.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!o.nativeCurrency)throw s.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,null!==(r=o.rpcUrls)&&void 0!==r?r:[],null!==(n=o.blockExplorerUrls)&&void 0!==n?n:[],o.chainName,null!==(i=o.iconUrls)&&void 0!==i?i:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(t){const e=t[0];return await this.switchEthereumChain(parseInt(e.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(t){var e;const r=Array.isArray(t)?t[0]:t;if(0===(null===(e=r.type)||void 0===e?void 0:e.length))throw s.ethErrors.rpc.invalidParams({message:"type is a required field"});if("ERC20"!==r.type)throw s.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' not supported`});if(!(null==r?void 0:r.options))throw s.ethErrors.rpc.invalidParams({message:"options is a required field"});if(!r.options.address)throw s.ethErrors.rpc.invalidParams({message:"option address is a required option"});const n=this.getChainId(),{address:i,symbol:o,image:a,decimals:c}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,o,c,a,n)}}_eth_uninstallFilter(t){const e=(0,l.ensureHexString)(t[0]);return this._filterPolyfill.uninstallFilter(e)}async _eth_newFilter(t){const e=t[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(e)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(t){const e=(0,l.ensureHexString)(t[0]);return this._filterPolyfill.getFilterChanges(e)}_eth_getFilterLogs(t){const e=(0,l.ensureHexString)(t[0]);return this._filterPolyfill.getFilterLogs(e)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then((t=>(t.setAccountsCallback((t=>this._setAddresses(t))),t.setChainCallback(((t,e)=>{this.updateProviderInfo(e,parseInt(t,10),!0)})),this._relay=t,t)))}}e.CoinbaseWalletProvider=w},3648:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filterFromParam=e.FilterPolyfill=void 0;const n=r(1295),i=r(4643),o={jsonrpc:"2.0",id:0};function s(t){return{fromBlock:c(t.fromBlock),toBlock:c(t.toBlock),addresses:void 0===t.address?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}function a(t){const e={fromBlock:u(t.fromBlock),toBlock:u(t.toBlock),topics:t.topics};return null!==t.addresses&&(e.address=t.addresses),e}function c(t){if(void 0===t||"latest"===t||"pending"===t)return"latest";if("earliest"===t)return(0,n.IntNumber)(0);if((0,i.isHexString)(t))return(0,i.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function u(t){return"latest"===t?t:(0,i.hexStringFromIntNumber)(t)}function l(){return Object.assign(Object.assign({},o),{error:{code:-32e3,message:"filter not found"}})}function h(){return Object.assign(Object.assign({},o),{result:[]})}e.FilterPolyfill=class{constructor(t){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,n.IntNumber)(1),this.provider=t}async newFilter(t){const e=s(t),r=this.makeFilterId(),n=await this.setInitialCursorPosition(r,e.fromBlock);return console.log(`Installing new log filter(${r}):`,e,"initial cursor position:",n),this.logFilters.set(r,e),this.setFilterTimeout(r),(0,i.hexStringFromIntNumber)(r)}async newBlockFilter(){const t=this.makeFilterId(),e=await this.setInitialCursorPosition(t,"latest");return console.log(`Installing new block filter (${t}) with initial cursor position:`,e),this.blockFilters.add(t),this.setFilterTimeout(t),(0,i.hexStringFromIntNumber)(t)}async newPendingTransactionFilter(){const t=this.makeFilterId(),e=await this.setInitialCursorPosition(t,"latest");return console.log(`Installing new block filter (${t}) with initial cursor position:`,e),this.pendingTransactionFilters.add(t),this.setFilterTimeout(t),(0,i.hexStringFromIntNumber)(t)}uninstallFilter(t){const e=(0,i.intNumberFromHexString)(t);return console.log(`Uninstalling filter (${e})`),this.deleteFilter(e),!0}getFilterChanges(t){const e=(0,i.intNumberFromHexString)(t);return this.timeouts.has(e)&&this.setFilterTimeout(e),this.logFilters.has(e)?this.getLogFilterChanges(e):this.blockFilters.has(e)?this.getBlockFilterChanges(e):this.pendingTransactionFilters.has(e)?this.getPendingTransactionFilterChanges(e):Promise.resolve(l())}async getFilterLogs(t){const e=(0,i.intNumberFromHexString)(t),r=this.logFilters.get(e);return r?this.sendAsyncPromise(Object.assign(Object.assign({},o),{method:"eth_getLogs",params:[a(r)]})):l()}makeFilterId(){return(0,n.IntNumber)(++this.nextFilterId)}sendAsyncPromise(t){return new Promise(((e,r)=>{this.provider.sendAsync(t,((t,n)=>t?r(t):Array.isArray(n)||null==n?r(new Error(`unexpected response received: ${JSON.stringify(n)}`)):void e(n)))}))}deleteFilter(t){console.log(`Deleting filter (${t})`),this.logFilters.delete(t),this.blockFilters.delete(t),this.pendingTransactionFilters.delete(t),this.cursors.delete(t),this.timeouts.delete(t)}async getLogFilterChanges(t){const e=this.logFilters.get(t),r=this.cursors.get(t);if(!r||!e)return l();const s=await this.getCurrentBlockHeight(),c="latest"===e.toBlock?s:e.toBlock;if(r>s)return h();if(r>e.toBlock)return h();console.log(`Fetching logs from ${r} to ${c} for filter ${t}`);const u=await this.sendAsyncPromise(Object.assign(Object.assign({},o),{method:"eth_getLogs",params:[a(Object.assign(Object.assign({},e),{fromBlock:r,toBlock:c}))]}));if(Array.isArray(u.result)){const e=u.result.map((t=>(0,i.intNumberFromHexString)(t.blockNumber||"0x0"))),o=Math.max(...e);if(o&&o>r){const e=(0,n.IntNumber)(o+1);console.log(`Moving cursor position for filter (${t}) from ${r} to ${e}`),this.cursors.set(t,e)}}return u}async getBlockFilterChanges(t){const e=this.cursors.get(t);if(!e)return l();const r=await this.getCurrentBlockHeight();if(e>r)return h();console.log(`Fetching blocks from ${e} to ${r} for filter (${t})`);const s=(await Promise.all((0,i.range)(e,r+1).map((t=>this.getBlockHashByNumber((0,n.IntNumber)(t)))))).filter((t=>!!t)),a=(0,n.IntNumber)(e+s.length);return console.log(`Moving cursor position for filter (${t}) from ${e} to ${a}`),this.cursors.set(t,a),Object.assign(Object.assign({},o),{result:s})}async getPendingTransactionFilterChanges(t){return Promise.resolve(h())}async setInitialCursorPosition(t,e){const r=await this.getCurrentBlockHeight(),n="number"==typeof e&&e>r?e:r;return this.cursors.set(t,n),n}setFilterTimeout(t){const e=this.timeouts.get(t);e&&window.clearTimeout(e);const r=window.setTimeout((()=>{console.log(`Filter (${t}) timed out`),this.deleteFilter(t)}),3e5);this.timeouts.set(t,r)}async getCurrentBlockHeight(){const{result:t}=await this.sendAsyncPromise(Object.assign(Object.assign({},o),{method:"eth_blockNumber",params:[]}));return(0,i.intNumberFromHexString)((0,i.ensureHexString)(t))}async getBlockHashByNumber(t){const e=await this.sendAsyncPromise(Object.assign(Object.assign({},o),{method:"eth_getBlockByNumber",params:[(0,i.hexStringFromIntNumber)(t),!1]}));return e.result&&"string"==typeof e.result.hash?(0,i.ensureHexString)(e.result.hash):null}},e.filterFromParam=s},8565:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.JSONRPCMethod=void 0,(r=e.JSONRPCMethod||(e.JSONRPCMethod={})).eth_accounts="eth_accounts",r.eth_coinbase="eth_coinbase",r.net_version="net_version",r.eth_chainId="eth_chainId",r.eth_uninstallFilter="eth_uninstallFilter",r.eth_requestAccounts="eth_requestAccounts",r.eth_sign="eth_sign",r.eth_ecRecover="eth_ecRecover",r.personal_sign="personal_sign",r.personal_ecRecover="personal_ecRecover",r.eth_signTransaction="eth_signTransaction",r.eth_sendRawTransaction="eth_sendRawTransaction",r.eth_sendTransaction="eth_sendTransaction",r.eth_signTypedData_v1="eth_signTypedData_v1",r.eth_signTypedData_v2="eth_signTypedData_v2",r.eth_signTypedData_v3="eth_signTypedData_v3",r.eth_signTypedData_v4="eth_signTypedData_v4",r.eth_signTypedData="eth_signTypedData",r.cbWallet_arbitrary="walletlink_arbitrary",r.wallet_addEthereumChain="wallet_addEthereumChain",r.wallet_switchEthereumChain="wallet_switchEthereumChain",r.wallet_watchAsset="wallet_watchAsset",r.eth_subscribe="eth_subscribe",r.eth_unsubscribe="eth_unsubscribe",r.eth_newFilter="eth_newFilter",r.eth_newBlockFilter="eth_newBlockFilter",r.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",r.eth_getFilterChanges="eth_getFilterChanges",r.eth_getFilterLogs="eth_getFilterLogs"},4729:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SubscriptionManager=void 0;const n=r(5012),i=r(8961),o=()=>{};e.SubscriptionManager=class{constructor(t){const e=new n({provider:t,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:r,middleware:o}=i({blockTracker:e,provider:t});this.events=r,this.subscriptionMiddleware=o}async handleRequest(t){const e={};return await this.subscriptionMiddleware(t,e,o,o),e}destroy(){this.subscriptionMiddleware.destroy()}}},3518:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletSDKUI=void 0;const n=r(8202),i=r(9934),o=r(7162);e.WalletSDKUI=class{constructor(t){this.attached=!1,this.snackbar=new i.Snackbar({darkMode:t.darkMode}),this.linkFlow=new n.LinkFlow({darkMode:t.darkMode,version:t.version,sessionId:t.session.id,sessionSecret:t.session.secret,linkAPIUrl:t.linkAPIUrl,connected$:t.connected$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const t=document.documentElement,e=document.createElement("div");e.className="-cbwsdk-css-reset",t.appendChild(e),this.linkFlow.attach(e),this.snackbar.attach(e),this.attached=!0,(0,o.injectCssReset)()}setConnectDisabled(t){this.linkFlow.setConnectDisabled(t)}addEthereumChain(t){}watchAsset(t){}switchEthereumChain(t){}requestEthereumAccounts(t){this.linkFlow.open({onCancel:t.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(t){}signEthereumTransaction(t){}submitEthereumTransaction(t){}ethereumAddressFromSignedMessage(t){}showConnecting(t){let e;return e=t.isUnlinkedErrorState?{autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]}:{message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:t.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]},this.snackbar.presentItem(e)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(t){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}}},5813:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.RelayMessageType=void 0,(r=e.RelayMessageType||(e.RelayMessageType={})).SESSION_ID_REQUEST="SESSION_ID_REQUEST",r.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",r.LINKED="LINKED",r.UNLINKED="UNLINKED",r.WEB3_REQUEST="WEB3_REQUEST",r.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",r.WEB3_RESPONSE="WEB3_RESPONSE"},3526:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Session=void 0;const n=r(2023),i=r(1759),o=r(9612),s=r(4643),a="session:id",c="session:secret",u="session:linked";class l{constructor(t,e,r,i){this._storage=t,this._id=e||(0,s.randomBytesHex)(16),this._secret=r||(0,s.randomBytesHex)(32);const o=n.sha256.create();o.update(`${this._id}, ${this._secret} WalletLink`),this._key=o.hex(),this._linked=!!i}static load(t){const e=t.getItem(a),r=t.getItem(u),n=t.getItem(c);return e&&n?new l(t,e,n,"1"===r):null}static get persistedSessionIdChange$(){return(0,i.fromEvent)(window,"storage").pipe((0,o.filter)((t=>t.key===a)),(0,o.map)((t=>({oldValue:t.oldValue||null,newValue:t.newValue||null}))))}static hash(t){return n.sha256.create().update(t).hex()}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(t){this._linked=t,this.persistLinked()}save(){return this._storage.setItem(a,this._id),this._storage.setItem(c,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(u,this._linked?"1":"0")}}e.Session=l},6570:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.WalletSDKRelay=void 0;const c=a(r(7056)),u=r(9826),l=r(1759),h=r(9612),d=r(3610),f=r(8876),p=r(4643),g=s(r(235)),y=r(3526),m=r(5633),b=r(9739),w=r(5186),v=r(3770),_=r(7386),E=r(287);class S extends m.WalletSDKRelayAbstract{constructor(t){super(),this.accountsCallback=null,this.chainCallback=null,this.appName="",this.appLogoUrl=null,this.subscriptions=new l.Subscription,this.linkAPIUrl=t.linkAPIUrl,this.storage=t.storage,this._session=y.Session.load(t.storage)||new y.Session(t.storage).save(),this.relayEventManager=t.relayEventManager,this.eventListener=t.eventListener,this.connection=new f.WalletSDKConnection(this._session.id,this._session.key,this.linkAPIUrl,this.eventListener),this.subscriptions.add(this.connection.incomingEvent$.pipe((0,h.filter)((t=>"Web3Response"===t.event))).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(this.connection.linked$.pipe((0,h.skip)(1),(0,h.tap)((t=>{var e;this.isLinked=t;const r=this.storage.getItem(m.LOCAL_STORAGE_ADDRESSES_KEY);if(t&&(this.session.linked=t),this.isUnlinkedErrorState=!1,r){const n=r.split(" "),i="true"===this.storage.getItem("IsStandaloneSigning");if(""!==n[0]&&!t&&this.session.linked&&!i){this.isUnlinkedErrorState=!0;const t=this.getSessionIdHash();null===(e=this.eventListener)||void 0===e||e.onEvent(d.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:t,origin:location.origin})}}}))).subscribe()),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,h.filter)((t=>!!t.metadata&&"1"===t.metadata.__destroyed))).subscribe((()=>{var t;const e=this.connection.isDestroyed;return null===(t=this.eventListener)||void 0===t||t.onEvent(d.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:e,sessionIdHash:this.getSessionIdHash(),origin:location.origin}),this.resetAndReload()}))),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,h.filter)((t=>t.metadata&&void 0!==t.metadata.WalletUsername))).pipe((0,h.mergeMap)((t=>g.decrypt(t.metadata.WalletUsername,this._session.secret)))).subscribe({next:t=>{this.storage.setItem(m.WALLET_USER_NAME_KEY,t)},error:()=>{var t;null===(t=this.eventListener)||void 0===t||t.onEvent(d.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,h.filter)((t=>t.metadata&&void 0!==t.metadata.AppVersion))).pipe((0,h.mergeMap)((t=>g.decrypt(t.metadata.AppVersion,this._session.secret)))).subscribe({next:t=>{this.storage.setItem(m.APP_VERSION_KEY,t)},error:()=>{var t;null===(t=this.eventListener)||void 0===t||t.onEvent(d.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,h.filter)((t=>t.metadata&&void 0!==t.metadata.ChainId&&void 0!==t.metadata.JsonRpcUrl))).pipe((0,h.mergeMap)((t=>(0,l.zip)(g.decrypt(t.metadata.ChainId,this._session.secret),g.decrypt(t.metadata.JsonRpcUrl,this._session.secret))))).pipe((0,h.distinctUntilChanged)()).subscribe({next:([t,e])=>{this.chainCallback&&this.chainCallback(t,e)},error:()=>{var t;null===(t=this.eventListener)||void 0===t||t.onEvent(d.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,h.filter)((t=>t.metadata&&void 0!==t.metadata.EthereumAddress))).pipe((0,h.mergeMap)((t=>g.decrypt(t.metadata.EthereumAddress,this._session.secret)))).subscribe({next:t=>{this.accountsCallback&&this.accountsCallback([t]),S.accountRequestCallbackIds.size>0&&(Array.from(S.accountRequestCallbackIds.values()).forEach((e=>{const r=(0,E.Web3ResponseMessage)({id:e,response:(0,_.RequestEthereumAccountsResponse)([t])});this.invokeCallback(Object.assign(Object.assign({},r),{id:e}))})),S.accountRequestCallbackIds.clear())},error:()=>{var t;null===(t=this.eventListener)||void 0===t||t.onEvent(d.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.ui=t.uiConstructor({linkAPIUrl:t.linkAPIUrl,version:t.version,darkMode:t.darkMode,session:this._session,connected$:this.connection.connected$}),this.connection.connect()}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,h.timeout)(1e3),(0,h.catchError)((t=>(0,l.of)(null)))).subscribe((t=>{var e,r,n;try{this.subscriptions.unsubscribe()}catch(t){null===(e=this.eventListener)||void 0===e||e.onEvent(d.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}null===(r=this.eventListener)||void 0===r||r.onEvent(d.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash(),origin:location.origin}),this.connection.destroy();const i=y.Session.load(this.storage);(null==i?void 0:i.id)===this._session.id?this.storage.clear():i&&(null===(n=this.eventListener)||void 0===n||n.onEvent(d.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:y.Session.hash(i.id),origin:location.origin})),this.ui.reloadUI()}),(t=>{var e;null===(e=this.eventListener)||void 0===e||e.onEvent(d.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${t}`,sessionIdHash:this.getSessionIdHash()})}))}setAppInfo(t,e){this.appName=t,this.appLogoUrl=e}getStorageItem(t){return this.storage.getItem(t)}get session(){return this._session}setStorageItem(t,e){this.storage.setItem(t,e)}signEthereumMessage(t,e,r,n){return this.sendRequest({method:b.Web3Method.signEthereumMessage,params:{message:(0,p.hexStringFromBuffer)(t,!0),address:e,addPrefix:r,typedDataJson:n||null}})}ethereumAddressFromSignedMessage(t,e,r){return this.sendRequest({method:b.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,p.hexStringFromBuffer)(t,!0),signature:(0,p.hexStringFromBuffer)(e,!0),addPrefix:r}})}signEthereumTransaction(t){return this.sendRequest({method:b.Web3Method.signEthereumTransaction,params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,p.bigIntStringFromBN)(t.weiValue),data:(0,p.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,p.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.gasPriceInWei?(0,p.bigIntStringFromBN)(t.gasPriceInWei):null,maxPriorityFeePerGas:t.gasPriceInWei?(0,p.bigIntStringFromBN)(t.gasPriceInWei):null,gasLimit:t.gasLimit?(0,p.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(t){return this.sendRequest({method:b.Web3Method.signEthereumTransaction,params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,p.bigIntStringFromBN)(t.weiValue),data:(0,p.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,p.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.maxFeePerGas?(0,p.bigIntStringFromBN)(t.maxFeePerGas):null,maxPriorityFeePerGas:t.maxPriorityFeePerGas?(0,p.bigIntStringFromBN)(t.maxPriorityFeePerGas):null,gasLimit:t.gasLimit?(0,p.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!0}})}submitEthereumTransaction(t,e){return this.sendRequest({method:b.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,p.hexStringFromBuffer)(t,!0),chainId:e}})}scanQRCode(t){return this.sendRequest({method:b.Web3Method.scanQRCode,params:{regExp:t}})}genericRequest(t,e){return this.sendRequest({method:b.Web3Method.generic,params:{action:e,data:t}})}sendGenericMessage(t){return this.sendRequest(t)}sendRequest(t){let e=null;const r=(0,p.randomBytesHex)(8),n=()=>{this.publishWeb3RequestCanceledEvent(r),this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:r,response:(0,_.ErrorResponse)(t.method,"User rejected request")})),null==e||e()};return{promise:new Promise(((i,o)=>{this.ui.isStandalone()||(e=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:n,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(r,(t=>{if(null==e||e(),t.errorMessage)return o(new Error(t.errorMessage));i(t)})),this.ui.isStandalone()?this.sendRequestStandalone(r,t):this.publishWeb3RequestEvent(r,t)})),cancel:n}}setConnectDisabled(t){this.ui.setConnectDisabled(t)}setAccountsCallback(t){this.accountsCallback=t}setChainCallback(t){this.chainCallback=t}publishWeb3RequestEvent(t,e){var r;const n=(0,v.Web3RequestMessage)({id:t,request:e}),i=y.Session.load(this.storage);null===(r=this.eventListener)||void 0===r||r.onEvent(d.EVENTS.WEB3_REQUEST,{eventId:n.id,method:`relay::${n.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:i?y.Session.hash(i.id):"",isSessionMismatched:((null==i?void 0:i.id)!==this._session.id).toString(),origin:location.origin}),this.subscriptions.add(this.publishEvent("Web3Request",n,!0).subscribe({next:t=>{var e;null===(e=this.eventListener)||void 0===e||e.onEvent(d.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:n.id,method:`relay::${n.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:i?y.Session.hash(i.id):"",isSessionMismatched:((null==i?void 0:i.id)!==this._session.id).toString(),origin:location.origin})},error:t=>{this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:n.id,response:{method:n.request.method,errorMessage:t.message}}))}}))}publishWeb3RequestCanceledEvent(t){const e=(0,w.Web3RequestCanceledMessage)(t);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",e,!1).subscribe())}publishEvent(t,e,r){const n=this.session.secret;return new l.Observable((t=>{g.encrypt(JSON.stringify(Object.assign(Object.assign({},e),{origin:location.origin})),n).then((e=>{t.next(e),t.complete()}))})).pipe((0,h.mergeMap)((e=>this.connection.publishEvent(t,e,r))))}handleIncomingEvent(t){try{this.subscriptions.add(g.decrypt(t.data,this.session.secret).pipe((0,h.map)((t=>JSON.parse(t)))).subscribe({next:t=>{const e=(0,E.isWeb3ResponseMessage)(t)?t:null;e&&this.handleWeb3ResponseMessage(e)},error:()=>{var t;null===(t=this.eventListener)||void 0===t||t.onEvent(d.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch(t){return}}handleWeb3ResponseMessage(t){var e;const{response:r}=t;if(null===(e=this.eventListener)||void 0===e||e.onEvent(d.EVENTS.WEB3_RESPONSE,{eventId:t.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash(),origin:location.origin}),(0,_.isRequestEthereumAccountsResponse)(r))return S.accountRequestCallbackIds.forEach((e=>this.invokeCallback(Object.assign(Object.assign({},t),{id:e})))),void S.accountRequestCallbackIds.clear();this.invokeCallback(t)}invokeCallback(t){const e=this.relayEventManager.callbacks.get(t.id);e&&(e(t.response),this.relayEventManager.callbacks.delete(t.id))}requestEthereumAccounts(){const t={method:b.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},e=(0,p.randomBytesHex)(8),r=()=>{this.publishWeb3RequestCanceledEvent(e),this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:e,response:(0,_.ErrorResponse)(t.method,"User rejected request")}))};return{promise:new Promise(((n,i)=>{var o;this.relayEventManager.callbacks.set(e,(t=>{if(this.ui.hideRequestEthereumAccounts(),t.errorMessage)return i(new Error(t.errorMessage));n(t)}));const s=(null===(o=null===window||void 0===window?void 0:window.navigator)||void 0===o?void 0:o.userAgent)||null;if(s&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(s))window.location.href=`https://go.cb-w.com/xoXnYwQimhb?cb_url=${encodeURIComponent(window.location.href)}`;else{if(this.ui.inlineAccountsResponse()){const t=t=>{this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:e,response:(0,_.RequestEthereumAccountsResponse)(t)}))};this.ui.requestEthereumAccounts({onCancel:r,onAccounts:t})}else this.ui.requestEthereumAccounts({onCancel:r});S.accountRequestCallbackIds.add(e),this.ui.inlineAccountsResponse()||this.ui.isStandalone()||this.publishWeb3RequestEvent(e,t)}})),cancel:r}}watchAsset(t,e,r,n,i,o){const s={method:b.Web3Method.watchAsset,params:{type:t,options:{address:e,symbol:r,decimals:n,image:i},chainId:o}};let a=null;const c=(0,p.randomBytesHex)(8),u=()=>{this.publishWeb3RequestCanceledEvent(c),this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:c,response:(0,_.ErrorResponse)(s.method,"User rejected request")})),null==a||a()};return this.ui.inlineWatchAsset()||(a=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload})),{cancel:u,promise:new Promise(((u,l)=>{this.relayEventManager.callbacks.set(c,(t=>{if(null==a||a(),t.errorMessage)return l(new Error(t.errorMessage));u(t)}));this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:()=>{this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:c,response:(0,_.WatchAssetReponse)(!0)}))},onCancel:()=>{this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:c,response:(0,_.WatchAssetReponse)(!1)}))},type:t,address:e,symbol:r,decimals:n,image:i,chainId:o}),this.ui.inlineWatchAsset()||this.ui.isStandalone()||this.publishWeb3RequestEvent(c,s)}))}}addEthereumChain(t,e,r,n,i,o){const s={method:b.Web3Method.addEthereumChain,params:{chainId:t,rpcUrls:e,blockExplorerUrls:n,chainName:i,iconUrls:r,nativeCurrency:o}};let a=null;const c=(0,p.randomBytesHex)(8),u=()=>{this.publishWeb3RequestCanceledEvent(c),this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:c,response:(0,_.ErrorResponse)(s.method,"User rejected request")})),null==a||a()};return this.ui.inlineAddEthereumChain(t)||(a=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload})),{promise:new Promise(((e,r)=>{this.relayEventManager.callbacks.set(c,(t=>{if(null==a||a(),t.errorMessage)return r(new Error(t.errorMessage));e(t)}));this.ui.inlineAddEthereumChain(t)&&this.ui.addEthereumChain({onCancel:()=>{this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:c,response:(0,_.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},onApprove:t=>{this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:c,response:(0,_.AddEthereumChainResponse)({isApproved:!0,rpcUrl:t})}))},chainId:s.params.chainId,rpcUrls:s.params.rpcUrls,blockExplorerUrls:s.params.blockExplorerUrls,chainName:s.params.chainName,iconUrls:s.params.iconUrls,nativeCurrency:s.params.nativeCurrency}),this.ui.inlineAddEthereumChain(t)||this.ui.isStandalone()||this.publishWeb3RequestEvent(c,s)})),cancel:u}}switchEthereumChain(t){const e={method:b.Web3Method.switchEthereumChain,params:{chainId:t}};let r=null;const n=(0,p.randomBytesHex)(8),i=()=>{this.publishWeb3RequestCanceledEvent(n),this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:n,response:(0,_.ErrorResponse)(e.method,"User rejected request")})),null==r||r()};return this.ui.inlineSwitchEthereumChain()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),{promise:new Promise(((t,i)=>{this.relayEventManager.callbacks.set(n,(e=>(null==r||r(),e.errorMessage&&e.errorCode?i(u.ethErrors.provider.custom({code:e.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."})):e.errorMessage?i(new Error(e.errorMessage)):void t(e)))),this.ui.switchEthereumChain({onCancel:t=>{t?this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:n,response:(0,_.ErrorResponse)(b.Web3Method.switchEthereumChain,"unsupported chainId",t)})):this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:n,response:(0,_.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},onApprove:t=>{this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:n,response:(0,_.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:t})}))},chainId:e.params.chainId}),this.ui.inlineSwitchEthereumChain()||this.ui.isStandalone()||this.publishWeb3RequestEvent(n,e)})),cancel:i}}inlineAddEthereumChain(t){return this.ui.inlineAddEthereumChain(t)}getSessionIdHash(){return y.Session.hash(this._session.id)}sendRequestStandalone(t,e){const r=()=>{this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:t,response:(0,_.ErrorResponse)(e.method,"User rejected request")}))},n=e=>{this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:t,response:e}))};switch(e.method){case b.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:e,onSuccess:n,onCancel:r});break;case b.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:e,onSuccess:n,onCancel:r});break;case b.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:e,onSuccess:n,onCancel:r});break;case b.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:e,onSuccess:n});break;default:r()}}}S.accountRequestCallbackIds=new Set,o([c.default],S.prototype,"resetAndReload",null),o([c.default],S.prototype,"handleIncomingEvent",null),e.WalletSDKRelay=S},5633:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletSDKRelayAbstract=e.APP_VERSION_KEY=e.LOCAL_STORAGE_ADDRESSES_KEY=e.WALLET_USER_NAME_KEY=void 0;const n=r(9826);e.WALLET_USER_NAME_KEY="walletUsername",e.LOCAL_STORAGE_ADDRESSES_KEY="Addresses",e.APP_VERSION_KEY="AppVersion",e.WalletSDKRelayAbstract=class{async makeEthereumJSONRPCRequest(t,e){if(!e)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(e,{method:"POST",body:JSON.stringify(t),mode:"cors",headers:{"Content-Type":"application/json"}}).then((t=>t.json())).then((t=>{if(!t)throw n.ethErrors.rpc.parse({});const e=t,{error:r}=e;if(r)throw(0,n.serializeError)(r);return e}))}}},7472:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletSDKRelayEventManager=void 0;const n=r(4643);e.WalletSDKRelayEventManager=class{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const t=this._nextRequestId,e=(0,n.prepend0x)(t.toString(16));return this.callbacks.get(e)&&this.callbacks.delete(e),t}}},9739:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.Web3Method=void 0,(r=e.Web3Method||(e.Web3Method={})).requestEthereumAccounts="requestEthereumAccounts",r.signEthereumMessage="signEthereumMessage",r.signEthereumTransaction="signEthereumTransaction",r.submitEthereumTransaction="submitEthereumTransaction",r.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",r.scanQRCode="scanQRCode",r.generic="generic",r.childRequestEthereumAccounts="childRequestEthereumAccounts",r.addEthereumChain="addEthereumChain",r.switchEthereumChain="switchEthereumChain",r.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",r.watchAsset="watchAsset"},5186:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Web3RequestCanceledMessage=void 0;const n=r(5813);e.Web3RequestCanceledMessage=function(t){return{type:n.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}},3770:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Web3RequestMessage=void 0;const n=r(5813);e.Web3RequestMessage=function(t){return Object.assign({type:n.RelayMessageType.WEB3_REQUEST},t)}},7386:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EthereumAddressFromSignedMessageResponse=e.SubmitEthereumTransactionResponse=e.SignEthereumTransactionResponse=e.SignEthereumMessageResponse=e.isRequestEthereumAccountsResponse=e.WatchAssetReponse=e.RequestEthereumAccountsResponse=e.SwitchEthereumChainResponse=e.AddEthereumChainResponse=e.ErrorResponse=void 0;const n=r(9739);e.ErrorResponse=function(t,e,r){return{method:t,errorMessage:e,errorCode:r}},e.AddEthereumChainResponse=function(t){return{method:n.Web3Method.addEthereumChain,result:t}},e.SwitchEthereumChainResponse=function(t){return{method:n.Web3Method.switchEthereumChain,result:t}},e.RequestEthereumAccountsResponse=function(t){return{method:n.Web3Method.requestEthereumAccounts,result:t}},e.WatchAssetReponse=function(t){return{method:n.Web3Method.watchAsset,result:t}},e.isRequestEthereumAccountsResponse=function(t){return t&&t.method===n.Web3Method.requestEthereumAccounts},e.SignEthereumMessageResponse=function(t){return{method:n.Web3Method.signEthereumMessage,result:t}},e.SignEthereumTransactionResponse=function(t){return{method:n.Web3Method.signEthereumTransaction,result:t}},e.SubmitEthereumTransactionResponse=function(t){return{method:n.Web3Method.submitEthereumTransaction,result:t}},e.EthereumAddressFromSignedMessageResponse=function(t){return{method:n.Web3Method.ethereumAddressFromSignedMessage,result:t}}},287:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isWeb3ResponseMessage=e.Web3ResponseMessage=void 0;const n=r(5813);e.Web3ResponseMessage=function(t){return Object.assign({type:n.RelayMessageType.WEB3_RESPONSE},t)},e.isWeb3ResponseMessage=function(t){return t&&t.type===n.RelayMessageType.WEB3_RESPONSE}},235:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decrypt=e.encrypt=void 0;const n=r(1759),i=r(4643);e.encrypt=async function(t,e){if(64!==e.length)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,i.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,o.encode(t)),a=s.slice(s.byteLength-16),c=s.slice(0,s.byteLength-16),u=new Uint8Array(a),l=new Uint8Array(c),h=new Uint8Array([...r,...u,...l]);return(0,i.uint8ArrayToHex)(h)},e.decrypt=function(t,e){if(64!==e.length)throw Error("secret must be 256 bits");return new n.Observable((r=>{!async function(){const n=await crypto.subtle.importKey("raw",(0,i.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=(0,i.hexStringToUint8Array)(t),s=o.slice(0,12),a=o.slice(12,28),c=o.slice(28),u=new Uint8Array([...c,...a]),l={name:"AES-GCM",iv:new Uint8Array(s)};try{const t=await window.crypto.subtle.decrypt(l,n,u),e=new TextDecoder;r.next(e.decode(t)),r.complete()}catch(t){r.error(t)}}()}))}},1295:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegExpString=e.IntNumber=e.BigIntString=e.AddressString=e.HexString=e.OpaqueType=void 0,e.OpaqueType=function(){return t=>t},e.HexString=t=>t,e.AddressString=t=>t,e.BigIntString=t=>t,e.IntNumber=function(t){return Math.floor(t)},e.RegExpString=t=>t},4643:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getFavicon=e.range=e.isBigNumber=e.ensureParsedJSONObject=e.ensureBN=e.ensureRegExpString=e.ensureIntNumber=e.ensureBuffer=e.ensureAddressString=e.ensureEvenLengthHexString=e.ensureHexString=e.isHexString=e.prepend0x=e.strip0x=e.has0xPrefix=e.hexStringFromIntNumber=e.intNumberFromHexString=e.bigIntStringFromBN=e.hexStringFromBuffer=e.hexStringToUint8Array=e.uint8ArrayToHex=e.randomBytesHex=void 0;const i=n(r(3550)),o=r(1295),s=/^[0-9]*$/,a=/^[a-f0-9]*$/;function c(t){return[...t].map((t=>t.toString(16).padStart(2,"0"))).join("")}function u(t){return t.startsWith("0x")||t.startsWith("0X")}function l(t){return u(t)?t.slice(2):t}function h(t){return u(t)?"0x"+t.slice(2):"0x"+t}function d(t){if("string"!=typeof t)return!1;const e=l(t).toLowerCase();return a.test(e)}function f(t,e=!1){if("string"==typeof t){const r=l(t).toLowerCase();if(a.test(r))return(0,o.HexString)(e?"0x"+r:r)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}function p(t,e=!1){let r=f(t,!1);return r.length%2==1&&(r=(0,o.HexString)("0"+r)),e?(0,o.HexString)("0x"+r):r}function g(t){if("number"==typeof t&&Number.isInteger(t))return(0,o.IntNumber)(t);if("string"==typeof t){if(s.test(t))return(0,o.IntNumber)(Number(t));if(d(t))return(0,o.IntNumber)(new i.default(p(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}function y(t){if(null==t||"function"!=typeof t.constructor)return!1;const{constructor:e}=t;return"function"==typeof e.config&&"number"==typeof e.EUCLID}e.randomBytesHex=function(t){return c(crypto.getRandomValues(new Uint8Array(t)))},e.uint8ArrayToHex=c,e.hexStringToUint8Array=function(t){return new Uint8Array(t.match(/.{1,2}/g).map((t=>parseInt(t,16))))},e.hexStringFromBuffer=function(t,e=!1){const r=t.toString("hex");return(0,o.HexString)(e?"0x"+r:r)},e.bigIntStringFromBN=function(t){return(0,o.BigIntString)(t.toString(10))},e.intNumberFromHexString=function(t){return(0,o.IntNumber)(new i.default(p(t,!1),16).toNumber())},e.hexStringFromIntNumber=function(t){return(0,o.HexString)("0x"+new i.default(t).toString(16))},e.has0xPrefix=u,e.strip0x=l,e.prepend0x=h,e.isHexString=d,e.ensureHexString=f,e.ensureEvenLengthHexString=p,e.ensureAddressString=function(t){if("string"==typeof t){const e=l(t).toLowerCase();if(d(e)&&40===e.length)return(0,o.AddressString)(h(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)},e.ensureBuffer=function(t){if(Buffer.isBuffer(t))return t;if("string"==typeof t){if(d(t)){const e=p(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw new Error(`Not binary data: ${String(t)}`)},e.ensureIntNumber=g,e.ensureRegExpString=function(t){if(t instanceof RegExp)return(0,o.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)},e.ensureBN=function(t){if(null!==t&&(i.default.isBN(t)||y(t)))return new i.default(t.toString(10),10);if("number"==typeof t)return new i.default(g(t));if("string"==typeof t){if(s.test(t))return new i.default(t,10);if(d(t))return new i.default(p(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)},e.ensureParsedJSONObject=function(t){if("string"==typeof t)return JSON.parse(t);if("object"==typeof t)return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)},e.isBigNumber=y,e.range=function(t,e){return Array.from({length:e-t},((e,r)=>t+r))},e.getFavicon=function(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}},6089:(t,e,r)=>{const n=r(2518),i=r(3550);function o(t){return t.startsWith("int[")?"int256"+t.slice(3):"int"===t?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):"uint"===t?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):"fixed"===t?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):"ufixed"===t?"ufixed128x128":t}function s(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function a(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function c(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?""===e[2]?"dynamic":parseInt(e[2],10):null}function u(t){var e=typeof t;if("string"===e)return n.isHexString(t)?new i(n.stripHexPrefix(t),16):new i(t,10);if("number"===e)return new i(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function l(t,e){var r,o,h,d;if("address"===t)return l("uint160",u(e));if("bool"===t)return l("uint8",e?1:0);if("string"===t)return l("bytes",new Buffer(e,"utf8"));if(function(t){return t.lastIndexOf("]")===t.length-1}(t)){if(void 0===e.length)throw new Error("Not an array?");if("dynamic"!==(r=c(t))&&0!==r&&e.length>r)throw new Error("Elements exceed array size: "+r);for(d in h=[],t=t.slice(0,t.lastIndexOf("[")),"string"==typeof e&&(e=JSON.parse(e)),e)h.push(l(t,e[d]));if("dynamic"===r){var f=l("uint256",e.length);h.unshift(f)}return Buffer.concat(h)}if("bytes"===t)return e=new Buffer(e),h=Buffer.concat([l("uint256",e.length),e]),e.length%32!=0&&(h=Buffer.concat([h,n.zeros(32-e.length%32)])),h;if(t.startsWith("bytes")){if((r=s(t))<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return n.setLengthRight(e,32)}if(t.startsWith("uint")){if((r=s(t))%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if((o=u(e)).bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+o.bitLength());if(o<0)throw new Error("Supplied uint is negative");return o.toArrayLike(Buffer,"be",32)}if(t.startsWith("int")){if((r=s(t))%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if((o=u(e)).bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+o.bitLength());return o.toTwos(256).toArrayLike(Buffer,"be",32)}if(t.startsWith("ufixed")){if(r=a(t),(o=u(e))<0)throw new Error("Supplied ufixed is negative");return l("uint256",o.mul(new i(2).pow(new i(r[1]))))}if(t.startsWith("fixed"))return r=a(t),l("int256",u(e).mul(new i(2).pow(new i(r[1]))));throw new Error("Unsupported or invalid type: "+t)}function h(t){return"string"===t||"bytes"===t||"dynamic"===c(t)}function d(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,i,a=[],c=0;c<t.length;c++){var l=o(t[c]),h=e[c];if("bytes"===l)a.push(h);else if("string"===l)a.push(new Buffer(h,"utf8"));else if("bool"===l)a.push(new Buffer(h?"01":"00","hex"));else if("address"===l)a.push(n.setLength(h,20));else if(l.startsWith("bytes")){if((r=s(l))<1||r>32)throw new Error("Invalid bytes<N> width: "+r);a.push(n.setLengthRight(h,r))}else if(l.startsWith("uint")){if((r=s(l))%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if((i=u(h)).bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+i.bitLength());a.push(i.toArrayLike(Buffer,"be",r/8))}else{if(!l.startsWith("int"))throw new Error("Unsupported or invalid type: "+l);if((r=s(l))%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if((i=u(h)).bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+i.bitLength());a.push(i.toTwos(r).toArrayLike(Buffer,"be",r/8))}}return Buffer.concat(a)}t.exports={rawEncode:function(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var a=o(t[s]),c=l(a,e[s]);h(a)?(r.push(l("uint256",i)),n.push(c),i+=c.length):r.push(c)}return Buffer.concat(r.concat(n))},solidityPack:d,soliditySHA3:function(t,e){return n.keccak(d(t,e))}}},4497:(t,e,r)=>{const n=r(2518),i=r(6089),o={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},s={encodeData(t,e,r,o=!0){const s=["bytes32"],a=[this.hashType(t,r)];if(o){const c=(t,e,s)=>{if(void 0!==r[e])return["bytes32",null==s?"0x0000000000000000000000000000000000000000000000000000000000000000":n.keccak(this.encodeData(e,s,r,o))];if(void 0===s)throw new Error(`missing value for field ${t} of type ${e}`);if("bytes"===e)return["bytes32",n.keccak(s)];if("string"===e)return"string"==typeof s&&(s=Buffer.from(s,"utf8")),["bytes32",n.keccak(s)];if(e.lastIndexOf("]")===e.length-1){const r=e.slice(0,e.lastIndexOf("[")),o=s.map((e=>c(t,r,e)));return["bytes32",n.keccak(i.rawEncode(o.map((([t])=>t)),o.map((([,t])=>t))))]}return[e,s]};for(const n of r[t]){const[t,r]=c(n.name,n.type,e[n.name]);s.push(t),a.push(r)}}else for(const i of r[t]){let t=e[i.name];if(void 0!==t)if("bytes"===i.type)s.push("bytes32"),t=n.keccak(t),a.push(t);else if("string"===i.type)s.push("bytes32"),"string"==typeof t&&(t=Buffer.from(t,"utf8")),t=n.keccak(t),a.push(t);else if(void 0!==r[i.type])s.push("bytes32"),t=n.keccak(this.encodeData(i.type,t,r,o)),a.push(t);else{if(i.type.lastIndexOf("]")===i.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");s.push(i.type),a.push(t)}}return i.rawEncode(s,a)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter((e=>e!==t));n=[t].concat(n.sort());for(const t of n){if(!e[t])throw new Error("No type definition specified: "+t);r+=t+"("+e[t].map((({name:t,type:e})=>e+" "+t)).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||void 0===e[t])return r;r.push(t);for(const n of e[t])for(const t of this.findTypeDependencies(n.type,e,r))!r.includes(t)&&r.push(t);return r},hashStruct(t,e,r,i=!0){return n.keccak(this.encodeData(t,e,r,i))},hashType(t,e){return n.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in o.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),i=[Buffer.from("1901","hex")];return i.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),"EIP712Domain"!==r.primaryType&&i.push(this.hashStruct(r.primaryType,r.message,r.types,e)),n.keccak(Buffer.concat(i))}};t.exports={TYPED_MESSAGE_SCHEMA:o,TypedDataUtils:s,hashForSignTypedDataLegacy:function(t){return function(t){const e=new Error("Expect argument to be non-empty array");if("object"!=typeof t||!t.length)throw e;const r=t.map((function(t){return"bytes"===t.type?n.toBuffer(t.value):t.value})),o=t.map((function(t){return t.type})),s=t.map((function(t){if(!t.name)throw e;return t.type+" "+t.name}));return i.soliditySHA3(["bytes32","bytes32"],[i.soliditySHA3(new Array(t.length).fill("string"),s),i.soliditySHA3(o,r)])}(t.data)},hashForSignTypedData_v3:function(t){return s.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return s.hash(t.data)}}},2518:(t,e,r)=>{const n=r(8598),i=r(3550);function o(t){return Buffer.allocUnsafe(t).fill(0)}function s(t,e,r){const n=o(e);return t=a(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function a(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if("string"==typeof t)t=c(t)?Buffer.from((e=u(t)).length%2?"0"+e:e,"hex"):Buffer.from(t);else if("number"==typeof t)t=intToBuffer(t);else if(null==t)t=Buffer.allocUnsafe(0);else if(i.isBN(t))t=t.toArrayLike(Buffer);else{if(!t.toArray)throw new Error("invalid type");t=Buffer.from(t.toArray())}var e;return t}function c(t){return"string"==typeof t&&t.match(/^0x[0-9A-Fa-f]*$/)}function u(t){return"string"==typeof t&&t.startsWith("0x")?t.slice(2):t}t.exports={zeros:o,setLength:s,setLengthRight:function(t,e){return s(t,e,!0)},isHexString:c,stripHexPrefix:u,toBuffer:a,bufferToHex:function(t){return"0x"+(t=a(t)).toString("hex")},keccak:function(t,e){return t=a(t),e||(e=256),n("keccak"+e).update(t).digest()}}},7713:t=>{function e(t){this.mode=n.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var i=[],o=this.data.charCodeAt(e);o>65536?(i[0]=240|(1835008&o)>>>18,i[1]=128|(258048&o)>>>12,i[2]=128|(4032&o)>>>6,i[3]=128|63&o):o>2048?(i[0]=224|(61440&o)>>>12,i[1]=128|(4032&o)>>>6,i[2]=128|63&o):o>128?(i[0]=192|(1984&o)>>>6,i[1]=128|63&o):i[0]=o,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function r(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}e.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}},r.prototype={addData:function(t){var r=new e(t);this.dataList.push(r),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=r.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(this.modules[t+r][e+n]=0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=i.getLostPoint(this);(0==r||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r);this.make();for(var i=0;i<this.modules.length;i++)for(var o=1*i,s=0;s<this.modules[i].length;s++){var a=1*s;this.modules[i][s]&&(n.beginFill(0,100),n.moveTo(a,o),n.lineTo(a+1,o),n.lineTo(a+1,o+1),n.lineTo(a,o+1),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=i.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],o=t[r];if(null==this.modules[n][o])for(var s=-2;s<=2;s++)for(var a=-2;a<=2;a++)this.modules[n+s][o+a]=-2==s||2==s||-2==a||2==a||0==s&&0==a}},setupTypeNumber:function(t){for(var e=i.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(r=0;r<18;r++)n=!t&&1==(e>>r&1),this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=i.getBCHTypeInfo(r),o=0;o<15;o++){var s=!t&&1==(n>>o&1);o<6?this.modules[o][8]=s:o<8?this.modules[o+1][8]=s:this.modules[this.moduleCount-15+o][8]=s}for(o=0;o<15;o++)s=!t&&1==(n>>o&1),o<8?this.modules[8][this.moduleCount-o-1]=s:o<9?this.modules[8][15-o-1+1]=s:this.modules[8][15-o-1]=s;this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,o=7,s=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var c=0;c<2;c++)if(null==this.modules[n][a-c]){var u=!1;s<t.length&&(u=1==(t[s]>>>o&1)),i.getMask(e,n,a-c)&&(u=!u),this.modules[n][a-c]=u,-1==--o&&(s++,o=7)}if((n+=r)<0||this.moduleCount<=n){n-=r,r=-r;break}}}},r.PAD0=236,r.PAD1=17,r.createData=function(t,e,n){for(var o=c.getRSBlocks(t,e),s=new u,a=0;a<n.length;a++){var l=n[a];s.put(l.mode,4),s.put(l.getLength(),i.getLengthInBits(l.mode,t)),l.write(s)}var h=0;for(a=0;a<o.length;a++)h+=o[a].dataCount;if(s.getLengthInBits()>8*h)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*h+")");for(s.getLengthInBits()+4<=8*h&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*h||(s.put(r.PAD0,8),s.getLengthInBits()>=8*h));)s.put(r.PAD1,8);return r.createBytes(s,o)},r.createBytes=function(t,e){for(var r=0,n=0,o=0,s=new Array(e.length),c=new Array(e.length),u=0;u<e.length;u++){var l=e[u].dataCount,h=e[u].totalCount-l;n=Math.max(n,l),o=Math.max(o,h),s[u]=new Array(l);for(var d=0;d<s[u].length;d++)s[u][d]=255&t.buffer[d+r];r+=l;var f=i.getErrorCorrectPolynomial(h),p=new a(s[u],f.getLength()-1).mod(f);for(c[u]=new Array(f.getLength()-1),d=0;d<c[u].length;d++){var g=d+p.getLength()-c[u].length;c[u][d]=g>=0?p.get(g):0}}var y=0;for(d=0;d<e.length;d++)y+=e[d].totalCount;var m=new Array(y),b=0;for(d=0;d<n;d++)for(u=0;u<e.length;u++)d<s[u].length&&(m[b++]=s[u][d]);for(d=0;d<o;d++)for(u=0;u<e.length;u++)d<c[u].length&&(m[b++]=c[u][d]);return m};for(var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;i.getBCHDigit(e)-i.getBCHDigit(i.G15)>=0;)e^=i.G15<<i.getBCHDigit(e)-i.getBCHDigit(i.G15);return(t<<10|e)^i.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;i.getBCHDigit(e)-i.getBCHDigit(i.G18)>=0;)e^=i.G18<<i.getBCHDigit(e)-i.getBCHDigit(i.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return i.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case 0:return(e+r)%2==0;case 1:return e%2==0;case 2:return r%3==0;case 3:return(e+r)%3==0;case 4:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case 5:return e*r%2+e*r%3==0;case 6:return(e*r%2+e*r%3)%2==0;case 7:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new a([1],0),r=0;r<t;r++)e=e.multiply(new a([1,o.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var o=0,s=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||0==a&&0==c||s==t.isDark(n+a,i+c)&&o++;o>5&&(r+=3+o-5)}for(n=0;n<e-1;n++)for(i=0;i<e-1;i++){var u=0;t.isDark(n,i)&&u++,t.isDark(n+1,i)&&u++,t.isDark(n,i+1)&&u++,t.isDark(n+1,i+1)&&u++,0!=u&&4!=u||(r+=3)}for(n=0;n<e;n++)for(i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(i=0;i<e;i++)for(n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);var l=0;for(i=0;i<e;i++)for(n=0;n<e;n++)t.isDark(n,i)&&l++;return r+Math.abs(100*l/e/e-50)/5*10}},o={glog:function(t){if(t<1)throw new Error("glog("+t+")");return o.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return o.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},s=0;s<8;s++)o.EXP_TABLE[s]=1<<s;for(s=8;s<256;s++)o.EXP_TABLE[s]=o.EXP_TABLE[s-4]^o.EXP_TABLE[s-5]^o.EXP_TABLE[s-6]^o.EXP_TABLE[s-8];for(s=0;s<255;s++)o.LOG_TABLE[o.EXP_TABLE[s]]=s;function a(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}function c(t,e){this.totalCount=t,this.dataCount=e}function u(){this.buffer=[],this.length=0}a.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=o.gexp(o.glog(this.get(r))+o.glog(t.get(n)));return new a(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=o.glog(this.get(0))-o.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(n=0;n<t.getLength();n++)r[n]^=o.gexp(o.glog(t.get(n))+e);return new a(r,0).mod(t)}},c.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],c.getRSBlocks=function(t,e){var r=c.getRsBlockTable(t,e);if(null==r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],o=0;o<n;o++)for(var s=r[3*o+0],a=r[3*o+1],u=r[3*o+2],l=0;l<s;l++)i.push(new c(a,u));return i},c.getRsBlockTable=function(t,e){switch(e){case 1:return c.RS_BLOCK_TABLE[4*(t-1)+0];case 0:return c.RS_BLOCK_TABLE[4*(t-1)+1];case 3:return c.RS_BLOCK_TABLE[4*(t-1)+2];case 2:return c.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},u.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var l=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function h(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},"string"==typeof t&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var n=this.options.content,i=function(t,e){for(var r=function(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}(t),n=1,i=0,o=0,s=l.length;o<=s;o++){var a=l[o];if(!a)throw new Error("Content too long: expected "+i+" but got "+r);switch(e){case"L":i=a[0];break;case"M":i=a[1];break;case"Q":i=a[2];break;case"H":i=a[3];break;default:throw new Error("Unknwon error correction level: "+e)}if(r<=i)break;n++}if(n>l.length)throw new Error("Content too long");return n}(n,this.options.ecl),o=function(t){switch(t){case"L":return 1;case"M":return 0;case"Q":return 3;case"H":return 2;default:throw new Error("Unknwon error correction level: "+t)}}(this.options.ecl);this.qrcode=new r(i,o),this.qrcode.addData(n),this.qrcode.make()}h.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;void 0===t&&(t={container:e.container||"svg"});for(var n=void 0===e.pretty||!!e.pretty,i=n?"  ":"",o=n?"\r\n":"",s=e.width,a=e.height,c=r.length,u=s/(c+2*e.padding),l=a/(c+2*e.padding),h=void 0!==e.join&&!!e.join,d=void 0!==e.swap&&!!e.swap,f=void 0===e.xmlDeclaration||!!e.xmlDeclaration,p=void 0!==e.predefined&&!!e.predefined,g=p?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+u+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+o:"",y=i+'<rect x="0" y="0" width="'+s+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+o,m="",b="",w=0;w<c;w++)for(var v=0;v<c;v++)if(r[v][w]){var _=v*u+e.padding*u,E=w*l+e.padding*l;if(d){var S=_;_=E,E=S}if(h){var k=u+_,x=l+E;_=Number.isInteger(_)?Number(_):_.toFixed(2),E=Number.isInteger(E)?Number(E):E.toFixed(2),k=Number.isInteger(k)?Number(k):k.toFixed(2),b+="M"+_+","+E+" V"+(x=Number.isInteger(x)?Number(x):x.toFixed(2))+" H"+k+" V"+E+" H"+_+" Z "}else m+=p?i+'<use x="'+_.toString()+'" y="'+E.toString()+'" href="#qrmodule" />'+o:i+'<rect x="'+_.toString()+'" y="'+E.toString()+'" width="'+u+'" height="'+l+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+o}h&&(m=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+b+'" />');let A="";if(void 0!==this.options.image&&this.options.image.svg){const t=s*this.options.image.width/100,e=a*this.options.image.height/100;A+=`<svg x="${s/2-t/2}" y="${a/2-e/2}" width="${t}" height="${e}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,A+=this.options.image.svg+o,A+="</svg>"}var I="";switch(t.container){case"svg":f&&(I+='<?xml version="1.0" standalone="yes"?>'+o),I+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+s+'" height="'+a+'">'+o,I+=g+y+m,I+=A,I+="</svg>";break;case"svg-viewbox":f&&(I+='<?xml version="1.0" standalone="yes"?>'+o),I+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+s+" "+a+'">'+o,I+=g+y+m,I+=A,I+="</svg>";break;case"g":I+='<g width="'+s+'" height="'+a+'">'+o,I+=g+y+m,I+=A,I+="</g>";break;default:I+=(g+y+m+A).replace(/^\s+/,"")}return I},t.exports=h},3604:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LIB_VERSION=void 0,e.LIB_VERSION="3.0.4"},1759:(t,e,r)=>{"use strict";r.r(e),r.d(e,{ArgumentOutOfRangeError:()=>O.W,AsyncSubject:()=>l.c,BehaviorSubject:()=>c.X,ConnectableObservable:()=>i.c,EMPTY:()=>Z.E,EmptyError:()=>P.K,GroupedObservable:()=>o.T,NEVER:()=>ht,Notification:()=>x.P,NotificationKind:()=>x.W,ObjectUnsubscribedError:()=>R.N,Observable:()=>n.y,ReplaySubject:()=>u.t,Scheduler:()=>E.b,Subject:()=>a.xQ,Subscriber:()=>k.L,Subscription:()=>S.w,TimeoutError:()=>N.W,UnsubscriptionError:()=>M.B,VirtualAction:()=>_,VirtualTimeScheduler:()=>v,animationFrame:()=>w,animationFrameScheduler:()=>b,asap:()=>h.e,asapScheduler:()=>h.E,async:()=>d.P,asyncScheduler:()=>d.z,bindCallback:()=>U,bindNodeCallback:()=>W,combineLatest:()=>V.aj,concat:()=>K.z,config:()=>Ct.v,defer:()=>G.P,empty:()=>Z.c,forkJoin:()=>X,from:()=>J.D,fromEvent:()=>et,fromEventPattern:()=>nt,generate:()=>it,identity:()=>T.y,iif:()=>st,interval:()=>ct,isObservable:()=>C,merge:()=>lt.T,never:()=>dt,noop:()=>I.Z,observable:()=>s.L,of:()=>ft.of,onErrorResumeNext:()=>pt,pairs:()=>gt,partition:()=>vt,pipe:()=>A.z,queue:()=>f.c,queueScheduler:()=>f.N,race:()=>_t.S3,range:()=>Et,scheduled:()=>Tt.x,throwError:()=>kt._,timer:()=>xt.H,using:()=>At,zip:()=>It.$R});var n=r(8687),i=r(5623),o=r(3592),s=r(3917),a=r(3037),c=r(9381),u=r(436),l=r(5343),h=r(8792),d=r(1055),f=r(7164),p=r(5313),g=r(1765),y=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return p.ZT(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))},e.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(cancelAnimationFrame(r),e.scheduled=void 0)},e}(g.o),m=r(5780),b=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p.ZT(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,i=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<i&&(t=r.shift()));if(this.active=!1,e){for(;++n<i&&(t=r.shift());)t.unsubscribe();throw e}},e}(m.v))(y),w=b,v=function(t){function e(e,r){void 0===e&&(e=_),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=t.call(this,e,(function(){return n.frame}))||this;return n.maxFrames=r,n.frame=0,n.index=-1,n}return p.ZT(e,t),e.prototype.flush=function(){for(var t,e,r=this.actions,n=this.maxFrames;(e=r[0])&&e.delay<=n&&(r.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=r.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(m.v),_=function(t){function e(e,r,n){void 0===n&&(n=e.index+=1);var i=t.call(this,e,r)||this;return i.scheduler=e,i.work=r,i.index=n,i.active=!0,i.index=e.index=n,i}return p.ZT(e,t),e.prototype.schedule=function(r,n){if(void 0===n&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(t,r,n){void 0===n&&(n=0),this.delay=t.frame+n;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,r){void 0===r&&(r=0)},e.prototype._execute=function(e,r){if(!0===this.active)return t.prototype._execute.call(this,e,r)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(g.o),E=r(6145),S=r(5587),k=r(960),x=r(2672),A=r(6883),I=r(2082),T=r(3562);function C(t){return!!t&&(t instanceof n.y||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var O=r(9371),P=r(166),R=r(2962),M=r(8642),N=r(4839),L=r(7054),B=r(6659),D=r(8354),j=r(6306);function U(t,e,r){if(e){if(!(0,j.K)(e))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return U(t,r).apply(void 0,n).pipe((0,L.U)((function(t){return(0,D.k)(t)?e.apply(void 0,t):e(t)})))};r=e}return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o,s=this,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new n.y((function(n){if(r){var i={args:e,subscriber:n,params:a};return r.schedule(z,0,i)}if(!o){o=new l.c;try{t.apply(s,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.next(t.length<=1?t[0]:t),o.complete()}]))}catch(t){(0,B._)(o)?o.error(t):console.warn(t)}}return o.subscribe(n)}))}}function z(t){var e=this,r=t.args,n=t.subscriber,i=t.params,o=i.callbackFunc,s=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new l.c;try{o.apply(s,r.concat([function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.length<=1?t[0]:t;e.add(a.schedule(F,0,{value:n,subject:c}))}]))}catch(t){c.error(t)}}this.add(c.subscribe(n))}function F(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function W(t,e,r){if(e){if(!(0,j.K)(e))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return W(t,r).apply(void 0,n).pipe((0,L.U)((function(t){return(0,D.k)(t)?e.apply(void 0,t):e(t)})))};r=e}return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o={subject:void 0,args:e,callbackFunc:t,scheduler:r,context:this};return new n.y((function(n){var i=o.context,s=o.subject;if(r)return r.schedule($,0,{params:o,subscriber:n,context:i});if(!s){s=o.subject=new l.c;try{t.apply(i,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.shift();r?s.error(r):(s.next(t.length<=1?t[0]:t),s.complete())}]))}catch(t){(0,B._)(s)?s.error(t):console.warn(t)}}return s.subscribe(n)}))}}function $(t){var e=this,r=t.params,n=t.subscriber,i=t.context,o=r.callbackFunc,s=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new l.c;try{o.apply(i,s.concat([function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.shift();if(n)e.add(a.schedule(H,0,{err:n,subject:c}));else{var i=t.length<=1?t[0]:t;e.add(a.schedule(q,0,{value:i,subject:c}))}}]))}catch(t){this.add(a.schedule(H,0,{err:t,subject:c}))}}this.add(c.subscribe(n))}function q(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function H(t){var e=t.err;t.subject.error(e)}var V=r(6864),K=r(961),G=r(9052),Z=r(9117),Y=r(8011),J=r(3279);function X(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var r=t[0];if((0,D.k)(r))return Q(r,null);if((0,Y.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Q(n.map((function(t){return r[t]})),n)}}if("function"==typeof t[t.length-1]){var i=t.pop();return Q(t=1===t.length&&(0,D.k)(t[0])?t[0]:t,null).pipe((0,L.U)((function(t){return i.apply(void 0,t)})))}return Q(t,null)}function Q(t,e){return new n.y((function(r){var n=t.length;if(0!==n)for(var i=new Array(n),o=0,s=0,a=function(a){var c=(0,J.D)(t[a]),u=!1;r.add(c.subscribe({next:function(t){u||(u=!0,s++),i[a]=t},error:function(t){return r.error(t)},complete:function(){++o!==n&&u||(s===n&&r.next(e?e.reduce((function(t,e,r){return t[e]=i[r],t}),{}):i),r.complete())}}))},c=0;c<n;c++)a(c);else r.complete()}))}var tt=r(3991);function et(t,e,r,i){return(0,tt.m)(r)&&(i=r,r=void 0),i?et(t,e,r).pipe((0,L.U)((function(t){return(0,D.k)(t)?i.apply(void 0,t):i(t)}))):new n.y((function(n){rt(t,e,(function(t){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(t)}),n,r)}))}function rt(t,e,r,n,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var s=t;t.addEventListener(e,r,i),o=function(){return s.removeEventListener(e,r,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var a=t;t.on(e,r),o=function(){return a.off(e,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var c=t;t.addListener(e,r),o=function(){return c.removeListener(e,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,l=t.length;u<l;u++)rt(t[u],e,r,n,i)}n.add(o)}function nt(t,e,r){return r?nt(t,e).pipe((0,L.U)((function(t){return(0,D.k)(t)?r.apply(void 0,t):r(t)}))):new n.y((function(r){var n,i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(1===t.length?t[0]:t)};try{n=t(i)}catch(t){return void r.error(t)}if((0,tt.m)(e))return function(){return e(i,n)}}))}function it(t,e,r,i,o){var s,a;if(1==arguments.length){var c=t;a=c.initialState,e=c.condition,r=c.iterate,s=c.resultSelector||T.y,o=c.scheduler}else void 0===i||(0,j.K)(i)?(a=t,s=T.y,o=i):(a=t,s=i);return new n.y((function(t){var n=a;if(o)return o.schedule(ot,0,{subscriber:t,iterate:r,condition:e,resultSelector:s,state:n});for(;;){if(e){var i=void 0;try{i=e(n)}catch(e){return void t.error(e)}if(!i){t.complete();break}}var c=void 0;try{c=s(n)}catch(e){return void t.error(e)}if(t.next(c),t.closed)break;try{n=r(n)}catch(e){return void t.error(e)}}}))}function ot(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(t){return void e.error(t)}if(!n)return void e.complete();if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function st(t,e,r){return void 0===e&&(e=Z.E),void 0===r&&(r=Z.E),(0,G.P)((function(){return t()?e:r}))}var at=r(4090);function ct(t,e){return void 0===t&&(t=0),void 0===e&&(e=d.P),(!(0,at.k)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=d.P),new n.y((function(r){return r.add(e.schedule(ut,t,{subscriber:r,counter:0,period:t})),r}))}function ut(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}var lt=r(8051),ht=new n.y(I.Z);function dt(){return ht}var ft=r(7010);function pt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return Z.E;var r=t[0],i=t.slice(1);return 1===t.length&&(0,D.k)(r)?pt.apply(void 0,r):new n.y((function(t){var e=function(){return t.add(pt.apply(void 0,i).subscribe(t))};return(0,J.D)(r).subscribe({next:function(e){t.next(e)},error:e,complete:e})}))}function gt(t,e){return e?new n.y((function(r){var n=Object.keys(t),i=new S.w;return i.add(e.schedule(yt,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i})):new n.y((function(e){for(var r=Object.keys(t),n=0;n<r.length&&!e.closed;n++){var i=r[n];t.hasOwnProperty(i)&&e.next([i,t[i]])}e.complete()}))}function yt(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,o=t.obj;if(!n.closed)if(r<e.length){var s=e[r];n.next([s,o[s]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}var mt=r(4409),bt=r(310),wt=r(363);function vt(t,e,r){return[(0,wt.h)(e,r)(new n.y((0,bt.s)(t))),(0,wt.h)((0,mt.f)(e,r))(new n.y((0,bt.s)(t)))]}var _t=r(1340);function Et(t,e,r){return void 0===t&&(t=0),new n.y((function(n){void 0===e&&(e=t,t=0);var i=0,o=t;if(r)return r.schedule(St,0,{index:i,count:e,start:t,subscriber:n});for(;;){if(i++>=e){n.complete();break}if(n.next(o++),n.closed)break}}))}function St(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;r>=n?i.complete():(i.next(e),i.closed||(t.index=r+1,t.start=e+1,this.schedule(t)))}var kt=r(1885),xt=r(9126);function At(t,e){return new n.y((function(r){var n,i;try{n=t()}catch(t){return void r.error(t)}try{i=e(n)}catch(t){return void r.error(t)}var o=(i?(0,J.D)(i):Z.E).subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}}))}var It=r(5071),Tt=r(4886),Ct=r(538)},5343:(t,e,r)=>{"use strict";r.d(e,{c:()=>s});var n=r(5313),i=r(3037),o=r(5587),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return n.ZT(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),o.w.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.w.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(i.xQ)},9381:(t,e,r)=>{"use strict";r.d(e,{X:()=>s});var n=r(5313),i=r(3037),o=r(2962),s=function(t){function e(e){var r=t.call(this)||this;return r._value=e,r}return n.ZT(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.N;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.xQ)},2672:(t,e,r)=>{"use strict";r.d(e,{P:()=>a,W:()=>n});var n,i=r(9117),o=r(7010),s=r(1885);n||(n={});var a=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return(0,s._)(this.error);case"C":return(0,i.c)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},8687:(t,e,r)=>{"use strict";r.d(e,{y:()=>l});var n=r(6659),i=r(960),o=r(5095),s=r(4054),a=r(3917),c=r(6883),u=r(538),l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,a=function(t,e,r){if(t){if(t instanceof i.L)return t;if(t[o.b])return t[o.b]()}return t||e||r?new i.L(t,e,r):new i.L(s.c)}(t,e,r);if(n?a.add(n.call(a,this.source)):a.add(this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),(0,n._)(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=h(e))((function(e,n){var i;i=r.subscribe((function(e){try{t(e)}catch(t){n(t),i&&i.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.L]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:(0,c.U)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=h(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function h(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},4054:(t,e,r)=>{"use strict";r.d(e,{c:()=>o});var n=r(538),i=r(1195),o={closed:!0,next:function(t){},error:function(t){if(n.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete:function(){}}},2031:(t,e,r)=>{"use strict";r.d(e,{L:()=>i});var n=r(5313),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.ZT(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(r(960).L)},436:(t,e,r)=>{"use strict";r.d(e,{t:()=>l});var n=r(5313),i=r(3037),o=r(7164),s=r(5587),a=r(1373),c=r(2962),u=r(6897),l=function(t){function e(e,r,n){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=n,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return n.ZT(e,t),e.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var r=this._events;r.push(e),r.length>this._bufferSize&&r.shift()}t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new h(this._getNow(),e)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._infiniteTimeWindow,n=r?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=n.length;if(this.closed)throw new c.N;if(this.isStopped||this.hasError?e=s.w.EMPTY:(this.observers.push(t),e=new u.W(this,t)),i&&t.add(t=new a.ht(t,i)),r)for(var l=0;l<o&&!t.closed;l++)t.next(n[l]);else for(l=0;l<o&&!t.closed;l++)t.next(n[l].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||o.c).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,o=0;o<i&&!(t-n[o].time<r);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&n.splice(0,o),n},e}(i.xQ),h=function(){return function(t,e){this.time=t,this.value=e}}()},6145:(t,e,r)=>{"use strict";r.d(e,{b:()=>n});var n=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=function(){return Date.now()},t}()},3037:(t,e,r)=>{"use strict";r.d(e,{Yc:()=>l,xQ:()=>h});var n=r(5313),i=r(8687),o=r(960),s=r(5587),a=r(2962),c=r(6897),u=r(5095),l=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return n.ZT(e,t),e}(o.L),h=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return n.ZT(e,t),e.prototype[u.b]=function(){return new l(this)},e.prototype.lift=function(t){var e=new d(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.N;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.N;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.N;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.N;return this.hasError?(t.error(this.thrownError),s.w.EMPTY):this.isStopped?(t.complete(),s.w.EMPTY):(this.observers.push(t),new c.W(this,t))},e.prototype.asObservable=function(){var t=new i.y;return t.source=this,t},e.create=function(t,e){return new d(t,e)},e}(i.y),d=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return n.ZT(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.w.EMPTY},e}(h)},6897:(t,e,r)=>{"use strict";r.d(e,{W:()=>i});var n=r(5313),i=function(t){function e(e,r){var n=t.call(this)||this;return n.subject=e,n.subscriber=r,n.closed=!1,n}return n.ZT(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(r(5587).w)},960:(t,e,r)=>{"use strict";r.d(e,{L:()=>l});var n=r(5313),i=r(3991),o=r(4054),s=r(5587),a=r(5095),c=r(538),u=r(1195),l=function(t){function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.c;break;case 1:if(!r){s.destination=o.c;break}if("object"==typeof r){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new h(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new h(s,r,n,i)}return s}return n.ZT(e,t),e.prototype[a.b]=function(){return this},e.create=function(t,r,n){var i=new e(t,r,n);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(s.w),h=function(t){function e(e,r,n,s){var a,c=t.call(this)||this;c._parentSubscriber=e;var u=c;return(0,i.m)(r)?a=r:r&&(a=r.next,n=r.error,s=r.complete,r!==o.c&&(u=Object.create(r),(0,i.m)(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=a,c._error=n,c._complete=s,c}return n.ZT(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=c.v.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.z)(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;(0,u.z)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};c.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),c.v.useDeprecatedSynchronousErrorHandling)throw t;(0,u.z)(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!c.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return c.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):((0,u.z)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},5587:(t,e,r)=>{"use strict";r.d(e,{w:()=>a});var n=r(8354),i=r(8011),o=r(3991),s=r(8642),a=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,a=r._parentOrParents,u=r._ctorUnsubscribe,l=r._unsubscribe,h=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof t)a.remove(this);else if(null!==a)for(var d=0;d<a.length;++d)a[d].remove(this);if((0,o.m)(l)){u&&(this._unsubscribe=void 0);try{l.call(this)}catch(t){e=t instanceof s.B?c(t.errors):[t]}}if((0,n.k)(h)){d=-1;for(var f=h.length;++d<f;){var p=h[d];if((0,i.K)(p))try{p.unsubscribe()}catch(t){e=e||[],t instanceof s.B?e=e.concat(c(t.errors)):e.push(t)}}}if(e)throw new s.B(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[r]:o.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function c(t){return t.reduce((function(t,e){return t.concat(e instanceof s.B?e.errors:e)}),[])}},538:(t,e,r)=>{"use strict";r.d(e,{v:()=>i});var n=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,n=t},get useDeprecatedSynchronousErrorHandling(){return n}}},5994:(t,e,r)=>{"use strict";r.d(e,{Ds:()=>c,IY:()=>a,ft:()=>u});var n=r(5313),i=r(960),o=r(8687),s=r(310),a=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,r}return n.ZT(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(i.L),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.ZT(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(i.L);function u(t,e){if(!e.closed){if(t instanceof o.y)return t.subscribe(e);var r;try{r=(0,s.s)(t)(e)}catch(t){e.error(t)}return r}}},5623:(t,e,r)=>{"use strict";r.d(e,{N:()=>u,c:()=>c});var n=r(5313),i=r(3037),o=r(8687),s=r(5587),a=r(6287),c=function(t){function e(e,r){var n=t.call(this)||this;return n.source=e,n.subjectFactory=r,n._refCount=0,n._isComplete=!1,n}return n.ZT(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new s.w).add(this.source.subscribe(new l(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.w.EMPTY)),t},e.prototype.refCount=function(){return(0,a.x)()(this)},e}(o.y),u=function(){var t=c.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),l=function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return n.ZT(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.Yc)},6864:(t,e,r)=>{"use strict";r.d(e,{Ms:()=>h,aj:()=>l});var n=r(5313),i=r(6306),o=r(8354),s=r(2031),a=r(4076),c=r(5319),u={};function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return(0,i.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&(0,o.k)(t[0])&&(t=t[0]),(0,c.n)(t,n).lift(new h(r))}var h=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new d(t,this.resultSelector))},t}(),d=function(t){function e(e,r){var n=t.call(this,e)||this;return n.resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return n.ZT(e,t),e.prototype._next=function(t){this.values.push(u),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var n=t[r];this.add((0,a.D)(this,n,void 0,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r){var n=this.values,i=n[r],o=this.toRespond?i===u?--this.toRespond:this.toRespond:0;n[r]=e,0===o&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(s.L)},961:(t,e,r)=>{"use strict";r.d(e,{z:()=>o});var n=r(7010),i=r(2953);function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,i.u)()(n.of.apply(void 0,t))}},9052:(t,e,r)=>{"use strict";r.d(e,{P:()=>s});var n=r(8687),i=r(3279),o=r(9117);function s(t){return new n.y((function(e){var r;try{r=t()}catch(t){return void e.error(t)}return(r?(0,i.D)(r):(0,o.c)()).subscribe(e)}))}},9117:(t,e,r)=>{"use strict";r.d(e,{E:()=>i,c:()=>o});var n=r(8687),i=new n.y((function(t){return t.complete()}));function o(t){return t?function(t){return new n.y((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},3279:(t,e,r)=>{"use strict";r.d(e,{D:()=>s});var n=r(8687),i=r(310),o=r(4886);function s(t,e){return e?(0,o.x)(t,e):t instanceof n.y?t:new n.y((0,i.s)(t))}},5319:(t,e,r)=>{"use strict";r.d(e,{n:()=>s});var n=r(8687),i=r(958),o=r(2272);function s(t,e){return e?(0,o.r)(t,e):new n.y((0,i.V)(t))}},8051:(t,e,r)=>{"use strict";r.d(e,{T:()=>a});var n=r(8687),i=r(6306),o=r(7522),s=r(5319);function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,a=null,c=t[t.length-1];return(0,i.K)(c)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof c&&(r=t.pop()),null===a&&1===t.length&&t[0]instanceof n.y?t[0]:(0,o.J)(r)((0,s.n)(t,a))}},7010:(t,e,r)=>{"use strict";r.d(e,{of:()=>s});var n=r(6306),i=r(5319),o=r(2272);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return(0,n.K)(r)?(t.pop(),(0,o.r)(t,r)):(0,i.n)(t)}},1340:(t,e,r)=>{"use strict";r.d(e,{S3:()=>c});var n=r(5313),i=r(8354),o=r(5319),s=r(2031),a=r(4076);function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!(0,i.k)(t[0]))return t[0];t=t[0]}return(0,o.n)(t,void 0).lift(new u)}var u=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new l(t))},t}(),l=function(t){function e(e){var r=t.call(this,e)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return n.ZT(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var r=0;r<e&&!this.hasFirst;r++){var n=t[r],i=(0,a.D)(this,n,void 0,r);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,r){if(!this.hasFirst){this.hasFirst=!0;for(var n=0;n<this.subscriptions.length;n++)if(n!==r){var i=this.subscriptions[n];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(e)},e}(s.L)},1885:(t,e,r)=>{"use strict";r.d(e,{_:()=>i});var n=r(8687);function i(t,e){return e?new n.y((function(r){return e.schedule(o,0,{error:t,subscriber:r})})):new n.y((function(e){return e.error(t)}))}function o(t){var e=t.error;t.subscriber.error(e)}},9126:(t,e,r)=>{"use strict";r.d(e,{H:()=>a});var n=r(8687),i=r(1055),o=r(4090),s=r(6306);function a(t,e,r){void 0===t&&(t=0);var a=-1;return(0,o.k)(e)?a=Number(e)<1?1:Number(e):(0,s.K)(e)&&(r=e),(0,s.K)(r)||(r=i.P),new n.y((function(e){var n=(0,o.k)(t)?t:+t-r.now();return r.schedule(c,n,{index:0,period:a,subscriber:e})}))}function c(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(-1===r)return n.complete();t.index=e+1,this.schedule(t,r)}}},5071:(t,e,r)=>{"use strict";r.d(e,{$R:()=>u,mx:()=>l});var n=r(5313),i=r(5319),o=r(8354),s=r(960),a=r(2963),c=r(5994);function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),(0,i.n)(t,void 0).lift(new l(r))}var l=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.resultSelector))},t}(),h=function(t){function e(e,r,n){void 0===n&&(n=Object.create(null));var i=t.call(this,e)||this;return i.resultSelector=r,i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:void 0,i}return n.ZT(e,t),e.prototype._next=function(t){var e=this.iterators;(0,o.k)(t)?e.push(new f(t)):"function"==typeof t[a.hZ]?e.push(new d(t[a.hZ]())):e.push(new p(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var r=0;r<e;r++){var n=t[r];n.stillUnsubscribed?this.destination.add(n.subscribe()):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,n=0;n<e;n++)if("function"==typeof(s=t[n]).hasValue&&!s.hasValue())return;var i=!1,o=[];for(n=0;n<e;n++){var s,a=(s=t[n]).next();if(s.hasCompleted()&&(i=!0),a.done)return void r.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):r.next(o),i&&r.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(s.L),d=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return Boolean(t&&t.done)},t}(),f=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[a.hZ]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),p=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.parent=r,i.observable=n,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return n.ZT(e,t),e.prototype[a.hZ]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(){return(0,c.ft)(this.observable,new c.IY(this))},e}(c.Ds)},2953:(t,e,r)=>{"use strict";r.d(e,{u:()=>i});var n=r(7522);function i(){return(0,n.J)(1)}},363:(t,e,r)=>{"use strict";r.d(e,{h:()=>o});var n=r(5313),i=r(960);function o(t,e){return function(r){return r.lift(new s(t,e))}}var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.thisArg=n,i.count=0,i}return n.ZT(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.L)},3592:(t,e,r)=>{"use strict";r.d(e,{T:()=>d,v:()=>c});var n=r(5313),i=r(960),o=r(5587),s=r(8687),a=r(3037);function c(t,e,r,n){return function(i){return i.lift(new u(t,e,r,n))}}var u=function(){function t(t,e,r,n){this.keySelector=t,this.elementSelector=e,this.durationSelector=r,this.subjectSelector=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),l=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;return s.keySelector=r,s.elementSelector=n,s.durationSelector=i,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return n.ZT(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups=new Map);var n,i=r.get(e);if(this.elementSelector)try{n=this.elementSelector(t)}catch(t){this.error(t)}else n=t;if(!i){i=this.subjectSelector?this.subjectSelector():new a.xQ,r.set(e,i);var o=new d(e,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new d(e,i))}catch(t){return void this.error(t)}this.add(s.subscribe(new h(e,i,this)))}}i.closed||i.next(n)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach((function(e,r){e.error(t)})),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach((function(t,e){t.complete()})),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(i.L),h=function(t){function e(e,r,n){var i=t.call(this,r)||this;return i.key=e,i.group=r,i.parent=n,i}return n.ZT(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(i.L),d=function(t){function e(e,r,n){var i=t.call(this)||this;return i.key=e,i.groupSubject=r,i.refCountSubscription=n,i}return n.ZT(e,t),e.prototype._subscribe=function(t){var e=new o.w,r=this.refCountSubscription,n=this.groupSubject;return r&&!r.closed&&e.add(new f(r)),e.add(n.subscribe(t)),e},e}(s.y),f=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,e.count++,r}return n.ZT(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(o.w)},7054:(t,e,r)=>{"use strict";r.d(e,{U:()=>o});var n=r(5313),i=r(960);function o(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new s(t,e))}}var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}(),a=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.project=r,i.count=0,i.thisArg=n||i,i}return n.ZT(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.L)},7522:(t,e,r)=>{"use strict";r.d(e,{J:()=>o});var n=r(6136),i=r(3562);function o(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),(0,n.zg)(i.y,t)}},6136:(t,e,r)=>{"use strict";r.d(e,{VS:()=>l,zg:()=>a});var n=r(5313),i=r(7054),o=r(3279),s=r(5994);function a(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof e?function(n){return n.pipe(a((function(r,n){return(0,o.D)(t(r,n)).pipe((0,i.U)((function(t,i){return e(r,t,n,i)})))}),r))}:("number"==typeof e&&(r=e),function(e){return e.lift(new c(t,r))})}var c=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.concurrent))},t}(),u=function(t){function e(e,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=r,i.concurrent=n,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return n.ZT(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new s.IY(this),r=this.destination;r.add(e);var n=(0,s.ft)(t,e);n!==e&&r.add(n)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.Ds),l=a},1373:(t,e,r)=>{"use strict";r.d(e,{QV:()=>s,ht:()=>c});var n=r(5313),i=r(960),o=r(2672);function s(t,e){return void 0===e&&(e=0),function(r){return r.lift(new a(t,e))}}var a=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.scheduler,this.delay))},t}(),c=function(t){function e(e,r,n){void 0===n&&(n=0);var i=t.call(this,e)||this;return i.scheduler=r,i.delay=n,i}return n.ZT(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new u(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(o.P.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(o.P.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(o.P.createComplete()),this.unsubscribe()},e}(i.L),u=function(){return function(t,e){this.notification=t,this.destination=e}}()},6287:(t,e,r)=>{"use strict";r.d(e,{x:()=>o});var n=r(5313),i=r(960);function o(){return function(t){return t.lift(new s(t))}}var s=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new a(t,r),i=e.subscribe(n);return n.closed||(n.connection=r.connect()),i},t}(),a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return n.ZT(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},e}(i.L)},2272:(t,e,r)=>{"use strict";r.d(e,{r:()=>o});var n=r(8687),i=r(5587);function o(t,e){return new n.y((function(r){var n=new i.w,o=0;return n.add(e.schedule((function(){o!==t.length?(r.next(t[o++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}},4886:(t,e,r)=>{"use strict";r.d(e,{x:()=>l});var n=r(8687),i=r(5587),o=r(3917),s=r(2272),a=r(2963),c=r(3484),u=r(8581);function l(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.L]}(t))return function(t,e){return new n.y((function(r){var n=new i.w;return n.add(e.schedule((function(){var i=t[o.L]();n.add(i.subscribe({next:function(t){n.add(e.schedule((function(){return r.next(t)})))},error:function(t){n.add(e.schedule((function(){return r.error(t)})))},complete:function(){n.add(e.schedule((function(){return r.complete()})))}}))}))),n}))}(t,e);if((0,c.t)(t))return function(t,e){return new n.y((function(r){var n=new i.w;return n.add(e.schedule((function(){return t.then((function(t){n.add(e.schedule((function(){r.next(t),n.add(e.schedule((function(){return r.complete()})))})))}),(function(t){n.add(e.schedule((function(){return r.error(t)})))}))}))),n}))}(t,e);if((0,u.z)(t))return(0,s.r)(t,e);if(function(t){return t&&"function"==typeof t[a.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new n.y((function(r){var n,o=new i.w;return o.add((function(){n&&"function"==typeof n.return&&n.return()})),o.add(e.schedule((function(){n=t[a.hZ](),o.add(e.schedule((function(){if(!r.closed){var t,e;try{var i=n.next();t=i.value,e=i.done}catch(t){return void r.error(t)}e?r.complete():(r.next(t),this.schedule())}})))}))),o}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},1765:(t,e,r)=>{"use strict";r.d(e,{o:()=>i});var n=r(5313),i=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.pending=!1,n}return n.ZT(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,r){return t.call(this)||this}return n.ZT(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(r(5587).w))},5780:(t,e,r)=>{"use strict";r.d(e,{v:()=>o});var n=r(5313),i=r(6145),o=function(t){function e(r,n){void 0===n&&(n=i.b.now);var o=t.call(this,r,(function(){return e.delegate&&e.delegate!==o?e.delegate.now():n()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return n.ZT(e,t),e.prototype.schedule=function(r,n,i){return void 0===n&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(i.b)},8792:(t,e,r)=>{"use strict";r.d(e,{e:()=>l,E:()=>u});var n=r(5313),i=1,o=function(){return Promise.resolve()}(),s={};function a(t){return t in s&&(delete s[t],!0)}var c=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return n.ZT(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=(c=e.flush.bind(e,null),u=i++,s[u]=!0,o.then((function(){return a(u)&&c()})),u)));var c,u},e.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(a(r),e.scheduled=void 0)},e}(r(1765).o),u=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.ZT(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,i=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<i&&(t=r.shift()));if(this.active=!1,e){for(;++n<i&&(t=r.shift());)t.unsubscribe();throw e}},e}(r(5780).v))(c),l=u},1055:(t,e,r)=>{"use strict";r.d(e,{P:()=>o,z:()=>i});var n=r(1765),i=new(r(5780).v)(n.o),o=i},7164:(t,e,r)=>{"use strict";r.d(e,{c:()=>s,N:()=>o});var n=r(5313),i=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return n.ZT(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,n):e.flush(this)},e}(r(1765).o),o=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.ZT(e,t),e}(r(5780).v))(i),s=o},2963:(t,e,r)=>{"use strict";function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}r.d(e,{hZ:()=>i});var i=n()},3917:(t,e,r)=>{"use strict";r.d(e,{L:()=>n});var n=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},5095:(t,e,r)=>{"use strict";r.d(e,{b:()=>n});var n=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},9371:(t,e,r)=>{"use strict";r.d(e,{W:()=>n});var n=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}()},166:(t,e,r)=>{"use strict";r.d(e,{K:()=>n});var n=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}()},2962:(t,e,r)=>{"use strict";r.d(e,{N:()=>n});var n=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},4839:(t,e,r)=>{"use strict";r.d(e,{W:()=>n});var n=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}()},8642:(t,e,r)=>{"use strict";r.d(e,{B:()=>n});var n=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}()},6659:(t,e,r)=>{"use strict";r.d(e,{_:()=>i});var n=r(960);function i(t){for(;t;){var e=t,r=e.closed,i=e.destination,o=e.isStopped;if(r||o)return!1;t=i&&i instanceof n.L?i:null}return!0}},1195:(t,e,r)=>{"use strict";function n(t){setTimeout((function(){throw t}),0)}r.d(e,{z:()=>n})},3562:(t,e,r)=>{"use strict";function n(t){return t}r.d(e,{y:()=>n})},8354:(t,e,r)=>{"use strict";r.d(e,{k:()=>n});var n=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}()},8581:(t,e,r)=>{"use strict";r.d(e,{z:()=>n});var n=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},3991:(t,e,r)=>{"use strict";function n(t){return"function"==typeof t}r.d(e,{m:()=>n})},4090:(t,e,r)=>{"use strict";r.d(e,{k:()=>i});var n=r(8354);function i(t){return!(0,n.k)(t)&&t-parseFloat(t)+1>=0}},8011:(t,e,r)=>{"use strict";function n(t){return null!==t&&"object"==typeof t}r.d(e,{K:()=>n})},3484:(t,e,r)=>{"use strict";function n(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}r.d(e,{t:()=>n})},6306:(t,e,r)=>{"use strict";function n(t){return t&&"function"==typeof t.schedule}r.d(e,{K:()=>n})},2082:(t,e,r)=>{"use strict";function n(){}r.d(e,{Z:()=>n})},4409:(t,e,r)=>{"use strict";function n(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}r.d(e,{f:()=>n})},6883:(t,e,r)=>{"use strict";r.d(e,{U:()=>o,z:()=>i});var n=r(3562);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return 0===t.length?n.y:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}},310:(t,e,r)=>{"use strict";r.d(e,{s:()=>l});var n=r(958),i=r(1195),o=r(2963),s=r(3917),a=r(8581),c=r(3484),u=r(8011),l=function(t){if(t&&"function"==typeof t[s.L])return l=t,function(t){var e=l[s.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,n.V)(t);if((0,c.t)(t))return r=t,function(t){return r.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,i.z),t};if(t&&"function"==typeof t[o.hZ])return e=t,function(t){for(var r=e[o.hZ]();;){var n=void 0;try{n=r.next()}catch(e){return t.error(e),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof r.return&&t.add((function(){r.return&&r.return()})),t};var e,r,l,h=(0,u.K)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+h+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},958:(t,e,r)=>{"use strict";r.d(e,{V:()=>n});var n=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}}},4076:(t,e,r)=>{"use strict";r.d(e,{D:()=>a});var n=r(5313),i=function(t){function e(e,r,n){var i=t.call(this)||this;return i.parent=e,i.outerValue=r,i.outerIndex=n,i.index=0,i}return n.ZT(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(r(960).L),o=r(310),s=r(8687);function a(t,e,r,n,a){if(void 0===a&&(a=new i(t,r,n)),!a.closed)return e instanceof s.y?e.subscribe(a):(0,o.s)(e)(a)}},9612:(t,e,r)=>{"use strict";r.r(e),r.d(e,{audit:()=>o,auditTime:()=>l,buffer:()=>h,bufferCount:()=>g,bufferTime:()=>v,bufferToggle:()=>O,bufferWhen:()=>M,catchError:()=>B,combineAll:()=>z,combineLatest:()=>$,concat:()=>H,concatAll:()=>V.u,concatMap:()=>G,concatMapTo:()=>Z,count:()=>Y,debounce:()=>Q,debounceTime:()=>rt,defaultIfEmpty:()=>st,delay:()=>ht,delayWhen:()=>yt,dematerialize:()=>_t,distinct:()=>kt,distinctUntilChanged:()=>It,distinctUntilKeyChanged:()=>Ot,elementAt:()=>Wt,endWith:()=>qt,every:()=>Ht,exhaust:()=>Gt,exhaustMap:()=>Xt,expand:()=>ee,filter:()=>Rt.h,finalize:()=>ie,find:()=>ae,findIndex:()=>le,first:()=>de,flatMap:()=>K.VS,groupBy:()=>fe.v,ignoreElements:()=>pe,isEmpty:()=>me,last:()=>Se,map:()=>Jt.U,mapTo:()=>ke,materialize:()=>Ie,max:()=>Le,merge:()=>De,mergeAll:()=>je.J,mergeMap:()=>K.zg,mergeMapTo:()=>Ue,mergeScan:()=>ze,min:()=>$e,multicast:()=>He,observeOn:()=>Ke.QV,onErrorResumeNext:()=>Ge,pairwise:()=>Je,partition:()=>er,pluck:()=>rr,publish:()=>ir,publishBehavior:()=>sr,publishLast:()=>cr,publishReplay:()=>lr,race:()=>dr,reduce:()=>Ne,refCount:()=>xr.x,repeat:()=>fr,repeatWhen:()=>yr,retry:()=>wr,retryWhen:()=>Er,sample:()=>Ar,sampleTime:()=>Cr,scan:()=>Oe,sequenceEqual:()=>Mr,share:()=>jr,shareReplay:()=>Ur,single:()=>zr,skip:()=>$r,skipLast:()=>Vr,skipUntil:()=>Zr,skipWhile:()=>Xr,startWith:()=>en,subscribeOn:()=>sn,switchAll:()=>hn,switchMap:()=>cn,switchMapTo:()=>dn,take:()=>Ut,takeLast:()=>ve,takeUntil:()=>fn,takeWhile:()=>yn,tap:()=>_n,throttle:()=>xn,throttleTime:()=>Tn,throwIfEmpty:()=>Nt,timeInterval:()=>Mn,timeout:()=>zn,timeoutWith:()=>Bn,timestamp:()=>Fn,toArray:()=>qn,window:()=>Hn,windowCount:()=>Gn,windowTime:()=>Jn,windowToggle:()=>ii,windowWhen:()=>ai,withLatestFrom:()=>li,zip:()=>pi,zipAll:()=>gi});var n=r(5313),i=r(5994);function o(t){return function(e){return e.lift(new s(t))}}var s=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.durationSelector))},t}(),a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.durationSelector=r,n.hasValue=!1,n}return n.ZT(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(t){return this.destination.error(t)}var r=(0,i.ft)(e,new i.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}},e.prototype.clearThrottle=function(){var t=this,e=t.value,r=t.hasValue,n=t.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),r&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(i.Ds),c=r(1055),u=r(9126);function l(t,e){return void 0===e&&(e=c.P),o((function(){return(0,u.H)(t,e)}))}function h(t){return function(e){return e.lift(new d(t))}}var d=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.closingNotifier))},t}(),f=function(t){function e(e,r){var n=t.call(this,e)||this;return n.buffer=[],n.add((0,i.ft)(r,new i.IY(n))),n}return n.ZT(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(){var t=this.buffer;this.buffer=[],this.destination.next(t)},e}(i.Ds),p=r(960);function g(t,e){return void 0===e&&(e=null),function(r){return r.lift(new y(t,e))}}var y=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?b:m}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),m=function(t){function e(e,r){var n=t.call(this,e)||this;return n.bufferSize=r,n.buffer=[],n}return n.ZT(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},e}(p.L),b=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.bufferSize=r,i.startBufferEvery=n,i.buffers=[],i.count=0,i}return n.ZT(e,t),e.prototype._next=function(t){var e=this,r=e.bufferSize,n=e.startBufferEvery,i=e.buffers,o=e.count;this.count++,o%n==0&&i.push([]);for(var s=i.length;s--;){var a=i[s];a.push(t),a.length===r&&(i.splice(s,1),this.destination.next(a))}},e.prototype._complete=function(){for(var e=this.buffers,r=this.destination;e.length>0;){var n=e.shift();n.length>0&&r.next(n)}t.prototype._complete.call(this)},e}(p.L),w=r(6306);function v(t){var e=arguments.length,r=c.P;(0,w.K)(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(e){return e.lift(new _(t,n,i,r))}}var _=function(){function t(t,e,r,n){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new S(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),E=function(){return function(){this.buffer=[]}}(),S=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;s.bufferTimeSpan=r,s.bufferCreationInterval=n,s.maxBufferSize=i,s.scheduler=o,s.contexts=[];var a=s.openContext();if(s.timespanOnly=null==n||n<0,s.timespanOnly){var c={subscriber:s,context:a,bufferTimeSpan:r};s.add(a.closeAction=o.schedule(k,r,c))}else{var u={subscriber:s,context:a},l={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:s,scheduler:o};s.add(a.closeAction=o.schedule(A,r,u)),s.add(o.schedule(x,n,l))}return s}return n.ZT(e,t),e.prototype._next=function(t){for(var e,r=this.contexts,n=r.length,i=0;i<n;i++){var o=r[i],s=o.buffer;s.push(t),s.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts,r=this.destination;e.length>0;){var n=e.shift();r.next(n.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:t,bufferTimeSpan:r};this.add(t.closeAction=this.scheduler.schedule(k,r,n))}},e.prototype.openContext=function(){var t=new E;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(p.L);function k(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function x(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,o=n.openContext();n.closed||(n.add(o.closeAction=i.schedule(A,r,{subscriber:n,context:o})),this.schedule(t,e))}function A(t){var e=t.subscriber,r=t.context;e.closeContext(r)}var I=r(5587),T=r(4076),C=r(2031);function O(t,e){return function(r){return r.lift(new P(t,e))}}var P=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new R(t,this.openings,this.closingSelector))},t}(),R=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.closingSelector=n,i.contexts=[],i.add((0,T.D)(i,r)),i}return n.ZT(e,t),e.prototype._next=function(t){for(var e=this.contexts,r=e.length,n=0;n<r;n++)e[n].buffer.push(t)},e.prototype._error=function(e){for(var r=this.contexts;r.length>0;){var n=r.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var r=e.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(t){this._error(t)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var r=t.buffer,n=t.subscription;this.destination.next(r),e.splice(e.indexOf(t),1),this.remove(n),n.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,r=new I.w,n={buffer:[],subscription:r};e.push(n);var i=(0,T.D)(this,t,n);!i||i.closed?this.closeBuffer(n):(i.context=n,this.add(i),r.add(i))},e}(C.L);function M(t){return function(e){return e.lift(new N(t))}}var N=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new L(t,this.closingSelector))},t}(),L=function(t){function e(e,r){var n=t.call(this,e)||this;return n.closingSelector=r,n.subscribing=!1,n.openBuffer(),n}return n.ZT(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e,r=this.buffer;this.buffer&&this.destination.next(r),this.buffer=[];try{e=(0,this.closingSelector)()}catch(t){return this.error(t)}t=new I.w,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add((0,i.ft)(e,new i.IY(this))),this.subscribing=!1},e}(i.Ds);function B(t){return function(e){var r=new D(t),n=e.lift(r);return r.caught=n}}var D=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new j(t,this.selector,this.caught))},t}(),j=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.selector=r,i.caught=n,i}return n.ZT(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=void 0;try{r=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle();var n=new i.IY(this);this.add(n);var o=(0,i.ft)(r,n);o!==n&&this.add(o)}},e}(i.Ds),U=r(6864);function z(t){return function(e){return e.lift(new U.Ms(t))}}var F=r(8354),W=r(3279);function $(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&(0,F.k)(t[0])&&(t=t[0].slice()),function(e){return e.lift.call((0,W.D)([e].concat(t)),new U.Ms(r))}}var q=r(961);function H(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(q.z.apply(void 0,[e].concat(t)))}}var V=r(2953),K=r(6136);function G(t,e){return(0,K.zg)(t,e,1)}function Z(t,e){return G((function(){return t}),e)}function Y(t){return function(e){return e.lift(new J(t,e))}}var J=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new X(t,this.predicate,this.source))},t}(),X=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.source=n,i.count=0,i.index=0,i}return n.ZT(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(p.L);function Q(t){return function(e){return e.lift(new tt(t))}}var tt=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new et(t,this.durationSelector))},t}(),et=function(t){function e(e,r){var n=t.call(this,e)||this;return n.durationSelector=r,n.hasValue=!1,n}return n.ZT(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=(0,i.ft)(e,new i.IY(this)))&&!r.closed&&this.add(this.durationSubscription=r)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,r=this.durationSubscription;r&&(this.durationSubscription=void 0,r.unsubscribe(),this.remove(r)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(i.Ds);function rt(t,e){return void 0===e&&(e=c.P),function(r){return r.lift(new nt(t,e))}}var nt=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new it(t,this.dueTime,this.scheduler))},t}(),it=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.dueTime=r,i.scheduler=n,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return n.ZT(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ot,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(p.L);function ot(t){t.debouncedNext()}function st(t){return void 0===t&&(t=null),function(e){return e.lift(new at(t))}}var at=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new ct(t,this.defaultValue))},t}(),ct=function(t){function e(e,r){var n=t.call(this,e)||this;return n.defaultValue=r,n.isEmpty=!0,n}return n.ZT(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(p.L);function ut(t){return t instanceof Date&&!isNaN(+t)}var lt=r(2672);function ht(t,e){void 0===e&&(e=c.P);var r=ut(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new dt(r,e))}}var dt=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new ft(t,this.delay,this.scheduler))},t}(),ft=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.delay=r,i.scheduler=n,i.queue=[],i.active=!1,i.errored=!1,i}return n.ZT(e,t),e.dispatch=function(t){for(var e=t.source,r=e.queue,n=t.scheduler,i=t.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var o=Math.max(0,r[0].time-n.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,r=new pt(e.now()+this.delay,t);this.queue.push(r),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(lt.P.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(lt.P.createComplete()),this.unsubscribe()},e}(p.L),pt=function(){return function(t,e){this.time=t,this.notification=e}}(),gt=r(8687);function yt(t,e){return e?function(r){return new wt(r,e).lift(new mt(t))}:function(e){return e.lift(new mt(t))}}var mt=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new bt(t,this.delayDurationSelector))},t}(),bt=function(t){function e(e,r){var n=t.call(this,e)||this;return n.delayDurationSelector=r,n.completed=!1,n.delayNotifierSubscriptions=[],n.index=0,n}return n.ZT(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){var e=this.index++;try{var r=this.delayDurationSelector(t,e);r&&this.tryDelay(r,t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue},e.prototype.tryDelay=function(t,e){var r=(0,T.D)(this,t,e);r&&!r.closed&&(this.destination.add(r),this.delayNotifierSubscriptions.push(r))},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(C.L),wt=function(t){function e(e,r){var n=t.call(this)||this;return n.source=e,n.subscriptionDelay=r,n}return n.ZT(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new vt(t,this.source))},e}(gt.y),vt=function(t){function e(e,r){var n=t.call(this)||this;return n.parent=e,n.source=r,n.sourceSubscribed=!1,n}return n.ZT(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(p.L);function _t(){return function(t){return t.lift(new Et)}}var Et=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new St(t))},t}(),St=function(t){function e(e){return t.call(this,e)||this}return n.ZT(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(p.L);function kt(t,e){return function(r){return r.lift(new xt(t,e))}}var xt=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new At(t,this.keySelector,this.flushes))},t}(),At=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.keySelector=r,o.values=new Set,n&&o.add((0,i.ft)(n,new i.IY(o))),o}return n.ZT(e,t),e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(t){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,r=this.destination;try{e=this.keySelector(t)}catch(t){return void r.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var r=this.values;r.has(t)||(r.add(t),this.destination.next(e))},e}(i.Ds);function It(t,e){return function(r){return r.lift(new Tt(t,e))}}var Tt=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new Ct(t,this.compare,this.keySelector))},t}(),Ct=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.keySelector=n,i.hasKey=!1,"function"==typeof r&&(i.compare=r),i}return n.ZT(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var r=this.keySelector;e=r?r(t):t}catch(t){return this.destination.error(t)}var n=!1;if(this.hasKey)try{n=(0,this.compare)(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))},e}(p.L);function Ot(t,e){return It((function(r,n){return e?e(r[t],n[t]):r[t]===n[t]}))}var Pt=r(9371),Rt=r(363),Mt=r(166);function Nt(t){return void 0===t&&(t=Dt),function(e){return e.lift(new Lt(t))}}var Lt=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new Bt(t,this.errorFactory))},t}(),Bt=function(t){function e(e,r){var n=t.call(this,e)||this;return n.errorFactory=r,n.hasValue=!1,n}return n.ZT(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(p.L);function Dt(){return new Mt.K}var jt=r(9117);function Ut(t){return function(e){return 0===t?(0,jt.c)():e.lift(new zt(t))}}var zt=function(){function t(t){if(this.total=t,this.total<0)throw new Pt.W}return t.prototype.call=function(t,e){return e.subscribe(new Ft(t,this.total))},t}(),Ft=function(t){function e(e,r){var n=t.call(this,e)||this;return n.total=r,n.count=0,n}return n.ZT(e,t),e.prototype._next=function(t){var e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))},e}(p.L);function Wt(t,e){if(t<0)throw new Pt.W;var r=arguments.length>=2;return function(n){return n.pipe((0,Rt.h)((function(e,r){return r===t})),Ut(1),r?st(e):Nt((function(){return new Pt.W})))}}var $t=r(7010);function qt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return(0,q.z)(e,$t.of.apply(void 0,t))}}function Ht(t,e){return function(r){return r.lift(new Vt(t,e,r))}}var Vt=function(){function t(t,e,r){this.predicate=t,this.thisArg=e,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new Kt(t,this.predicate,this.thisArg,this.source))},t}(),Kt=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.predicate=r,o.thisArg=n,o.source=i,o.index=0,o.thisArg=n||o,o}return n.ZT(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(p.L);function Gt(){return function(t){return t.lift(new Zt)}}var Zt=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Yt(t))},t}(),Yt=function(t){function e(e){var r=t.call(this,e)||this;return r.hasCompleted=!1,r.hasSubscription=!1,r}return n.ZT(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add((0,i.ft)(t,new i.IY(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.Ds),Jt=r(7054);function Xt(t,e){return e?function(r){return r.pipe(Xt((function(r,n){return(0,W.D)(t(r,n)).pipe((0,Jt.U)((function(t,i){return e(r,t,n,i)})))})))}:function(e){return e.lift(new Qt(t))}}var Qt=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new te(t,this.project))},t}(),te=function(t){function e(e,r){var n=t.call(this,e)||this;return n.project=r,n.hasSubscription=!1,n.hasCompleted=!1,n.index=0,n}return n.ZT(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.hasSubscription=!0,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new i.IY(this),r=this.destination;r.add(e);var n=(0,i.ft)(t,e);n!==e&&r.add(n)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.Ds);function ee(t,e,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new re(t,e,r))}}var re=function(){function t(t,e,r){this.project=t,this.concurrent=e,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new ne(t,this.project,this.concurrent,this.scheduler))},t}(),ne=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.project=r,o.concurrent=n,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return n.ZT(e,t),e.dispatch=function(t){var e=t.subscriber,r=t.result,n=t.value,i=t.index;e.subscribeToProjection(r,n,i)},e.prototype._next=function(t){var r=this.destination;if(r.closed)this._complete();else{var n=this.index++;if(this.active<this.concurrent){r.next(t);try{var i=(0,this.project)(t,n);if(this.scheduler){var o={subscriber:this,result:i,value:t,index:n};this.destination.add(this.scheduler.schedule(e.dispatch,0,o))}else this.subscribeToProjection(i,t,n)}catch(t){r.error(t)}}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,r){this.active++,this.destination.add((0,i.ft)(t,new i.IY(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this._next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(i.Ds);function ie(t){return function(e){return e.lift(new oe(t))}}var oe=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new se(t,this.callback))},t}(),se=function(t){function e(e,r){var n=t.call(this,e)||this;return n.add(new I.w(r)),n}return n.ZT(e,t),e}(p.L);function ae(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return function(r){return r.lift(new ce(t,r,!1,e))}}var ce=function(){function t(t,e,r,n){this.predicate=t,this.source=e,this.yieldIndex=r,this.thisArg=n}return t.prototype.call=function(t,e){return e.subscribe(new ue(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),ue=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;return s.predicate=r,s.source=n,s.yieldIndex=i,s.thisArg=o,s.index=0,s}return n.ZT(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete(),this.unsubscribe()},e.prototype._next=function(t){var e=this.predicate,r=this.thisArg,n=this.index++;try{e.call(r||this,t,n,this.source)&&this.notifyComplete(this.yieldIndex?n:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(p.L);function le(t,e){return function(r){return r.lift(new ce(t,r,!0,e))}}var he=r(3562);function de(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?(0,Rt.h)((function(e,r){return t(e,r,n)})):he.y,Ut(1),r?st(e):Nt((function(){return new Mt.K})))}}var fe=r(3592);function pe(){return function(t){return t.lift(new ge)}}var ge=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new ye(t))},t}(),ye=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.ZT(e,t),e.prototype._next=function(t){},e}(p.L);function me(){return function(t){return t.lift(new be)}}var be=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new we(t))},t}(),we=function(t){function e(e){return t.call(this,e)||this}return n.ZT(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(p.L);function ve(t){return function(e){return 0===t?(0,jt.c)():e.lift(new _e(t))}}var _e=function(){function t(t){if(this.total=t,this.total<0)throw new Pt.W}return t.prototype.call=function(t,e){return e.subscribe(new Ee(t,this.total))},t}(),Ee=function(t){function e(e,r){var n=t.call(this,e)||this;return n.total=r,n.ring=new Array,n.count=0,n}return n.ZT(e,t),e.prototype._next=function(t){var e=this.ring,r=this.total,n=this.count++;e.length<r?e.push(t):e[n%r]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var o=e++%r;t.next(n[o])}t.complete()},e}(p.L);function Se(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?(0,Rt.h)((function(e,r){return t(e,r,n)})):he.y,ve(1),r?st(e):Nt((function(){return new Mt.K})))}}function ke(t){return function(e){return e.lift(new xe(t))}}var xe=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new Ae(t,this.value))},t}(),Ae=function(t){function e(e,r){var n=t.call(this,e)||this;return n.value=r,n}return n.ZT(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(p.L);function Ie(){return function(t){return t.lift(new Te)}}var Te=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Ce(t))},t}(),Ce=function(t){function e(e){return t.call(this,e)||this}return n.ZT(e,t),e.prototype._next=function(t){this.destination.next(lt.P.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(lt.P.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(lt.P.createComplete()),t.complete()},e}(p.L);function Oe(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new Pe(t,e,r))}}var Pe=function(){function t(t,e,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=e,this.hasSeed=r}return t.prototype.call=function(t,e){return e.subscribe(new Re(t,this.accumulator,this.seed,this.hasSeed))},t}(),Re=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.accumulator=r,o._seed=n,o.hasSeed=i,o.index=0,o}return n.ZT(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(p.L),Me=r(6883);function Ne(t,e){return arguments.length>=2?function(r){return(0,Me.z)(Oe(t,e),ve(1),st(e))(r)}:function(e){return(0,Me.z)(Oe((function(e,r,n){return t(e,r,n+1)})),ve(1))(e)}}function Le(t){return Ne("function"==typeof t?function(e,r){return t(e,r)>0?e:r}:function(t,e){return t>e?t:e})}var Be=r(8051);function De(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(Be.T.apply(void 0,[e].concat(t)))}}var je=r(7522);function Ue(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof e?(0,K.zg)((function(){return t}),e,r):("number"==typeof e&&(r=e),(0,K.zg)((function(){return t}),r))}function ze(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new Fe(t,e,r))}}var Fe=function(){function t(t,e,r){this.accumulator=t,this.seed=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new We(t,this.accumulator,this.seed,this.concurrent))},t}(),We=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.accumulator=r,o.acc=n,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return n.ZT(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,r=this.destination,n=void 0;try{n=(0,this.accumulator)(this.acc,t,e)}catch(t){return r.error(t)}this.active++,this._innerSub(n)}else this.buffer.push(t)},e.prototype._innerSub=function(t){var e=new i.IY(this),r=this.destination;r.add(e);var n=(0,i.ft)(t,e);n!==e&&r.add(n)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t){var e=this.destination;this.acc=t,this.hasValue=!0,e.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(i.Ds);function $e(t){return Ne("function"==typeof t?function(e,r){return t(e,r)<0?e:r}:function(t,e){return t<e?t:e})}var qe=r(5623);function He(t,e){return function(r){var n;if(n="function"==typeof t?t:function(){return t},"function"==typeof e)return r.lift(new Ve(n,e));var i=Object.create(r,qe.N);return i.source=r,i.subjectFactory=n,i}}var Ve=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var r=this.selector,n=this.subjectFactory(),i=r(n).subscribe(t);return i.add(e.subscribe(n)),i},t}(),Ke=r(1373);function Ge(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length&&(0,F.k)(t[0])&&(t=t[0]),function(e){return e.lift(new Ze(t))}}var Ze=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new Ye(t,this.nextSources))},t}(),Ye=function(t){function e(e,r){var n=t.call(this,e)||this;return n.destination=e,n.nextSources=r,n}return n.ZT(e,t),e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var e=new i.IY(this),r=this.destination;r.add(e);var n=(0,i.ft)(t,e);n!==e&&r.add(n)}else this.destination.complete()},e}(i.Ds);function Je(){return function(t){return t.lift(new Xe)}}var Xe=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Qe(t))},t}(),Qe=function(t){function e(e){var r=t.call(this,e)||this;return r.hasPrev=!1,r}return n.ZT(e,t),e.prototype._next=function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)},e}(p.L),tr=r(4409);function er(t,e){return function(r){return[(0,Rt.h)(t,e)(r),(0,Rt.h)((0,tr.f)(t,e))(r)]}}function rr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(e){return(0,Jt.U)(function(t,e){return function(r){for(var n=r,i=0;i<e;i++){var o=null!=n?n[t[i]]:void 0;if(void 0===o)return;n=o}return n}}(t,r))(e)}}var nr=r(3037);function ir(t){return t?He((function(){return new nr.xQ}),t):He(new nr.xQ)}var or=r(9381);function sr(t){return function(e){return He(new or.X(t))(e)}}var ar=r(5343);function cr(){return function(t){return He(new ar.c)(t)}}var ur=r(436);function lr(t,e,r,n){r&&"function"!=typeof r&&(n=r);var i="function"==typeof r?r:void 0,o=new ur.t(t,e,n);return function(t){return He((function(){return o}),i)(t)}}var hr=r(1340);function dr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return 1===t.length&&(0,F.k)(t[0])&&(t=t[0]),e.lift.call(hr.S3.apply(void 0,[e].concat(t)))}}function fr(t){return void 0===t&&(t=-1),function(e){return 0===t?(0,jt.c)():t<0?e.lift(new pr(-1,e)):e.lift(new pr(t-1,e))}}var pr=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new gr(t,this.count,this.source))},t}(),gr=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.count=r,i.source=n,i}return n.ZT(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.source,r=this.count;if(0===r)return t.prototype.complete.call(this);r>-1&&(this.count=r-1),e.subscribe(this._unsubscribeAndRecycle())}},e}(p.L);function yr(t){return function(e){return e.lift(new mr(t))}}var mr=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new br(t,this.notifier,e))},t}(),br=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.notifier=r,i.source=n,i.sourceIsBeingSubscribedTo=!0,i}return n.ZT(e,t),e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){var e;this.notifications=new nr.xQ;try{e=(0,this.notifier)(this.notifications)}catch(e){return t.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=(0,i.ft)(e,new i.IY(this))},e}(i.Ds);function wr(t){return void 0===t&&(t=-1),function(e){return e.lift(new vr(t,e))}}var vr=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new _r(t,this.count,this.source))},t}(),_r=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.count=r,i.source=n,i}return n.ZT(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.source,n=this.count;if(0===n)return t.prototype.error.call(this,e);n>-1&&(this.count=n-1),r.subscribe(this._unsubscribeAndRecycle())}},e}(p.L);function Er(t){return function(e){return e.lift(new Sr(t,e))}}var Sr=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new kr(t,this.notifier,this.source))},t}(),kr=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.notifier=r,i.source=n,i}return n.ZT(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.errors,n=this.retries,o=this.retriesSubscription;if(n)this.errors=void 0,this.retriesSubscription=void 0;else{r=new nr.xQ;try{n=(0,this.notifier)(r)}catch(e){return t.prototype.error.call(this,e)}o=(0,i.ft)(n,new i.IY(this))}this._unsubscribeAndRecycle(),this.errors=r,this.retries=n,this.retriesSubscription=o,r.next(e)}},e.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},e}(i.Ds),xr=r(6287);function Ar(t){return function(e){return e.lift(new Ir(t))}}var Ir=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new Tr(t),n=e.subscribe(r);return n.add((0,i.ft)(this.notifier,new i.IY(r))),n},t}(),Tr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return n.ZT(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(i.Ds);function Cr(t,e){return void 0===e&&(e=c.P),function(r){return r.lift(new Or(t,e))}}var Or=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new Pr(t,this.period,this.scheduler))},t}(),Pr=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.period=r,i.scheduler=n,i.hasValue=!1,i.add(n.schedule(Rr,r,{subscriber:i,period:r})),i}return n.ZT(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(p.L);function Rr(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function Mr(t,e){return function(r){return r.lift(new Nr(t,e))}}var Nr=function(){function t(t,e){this.compareTo=t,this.comparator=e}return t.prototype.call=function(t,e){return e.subscribe(new Lr(t,this.compareTo,this.comparator))},t}(),Lr=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.compareTo=r,i.comparator=n,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(r.subscribe(new Br(e,i))),i}return n.ZT(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this,e=t._a,r=t._b,n=t.comparator;e.length>0&&r.length>0;){var i=e.shift(),o=r.shift(),s=!1;try{s=n?n(i,o):i===o}catch(t){this.destination.error(t)}s||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e}(p.L),Br=function(t){function e(e,r){var n=t.call(this,e)||this;return n.parent=r,n}return n.ZT(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(p.L);function Dr(){return new nr.xQ}function jr(){return function(t){return(0,xr.x)()(He(Dr)(t))}}function Ur(t,e,r){var n;return n=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(t){return t.lift(function(t){var e,r,n=t.bufferSize,i=void 0===n?Number.POSITIVE_INFINITY:n,o=t.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,a=t.refCount,c=t.scheduler,u=0,l=!1,h=!1;return function(t){var n;u++,!e||l?(l=!1,e=new ur.t(i,s,c),n=e.subscribe(this),r=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){h=!0,r=void 0,e.complete()}}),h&&(r=void 0)):n=e.subscribe(this),this.add((function(){u--,n.unsubscribe(),n=void 0,r&&!h&&a&&0===u&&(r.unsubscribe(),r=void 0,e=void 0)}))}}(n))}}function zr(t){return function(e){return e.lift(new Fr(t,e))}}var Fr=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Wr(t,this.predicate,this.source))},t}(),Wr=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.source=n,i.seenValue=!1,i.index=0,i}return n.ZT(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new Mt.K)},e}(p.L);function $r(t){return function(e){return e.lift(new qr(t))}}var qr=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new Hr(t,this.total))},t}(),Hr=function(t){function e(e,r){var n=t.call(this,e)||this;return n.total=r,n.count=0,n}return n.ZT(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(p.L);function Vr(t){return function(e){return e.lift(new Kr(t))}}var Kr=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new Pt.W}return t.prototype.call=function(t,e){return 0===this._skipCount?e.subscribe(new p.L(t)):e.subscribe(new Gr(t,this._skipCount))},t}(),Gr=function(t){function e(e,r){var n=t.call(this,e)||this;return n._skipCount=r,n._count=0,n._ring=new Array(r),n}return n.ZT(e,t),e.prototype._next=function(t){var e=this._skipCount,r=this._count++;if(r<e)this._ring[r]=t;else{var n=r%e,i=this._ring,o=i[n];i[n]=t,this.destination.next(o)}},e}(p.L);function Zr(t){return function(e){return e.lift(new Yr(t))}}var Yr=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new Jr(t,this.notifier))},t}(),Jr=function(t){function e(e,r){var n=t.call(this,e)||this;n.hasValue=!1;var o=new i.IY(n);n.add(o),n.innerSubscription=o;var s=(0,i.ft)(r,o);return s!==o&&(n.add(s),n.innerSubscription=s),n}return n.ZT(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(i.Ds);function Xr(t){return function(e){return e.lift(new Qr(t))}}var Qr=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new tn(t,this.predicate))},t}(),tn=function(t){function e(e,r){var n=t.call(this,e)||this;return n.predicate=r,n.skipping=!0,n.index=0,n}return n.ZT(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(p.L);function en(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return(0,w.K)(r)?(t.pop(),function(e){return(0,q.z)(t,e,r)}):function(e){return(0,q.z)(t,e)}}var rn=r(8792),nn=r(4090),on=function(t){function e(e,r,n){void 0===r&&(r=0),void 0===n&&(n=rn.e);var i=t.call(this)||this;return i.source=e,i.delayTime=r,i.scheduler=n,(!(0,nn.k)(r)||r<0)&&(i.delayTime=0),n&&"function"==typeof n.schedule||(i.scheduler=rn.e),i}return n.ZT(e,t),e.create=function(t,r,n){return void 0===r&&(r=0),void 0===n&&(n=rn.e),new e(t,r,n)},e.dispatch=function(t){var e=t.source,r=t.subscriber;return this.add(e.subscribe(r))},e.prototype._subscribe=function(t){var r=this.delayTime,n=this.source;return this.scheduler.schedule(e.dispatch,r,{source:n,subscriber:t})},e}(gt.y);function sn(t,e){return void 0===e&&(e=0),function(r){return r.lift(new an(t,e))}}var an=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new on(e,this.delay,this.scheduler).subscribe(t)},t}();function cn(t,e){return"function"==typeof e?function(r){return r.pipe(cn((function(r,n){return(0,W.D)(t(r,n)).pipe((0,Jt.U)((function(t,i){return e(r,t,n,i)})))})))}:function(e){return e.lift(new un(t))}}var un=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new ln(t,this.project))},t}(),ln=function(t){function e(e,r){var n=t.call(this,e)||this;return n.project=r,n.index=0,n}return n.ZT(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this._innerSub(e)},e.prototype._innerSub=function(t){var e=this.innerSubscription;e&&e.unsubscribe();var r=new i.IY(this),n=this.destination;n.add(r),this.innerSubscription=(0,i.ft)(t,r),this.innerSubscription!==r&&n.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(i.Ds);function hn(){return cn(he.y)}function dn(t,e){return e?cn((function(){return t}),e):cn((function(){return t}))}function fn(t){return function(e){return e.lift(new pn(t))}}var pn=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new gn(t),n=(0,i.ft)(this.notifier,new i.IY(r));return n&&!r.seenValue?(r.add(n),e.subscribe(r)):r},t}(),gn=function(t){function e(e){var r=t.call(this,e)||this;return r.seenValue=!1,r}return n.ZT(e,t),e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(i.Ds);function yn(t,e){return void 0===e&&(e=!1),function(r){return r.lift(new mn(t,e))}}var mn=function(){function t(t,e){this.predicate=t,this.inclusive=e}return t.prototype.call=function(t,e){return e.subscribe(new bn(t,this.predicate,this.inclusive))},t}(),bn=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.inclusive=n,i.index=0,i}return n.ZT(e,t),e.prototype._next=function(t){var e,r=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void r.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var r=this.destination;Boolean(e)?r.next(t):(this.inclusive&&r.next(t),r.complete())},e}(p.L),wn=r(2082),vn=r(3991);function _n(t,e,r){return function(n){return n.lift(new En(t,e,r))}}var En=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e.subscribe(new Sn(t,this.nextOrObserver,this.error,this.complete))},t}(),Sn=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o._tapNext=wn.Z,o._tapError=wn.Z,o._tapComplete=wn.Z,o._tapError=n||wn.Z,o._tapComplete=i||wn.Z,(0,vn.m)(r)?(o._context=o,o._tapNext=r):r&&(o._context=r,o._tapNext=r.next||wn.Z,o._tapError=r.error||wn.Z,o._tapComplete=r.complete||wn.Z),o}return n.ZT(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(p.L),kn={leading:!0,trailing:!1};function xn(t,e){return void 0===e&&(e=kn),function(r){return r.lift(new An(t,!!e.leading,!!e.trailing))}}var An=function(){function t(t,e,r){this.durationSelector=t,this.leading=e,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new In(t,this.durationSelector,this.leading,this.trailing))},t}(),In=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.destination=e,o.durationSelector=r,o._leading=n,o._trailing=i,o._hasValue=!1,o}return n.ZT(e,t),e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this._hasValue,e=this._sendValue;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(t){var e=this.tryDurationSelector(t);e&&this.add(this._throttled=(0,i.ft)(e,new i.IY(this)))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},e.prototype.throttlingDone=function(){var t=this._throttled,e=this._trailing;t&&t.unsubscribe(),this._throttled=void 0,e&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(i.Ds);function Tn(t,e,r){return void 0===e&&(e=c.P),void 0===r&&(r=kn),function(n){return n.lift(new Cn(t,e,r.leading,r.trailing))}}var Cn=function(){function t(t,e,r,n){this.duration=t,this.scheduler=e,this.leading=r,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new On(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),On=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;return s.duration=r,s.scheduler=n,s.leading=i,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return n.ZT(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Pn,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(p.L);function Pn(t){t.subscriber.clearThrottle()}var Rn=r(9052);function Mn(t){return void 0===t&&(t=c.P),function(e){return(0,Rn.P)((function(){return e.pipe(Oe((function(e,r){var n=e.current;return{value:r,current:t.now(),last:n}}),{current:t.now(),value:void 0,last:void 0}),(0,Jt.U)((function(t){var e=t.current,r=t.last,n=t.value;return new Nn(n,e-r)})))}))}}var Nn=function(){return function(t,e){this.value=t,this.interval=e}}(),Ln=r(4839);function Bn(t,e,r){return void 0===r&&(r=c.P),function(n){var i=ut(t),o=i?+t-r.now():Math.abs(t);return n.lift(new Dn(o,i,e,r))}}var Dn=function(){function t(t,e,r,n){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new jn(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),jn=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;return s.absoluteTimeout=r,s.waitFor=n,s.withObservable=i,s.scheduler=o,s.scheduleTimeout(),s}return n.ZT(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add((0,i.ft)(e,new i.IY(t)))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(i.Ds),Un=r(1885);function zn(t,e){return void 0===e&&(e=c.P),Bn(t,(0,Un._)(new Ln.W),e)}function Fn(t){return void 0===t&&(t=c.P),(0,Jt.U)((function(e){return new Wn(e,t.now())}))}var Wn=function(){return function(t,e){this.value=t,this.timestamp=e}}();function $n(t,e,r){return 0===r?[e]:(t.push(e),t)}function qn(){return Ne($n,[])}function Hn(t){return function(e){return e.lift(new Vn(t))}}var Vn=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var r=new Kn(t),n=e.subscribe(r);return n.closed||r.add((0,i.ft)(this.windowBoundaries,new i.IY(r))),n},t}(),Kn=function(t){function e(e){var r=t.call(this,e)||this;return r.window=new nr.xQ,e.next(r.window),r}return n.ZT(e,t),e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,r=this.window=new nr.xQ;e.next(r)},e}(i.Ds);function Gn(t,e){return void 0===e&&(e=0),function(r){return r.lift(new Zn(t,e))}}var Zn=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new Yn(t,this.windowSize,this.startWindowEvery))},t}(),Yn=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.destination=e,i.windowSize=r,i.startWindowEvery=n,i.windows=[new nr.xQ],i.count=0,e.next(i.windows[0]),i}return n.ZT(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,i=this.windows,o=i.length,s=0;s<o&&!this.closed;s++)i[s].next(t);var a=this.count-n+1;if(a>=0&&a%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){var c=new nr.xQ;i.push(c),r.next(c)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(p.L);function Jn(t){var e=c.P,r=null,n=Number.POSITIVE_INFINITY;return(0,w.K)(arguments[3])&&(e=arguments[3]),(0,w.K)(arguments[2])?e=arguments[2]:(0,nn.k)(arguments[2])&&(n=Number(arguments[2])),(0,w.K)(arguments[1])?e=arguments[1]:(0,nn.k)(arguments[1])&&(r=Number(arguments[1])),function(i){return i.lift(new Xn(t,r,n,e))}}var Xn=function(){function t(t,e,r,n){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new ti(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),Qn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return n.ZT(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(nr.xQ),ti=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;s.destination=e,s.windowTimeSpan=r,s.windowCreationInterval=n,s.maxWindowSize=i,s.scheduler=o,s.windows=[];var a=s.openWindow();if(null!==n&&n>=0){var c={subscriber:s,window:a,context:null},u={windowTimeSpan:r,windowCreationInterval:n,subscriber:s,scheduler:o};s.add(o.schedule(ni,r,c)),s.add(o.schedule(ri,n,u))}else{var l={subscriber:s,window:a,windowTimeSpan:r};s.add(o.schedule(ei,r,l))}return s}return n.ZT(e,t),e.prototype._next=function(t){for(var e=this.windows,r=e.length,n=0;n<r;n++){var i=e[n];i.closed||(i.next(t),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new Qn;return this.windows.push(t),this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(p.L);function ei(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function ri(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,o=r.openWindow(),s=this,a={action:s,subscription:null},c={subscriber:r,window:o,context:a};a.subscription=n.schedule(ni,e,c),s.add(a.subscription),s.schedule(t,i)}function ni(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function ii(t,e){return function(r){return r.lift(new oi(t,e))}}var oi=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new si(t,this.openings,this.closingSelector))},t}(),si=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.openings=r,i.closingSelector=n,i.contexts=[],i.add(i.openSubscription=(0,T.D)(i,r,r)),i}return n.ZT(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var r=e.length,n=0;n<r;n++)e[n].window.next(t)},e.prototype._error=function(e){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var r=e.length,n=-1;++n<r;){var i=e[n];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,r=-1;++r<e;){var n=t[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,r,n,i){if(t===this.openings){var o=void 0;try{o=(0,this.closingSelector)(e)}catch(t){return this.error(t)}var s=new nr.xQ,a=new I.w,c={window:s,subscription:a};this.contexts.push(c);var u=(0,T.D)(this,o,c);u.closed?this.closeWindow(this.contexts.length-1):(u.context=c,a.add(u)),this.destination.next(s)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,r=e[t],n=r.window,i=r.subscription;e.splice(t,1),n.complete(),i.unsubscribe()}},e}(C.L);function ai(t){return function(e){return e.lift(new ci(t))}}var ci=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new ui(t,this.closingSelector))},t}(),ui=function(t){function e(e,r){var n=t.call(this,e)||this;return n.destination=e,n.closingSelector=r,n.openWindow(),n}return n.ZT(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.openWindow(i)},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var r,n=this.window=new nr.xQ;this.destination.next(n);try{r=(0,this.closingSelector)()}catch(t){return this.destination.error(t),void this.window.error(t)}this.add(this.closingNotification=(0,T.D)(this,r))},e}(C.L);function li(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var r;"function"==typeof t[t.length-1]&&(r=t.pop());var n=t;return e.lift(new hi(n,r))}}var hi=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new di(t,this.observables,this.project))},t}(),di=function(t){function e(e,r,n){var i=t.call(this,e)||this;i.observables=r,i.project=n,i.toRespond=[];var o=r.length;i.values=new Array(o);for(var s=0;s<o;s++)i.toRespond.push(s);for(s=0;s<o;s++){var a=r[s];i.add((0,T.D)(i,a,void 0,s))}return i}return n.ZT(e,t),e.prototype.notifyNext=function(t,e,r){this.values[r]=e;var n=this.toRespond;if(n.length>0){var i=n.indexOf(r);-1!==i&&n.splice(i,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(C.L),fi=r(5071);function pi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(fi.$R.apply(void 0,[e].concat(t)))}}function gi(t){return function(e){return e.lift(new fi.mx(t))}}},5313:(t,e,r)=>{"use strict";r.d(e,{ZT:()=>i});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}},5970:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.map=e.array=e.rustEnum=e.str=e.vecU8=e.tagged=e.vec=e.bool=e.option=e.publicKey=e.i256=e.u256=e.i128=e.u128=e.i64=e.u64=e.struct=e.f64=e.f32=e.i32=e.u32=e.i16=e.u16=e.i8=e.u8=void 0;const i=r(698),o=r(6714),s=n(r(3550));var a=r(698);Object.defineProperty(e,"u8",{enumerable:!0,get:function(){return a.u8}}),Object.defineProperty(e,"i8",{enumerable:!0,get:function(){return a.s8}}),Object.defineProperty(e,"u16",{enumerable:!0,get:function(){return a.u16}}),Object.defineProperty(e,"i16",{enumerable:!0,get:function(){return a.s16}}),Object.defineProperty(e,"u32",{enumerable:!0,get:function(){return a.u32}}),Object.defineProperty(e,"i32",{enumerable:!0,get:function(){return a.s32}}),Object.defineProperty(e,"f32",{enumerable:!0,get:function(){return a.f32}}),Object.defineProperty(e,"f64",{enumerable:!0,get:function(){return a.f64}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return a.struct}});class c extends i.Layout{constructor(t,e,r){super(t,r),this.blob=(0,i.blob)(t),this.signed=e}decode(t,e=0){const r=new s.default(this.blob.decode(t,e),10,"le");return this.signed?r.fromTwos(8*this.span).clone():r}encode(t,e,r=0){return this.signed&&(t=t.toTwos(8*this.span)),this.blob.encode(t.toArrayLike(Buffer,"le",this.span),e,r)}}function u(t){return new c(8,!1,t)}e.u64=u,e.i64=function(t){return new c(8,!0,t)},e.u128=function(t){return new c(16,!1,t)},e.i128=function(t){return new c(16,!0,t)},e.u256=function(t){return new c(32,!1,t)},e.i256=function(t){return new c(32,!0,t)};class l extends i.Layout{constructor(t,e,r,n){super(t.span,n),this.layout=t,this.decoder=e,this.encoder=r}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,r){return this.layout.encode(this.encoder(t),e,r)}getSpan(t,e){return this.layout.getSpan(t,e)}}e.publicKey=function(t){return new l((0,i.blob)(32),(t=>new o.PublicKey(t)),(t=>t.toBuffer()),t)};class h extends i.Layout{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=(0,i.u8)()}encode(t,e,r=0){return null==t?this.discriminator.encode(0,e,r):(this.discriminator.encode(1,e,r),this.layout.encode(t,e,r+1)+1)}decode(t,e=0){const r=this.discriminator.decode(t,e);if(0===r)return null;if(1===r)return this.layout.decode(t,e+1);throw new Error("Invalid option "+this.property)}getSpan(t,e=0){const r=this.discriminator.decode(t,e);if(0===r)return 1;if(1===r)return this.layout.getSpan(t,e+1)+1;throw new Error("Invalid option "+this.property)}}function d(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}function f(t){return t?1:0}function p(t){const e=(0,i.u32)("length"),r=(0,i.struct)([e,(0,i.blob)((0,i.offset)(e,-e.span),"data")]);return new l(r,(({data:t})=>t),(t=>({data:t})),t)}e.option=function(t,e){return new h(t,e)},e.bool=function(t){return new l((0,i.u8)(),d,f,t)},e.vec=function(t,e){const r=(0,i.u32)("length"),n=(0,i.struct)([r,(0,i.seq)(t,(0,i.offset)(r,-r.span),"values")]);return new l(n,(({values:t})=>t),(t=>({values:t})),e)},e.tagged=function(t,e,r){const n=(0,i.struct)([u("tag"),e.replicate("data")]);return new l(n,(function({tag:e,data:r}){if(!e.eq(t))throw new Error("Invalid tag, expected: "+t.toString("hex")+", got: "+e.toString("hex"));return r}),(e=>({tag:t,data:e})),r)},e.vecU8=p,e.str=function(t){return new l(p(),(t=>t.toString("utf-8")),(t=>Buffer.from(t,"utf-8")),t)},e.rustEnum=function(t,e,r){const n=(0,i.union)(null!=r?r:(0,i.u8)(),e);return t.forEach(((t,e)=>n.addVariant(e,t,t.property))),n},e.array=function(t,e,r){const n=(0,i.struct)([(0,i.seq)(t,e,"values")]);return new l(n,(({values:t})=>t),(t=>({values:t})),r)};class g extends i.Layout{constructor(t,e,r){super(t.span+e.span,r),this.keyLayout=t,this.valueLayout=e}decode(t,e){return e=e||0,[this.keyLayout.decode(t,e),this.valueLayout.decode(t,e+this.keyLayout.getSpan(t,e))]}encode(t,e,r){r=r||0;const n=this.keyLayout.encode(t[0],e,r);return n+this.valueLayout.encode(t[1],e,r+n)}getSpan(t,e){return this.keyLayout.getSpan(t,e)+this.valueLayout.getSpan(t,e)}}e.map=function(t,e,r){const n=(0,i.u32)("length"),o=(0,i.struct)([n,(0,i.seq)(new g(t,e),(0,i.offset)(n,-n.span),"values")]);return new l(o,(({values:t})=>new Map(t)),(t=>({values:Array.from(t.entries())})),r)}},2003:t=>{"use strict";t.exports=function({mustBeMetaMask:t=!1,silent:e=!1,timeout:r=3e3}={}){!function(){if("boolean"!=typeof t)throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if("boolean"!=typeof e)throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if("number"!=typeof r)throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}();let n=!1;return new Promise((i=>{function o(){if(n)return;n=!0,window.removeEventListener("ethereum#initialized",o);const{ethereum:r}=window;if(!r||t&&!r.isMetaMask){const n=t&&r?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!e&&console.error("@metamask/detect-provider:",n),i(null)}else i(r)}window.ethereum?o():(window.addEventListener("ethereum#initialized",o,{once:!0}),setTimeout((()=>{o()}),r))}))}},9394:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(7187);function i(t,e,r){try{Reflect.apply(t,e,r)}catch(t){setTimeout((()=>{throw t}))}}class o extends n.EventEmitter{emit(t,...e){let r="error"===t;const n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let t;if(e.length>0&&([t]=e),t instanceof Error)throw t;const r=new Error("Unhandled error."+(t?` (${t.message})`:""));throw r.context=t,r}const o=n[t];if(void 0===o)return!1;if("function"==typeof o)i(o,this,e);else{const t=o.length,r=function(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}(o);for(let n=0;n<t;n+=1)i(r[n],this,e)}return!0}}e.default=o},6714:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Account:()=>sr,AddressLookupTableAccount:()=>yn,AddressLookupTableInstruction:()=>lo,AddressLookupTableProgram:()=>ho,Authorized:()=>So,BLOCKHASH_CACHE_TIMEOUT_MS:()=>En,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>ar,BPF_LOADER_PROGRAM_ID:()=>en,BpfLoader:()=>rn,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>po,ComputeBudgetInstruction:()=>fo,ComputeBudgetProgram:()=>go,Connection:()=>ao,Ed25519Program:()=>mo,Enum:()=>Xe,EpochSchedule:()=>ln,FeeCalculatorLayout:()=>Hr,Keypair:()=>co,LAMPORTS_PER_SOL:()=>Vo,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>uo,Loader:()=>tn,Lockup:()=>ko,MAX_SEED_LENGTH:()=>rr,Message:()=>Sr,MessageAccountKeys:()=>pr,MessageV0:()=>kr,NONCE_ACCOUNT_LENGTH:()=>Kr,NonceAccount:()=>Gr,PACKET_DATA_SIZE:()=>cr,PUBLIC_KEY_LENGTH:()=>nr,PublicKey:()=>or,SIGNATURE_LENGTH_IN_BYTES:()=>lr,SOLANA_SCHEMA:()=>Qe,STAKE_CONFIG_ID:()=>Eo,STAKE_INSTRUCTION_LAYOUTS:()=>Ao,SYSTEM_INSTRUCTION_LAYOUTS:()=>Jr,SYSVAR_CLOCK_PUBKEY:()=>Rr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>Mr,SYSVAR_INSTRUCTIONS_PUBKEY:()=>Nr,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>Lr,SYSVAR_RENT_PUBKEY:()=>Br,SYSVAR_REWARDS_PUBKEY:()=>Dr,SYSVAR_SLOT_HASHES_PUBKEY:()=>jr,SYSVAR_SLOT_HISTORY_PUBKEY:()=>Ur,SYSVAR_STAKE_HISTORY_PUBKEY:()=>zr,Secp256k1Program:()=>vo,SendTransactionError:()=>hn,SolanaJSONRPCError:()=>fn,SolanaJSONRPCErrorCode:()=>dn,StakeAuthorizationLayout:()=>Io,StakeInstruction:()=>xo,StakeProgram:()=>To,Struct:()=>Je,SystemInstruction:()=>Yr,SystemProgram:()=>Xr,Transaction:()=>Cr,TransactionExpiredBlockheightExceededError:()=>hr,TransactionExpiredNonceInvalidError:()=>fr,TransactionExpiredTimeoutError:()=>dr,TransactionInstruction:()=>Tr,TransactionMessage:()=>Or,TransactionStatus:()=>Ar,VALIDATOR_INFO_KEY:()=>No,VERSION_PREFIX_MASK:()=>ur,VOTE_PROGRAM_ID:()=>Do,ValidatorInfo:()=>Bo,VersionedMessage:()=>xr,VersionedTransaction:()=>Pr,VoteAccount:()=>Uo,VoteAuthorizationLayout:()=>Ro,VoteInit:()=>Co,VoteInstruction:()=>Oo,VoteProgram:()=>Mo,clusterApiUrl:()=>qo,sendAndConfirmRawTransaction:()=>Ho,sendAndConfirmTransaction:()=>Fr});var n={};r.r(n),r.d(n,{dQ:()=>D,ci:()=>A,bytesToNumberBE:()=>P,ty:()=>R,eV:()=>B,n$:()=>z,ql:()=>L,hexToBytes:()=>O,_t:()=>k,tL:()=>M,S5:()=>N,FF:()=>W});var i=r(8764),o=r(3313);const s=BigInt(2**32-1),a=BigInt(32);function c(t,e=!1){return e?{h:Number(t&s),l:Number(t>>a&s)}:{h:0|Number(t>>a&s),l:0|Number(t&s)}}function u(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:s}=c(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}const l=(t,e,r)=>t<<r|e>>>32-r,h=(t,e,r)=>e<<r|t>>>32-r,d=(t,e,r)=>e<<r-32|t>>>64-r,f=(t,e,r)=>t<<r-32|e>>>64-r,p={fromBig:c,split:u,toBig:(t,e)=>BigInt(t>>>0)<<a|BigInt(e>>>0),shrSH:(t,e,r)=>t>>>r,shrSL:(t,e,r)=>t<<32-r|e>>>r,rotrSH:(t,e,r)=>t>>>r|e<<32-r,rotrSL:(t,e,r)=>t<<32-r|e>>>r,rotrBH:(t,e,r)=>t<<64-r|e>>>r-32,rotrBL:(t,e,r)=>t>>>r-32|e<<64-r,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:l,rotlSL:h,rotlBH:d,rotlBL:f,add:function(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:0|i}},add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,n)=>e+r+n+(t/2**32|0)|0,add4L:(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H:(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,add5H:(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,add5L:(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};var g=r(3486);const[y,m]=(()=>p.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))))(),b=new Uint32Array(80),w=new Uint32Array(80);class v extends o.N{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:u,Fh:l,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[t,e,r,n,i,o,s,a,c,u,l,h,d,f,p,g]}set(t,e,r,n,i,o,s,a,c,u,l,h,d,f,p,g){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(t,e){for(let r=0;r<16;r++,e+=4)b[r]=t.getUint32(e),w[r]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|b[t-15],r=0|w[t-15],n=p.rotrSH(e,r,1)^p.rotrSH(e,r,8)^p.shrSH(e,r,7),i=p.rotrSL(e,r,1)^p.rotrSL(e,r,8)^p.shrSL(e,r,7),o=0|b[t-2],s=0|w[t-2],a=p.rotrSH(o,s,19)^p.rotrBH(o,s,61)^p.shrSH(o,s,6),c=p.rotrSL(o,s,19)^p.rotrBL(o,s,61)^p.shrSL(o,s,6),u=p.add4L(i,c,w[t-7],w[t-16]),l=p.add4H(u,n,a,b[t-7],b[t-16]);b[t]=0|l,w[t]=0|u}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:a,Dh:c,Dl:u,Eh:l,El:h,Fh:d,Fl:f,Gh:g,Gl:v,Hh:_,Hl:E}=this;for(let t=0;t<80;t++){const e=p.rotrSH(l,h,14)^p.rotrSH(l,h,18)^p.rotrBH(l,h,41),S=p.rotrSL(l,h,14)^p.rotrSL(l,h,18)^p.rotrBL(l,h,41),k=l&d^~l&g,x=h&f^~h&v,A=p.add5L(E,S,x,m[t],w[t]),I=p.add5H(A,_,e,k,y[t],b[t]),T=0|A,C=p.rotrSH(r,n,28)^p.rotrBH(r,n,34)^p.rotrBH(r,n,39),O=p.rotrSL(r,n,28)^p.rotrBL(r,n,34)^p.rotrBL(r,n,39),P=r&i^r&s^i&s,R=n&o^n&a^o&a;_=0|g,E=0|v,g=0|d,v=0|f,d=0|l,f=0|h,({h:l,l:h}=p.add(0|c,0|u,0|I,0|T)),c=0|s,u=0|a,s=0|i,a=0|o,i=0|r,o=0|n;const M=p.add3L(T,O,R);r=p.add3H(M,I,C,P),n=0|M}({h:r,l:n}=p.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=p.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=p.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:u}=p.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:l,l:h}=p.add(0|this.Eh,0|this.El,0|l,0|h)),({h:d,l:f}=p.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:g,l:v}=p.add(0|this.Gh,0|this.Gl,0|g,0|v)),({h:_,l:E}=p.add(0|this.Hh,0|this.Hl,0|_,0|E)),this.set(r,n,i,o,s,a,c,u,l,h,d,f,g,v,_,E)}roundClean(){b.fill(0),w.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const _=(0,g.hE)((()=>new v)),E=(BigInt(0),BigInt(1)),S=BigInt(2);function k(t){return t instanceof Uint8Array||null!=t&&"object"==typeof t&&"Uint8Array"===t.constructor.name}const x=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function A(t){if(!k(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=x[t[r]];return e}function I(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":`0x${t}`)}const T={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function C(t){return t>=T._0&&t<=T._9?t-T._0:t>=T._A&&t<=T._F?t-(T._A-10):t>=T._a&&t<=T._f?t-(T._a-10):void 0}function O(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let e=0,i=0;e<r;e++,i+=2){const r=C(t.charCodeAt(i)),o=C(t.charCodeAt(i+1));if(void 0===r||void 0===o){const e=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+e+'" at index '+i)}n[e]=16*r+o}return n}function P(t){return I(A(t))}function R(t){if(!k(t))throw new Error("Uint8Array expected");return I(A(Uint8Array.from(t).reverse()))}function M(t,e){return O(t.toString(16).padStart(2*e,"0"))}function N(t,e){return M(t,e).reverse()}function L(t,e,r){let n;if("string"==typeof e)try{n=O(e)}catch(r){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${r}`)}else{if(!k(e))throw new Error(`${t} must be hex string or Uint8Array`);n=Uint8Array.from(e)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function B(...t){let e=0;for(let r=0;r<t.length;r++){const n=t[r];if(!k(n))throw new Error("Uint8Array expected");e+=n.length}let r=new Uint8Array(e),n=0;for(let e=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r}const D=t=>(S<<BigInt(t-1))-E,j=t=>new Uint8Array(t),U=t=>Uint8Array.from(t);function z(t,e,r){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=j(t),i=j(t),o=0;const s=()=>{n.fill(1),i.fill(0),o=0},a=(...t)=>r(i,n,...t),c=(t=j())=>{i=a(U([0]),t),n=a(),0!==t.length&&(i=a(U([1]),t),n=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const r=[];for(;t<e;){n=a();const e=n.slice();r.push(e),t+=n.length}return B(...r)};return(t,e)=>{let r;for(s(),c(t);!(r=e(u()));)c();return s(),r}}const F={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||k(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function W(t,e,r={}){const n=(e,r,n)=>{const i=F[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const o=t[e];if(!(n&&void 0===o||i(o,t)))throw new Error(`Invalid param ${String(e)}=${o} (${typeof o}), expected ${r}`)};for(const[t,r]of Object.entries(e))n(t,r,!1);for(const[t,e]of Object.entries(r))n(t,e,!0);return t}const $=BigInt(0),q=BigInt(1),H=BigInt(2),V=BigInt(3),K=BigInt(4),G=BigInt(5),Z=BigInt(8);function Y(t,e){const r=t%e;return r>=$?r:e+r}function J(t,e,r){if(r<=$||e<$)throw new Error("Expected power/modulo > 0");if(r===q)return $;let n=q;for(;e>$;)e&q&&(n=n*t%r),t=t*t%r,e>>=q;return n}function X(t,e,r){let n=t;for(;e-- >$;)n*=n,n%=r;return n}function Q(t,e){if(t===$||e<=$)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Y(t,e),n=e,i=$,o=q,s=q,a=$;for(;r!==$;){const t=n/r,e=n%r,c=i-s*t,u=o-a*t;n=r,r=e,i=s,o=a,s=c,a=u}if(n!==q)throw new Error("invert: does not exist");return Y(i,e)}BigInt(9),BigInt(16);const tt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function et(t,e){const r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function rt(t,e,r=!1,n={}){if(t<=$)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=et(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=function(t){if(t%K===V){const e=(t+q)/K;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error("Cannot find square root");return n}}if(t%Z===G){const e=(t-G)/Z;return function(t,r){const n=t.mul(r,H),i=t.pow(n,e),o=t.mul(r,i),s=t.mul(t.mul(o,H),i),a=t.mul(o,t.sub(s,t.ONE));if(!t.eql(t.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(t){const e=(t-q)/H;let r,n,i;for(r=t-q,n=0;r%H===$;r/=H,n++);for(i=H;i<t&&J(i,e,t)!==t-q;i++);if(1===n){const e=(t+q)/K;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error("Cannot find square root");return n}}const o=(r+q)/H;return function(t,s){if(t.pow(s,e)===t.neg(t.ONE))throw new Error("Cannot find square root");let a=n,c=t.pow(t.mul(t.ONE,i),r),u=t.pow(s,o),l=t.pow(s,r);for(;!t.eql(l,t.ONE);){if(t.eql(l,t.ZERO))return t.ZERO;let e=1;for(let r=t.sqr(l);e<a&&!t.eql(r,t.ONE);e++)r=t.sqr(r);const r=t.pow(c,q<<BigInt(a-e-1));c=t.sqr(r),u=t.mul(u,r),l=t.mul(l,c),a=e}return u}}(t)}(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:D(i),ZERO:$,ONE:q,create:e=>Y(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("Invalid field element: expected bigint, got "+typeof e);return $<=e&&e<t},is0:t=>t===$,isOdd:t=>(t&q)===q,neg:e=>Y(-e,t),eql:(t,e)=>t===e,sqr:e=>Y(e*e,t),add:(e,r)=>Y(e+r,t),sub:(e,r)=>Y(e-r,t),mul:(e,r)=>Y(e*r,t),pow:(t,e)=>function(t,e,r){if(r<$)throw new Error("Expected power > 0");if(r===$)return t.ONE;if(r===q)return e;let n=t.ONE,i=e;for(;r>$;)r&q&&(n=t.mul(n,i)),i=t.sqr(i),r>>=q;return n}(a,t,e),div:(e,r)=>Y(e*Q(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>Q(e,t),sqrt:n.sqrt||(t=>s(a,t)),invertBatch:t=>function(t,e){const r=new Array(e.length),n=e.reduce(((e,n,i)=>t.is0(n)?e:(r[i]=e,t.mul(e,n))),t.ONE),i=t.inv(n);return e.reduceRight(((e,n,i)=>t.is0(n)?e:(r[i]=t.mul(e,r[i]),t.mul(e,n))),i),r}(a,t),cmov:(t,e,r)=>r?e:t,toBytes:t=>r?N(t,o):M(t,o),fromBytes:t=>{if(t.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${t.length}`);return r?R(t):P(t)}});return Object.freeze(a)}function nt(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function it(t){const e=nt(t);return e+Math.ceil(e/2)}const ot=BigInt(0),st=BigInt(1);function at(t,e){const r=(t,e)=>{const r=e.negate();return t?r:e},n=t=>({windows:Math.ceil(e/t)+1,windowSize:2**(t-1)});return{constTimeNegate:r,unsafeLadder(e,r){let n=t.ZERO,i=e;for(;r>ot;)r&st&&(n=n.add(i)),i=i.double(),r>>=st;return n},precomputeWindow(t,e){const{windows:r,windowSize:i}=n(e),o=[];let s=t,a=s;for(let t=0;t<r;t++){a=s,o.push(a);for(let t=1;t<i;t++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(e,i,o){const{windows:s,windowSize:a}=n(e);let c=t.ZERO,u=t.BASE;const l=BigInt(2**e-1),h=2**e,d=BigInt(e);for(let t=0;t<s;t++){const e=t*a;let n=Number(o&l);o>>=d,n>a&&(n-=h,o+=st);const s=e,f=e+Math.abs(n)-1,p=t%2!=0,g=n<0;0===n?u=u.add(r(p,i[s])):c=c.add(r(g,i[f]))}return{p:c,f:u}},wNAFCached(t,e,r,n){const i=t._WINDOW_SIZE||1;let o=e.get(t);return o||(o=this.precomputeWindow(t,i),1!==i&&e.set(t,n(o))),this.wNAF(i,o,r)}}}function ct(t){return W(t.Fp,tt.reduce(((t,e)=>(t[e]="function",t)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),W(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...et(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const ut=BigInt(0),lt=BigInt(1),ht=BigInt(2),dt=BigInt(8),ft={zip215:!0};function pt(t){const e=function(t){const e=ct(t);return W(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}(t),{Fp:r,n,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:c}=e,u=ht<<BigInt(8*a)-lt,l=r.create,h=e.uvRatio||((t,e)=>{try{return{isValid:!0,value:r.sqrt(t*r.inv(e))}}catch(t){return{isValid:!1,value:ut}}}),d=e.adjustScalarBytes||(t=>t),f=e.domain||((t,e,r)=>{if(e.length||r)throw new Error("Contexts/pre-hash are not supported");return t}),p=t=>"bigint"==typeof t&&ut<t,g=(t,e)=>p(t)&&p(e)&&t<e,y=t=>t===ut||g(t,u);function m(t,e){if(g(t,e))return t;throw new Error(`Expected valid scalar < ${e}, got ${typeof t} ${t}`)}function b(t){return t===ut?t:m(t,n)}const w=new Map;function v(t){if(!(t instanceof _))throw new Error("ExtendedPoint expected")}class _{constructor(t,e,r,n){if(this.ex=t,this.ey=e,this.ez=r,this.et=n,!y(t))throw new Error("x required");if(!y(e))throw new Error("y required");if(!y(r))throw new Error("z required");if(!y(n))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(t){if(t instanceof _)throw new Error("extended point not allowed");const{x:e,y:r}=t||{};if(!y(e)||!y(r))throw new Error("invalid affine point");return new _(e,r,lt,l(e*r))}static normalizeZ(t){const e=r.invertBatch(t.map((t=>t.ez)));return t.map(((t,r)=>t.toAffine(e[r]))).map(_.fromAffine)}_setWindowSize(t){this._WINDOW_SIZE=t,w.delete(this)}assertValidity(){const{a:t,d:r}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:n,ey:i,ez:o,et:s}=this,a=l(n*n),c=l(i*i),u=l(o*o),h=l(u*u),d=l(a*t);if(l(u*l(d+c))!==l(h+l(r*l(a*c))))throw new Error("bad point: equation left != right (1)");if(l(n*i)!==l(o*s))throw new Error("bad point: equation left != right (2)")}equals(t){v(t);const{ex:e,ey:r,ez:n}=this,{ex:i,ey:o,ez:s}=t,a=l(e*s),c=l(i*n),u=l(r*s),h=l(o*n);return a===c&&u===h}is0(){return this.equals(_.ZERO)}negate(){return new _(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:t}=e,{ex:r,ey:n,ez:i}=this,o=l(r*r),s=l(n*n),a=l(ht*l(i*i)),c=l(t*o),u=r+n,h=l(l(u*u)-o-s),d=c+s,f=d-a,p=c-s,g=l(h*f),y=l(d*p),m=l(h*p),b=l(f*d);return new _(g,y,b,m)}add(t){v(t);const{a:r,d:n}=e,{ex:i,ey:o,ez:s,et:a}=this,{ex:c,ey:u,ez:h,et:d}=t;if(r===BigInt(-1)){const t=l((o-i)*(u+c)),e=l((o+i)*(u-c)),r=l(e-t);if(r===ut)return this.double();const n=l(s*ht*d),f=l(a*ht*h),p=f+n,g=e+t,y=f-n,m=l(p*r),b=l(g*y),w=l(p*y),v=l(r*g);return new _(m,b,v,w)}const f=l(i*c),p=l(o*u),g=l(a*n*d),y=l(s*h),m=l((i+o)*(c+u)-f-p),b=y-g,w=y+g,E=l(p-r*f),S=l(m*b),k=l(w*E),x=l(m*E),A=l(b*w);return new _(S,k,A,x)}subtract(t){return this.add(t.negate())}wNAF(t){return k.wNAFCached(this,w,t,_.normalizeZ)}multiply(t){const{p:e,f:r}=this.wNAF(m(t,n));return _.normalizeZ([e,r])[0]}multiplyUnsafe(t){let e=b(t);return e===ut?S:this.equals(S)||e===lt?this:this.equals(E)?this.wNAF(e).p:k.unsafeLadder(this,e)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return k.unsafeLadder(this,n).is0()}toAffine(t){const{ex:e,ey:n,ez:i}=this,o=this.is0();null==t&&(t=o?dt:r.inv(i));const s=l(e*t),a=l(n*t),c=l(i*t);if(o)return{x:ut,y:lt};if(c!==lt)throw new Error("invZ was invalid");return{x:s,y:a}}clearCofactor(){const{h:t}=e;return t===lt?this:this.multiplyUnsafe(t)}static fromHex(t,n=!1){const{d:i,a:o}=e,s=r.BYTES,a=(t=L("pointHex",t,s)).slice(),c=t[s-1];a[s-1]=-129&c;const d=R(a);d===ut||m(d,n?u:r.ORDER);const f=l(d*d),p=l(f-lt),g=l(i*f-o);let{isValid:y,value:b}=h(p,g);if(!y)throw new Error("Point.fromHex: invalid y coordinate");const w=(b&lt)===lt,v=0!=(128&c);if(!n&&b===ut&&v)throw new Error("Point.fromHex: x=0 and x_0=1");return v!==w&&(b=l(-b)),_.fromAffine({x:b,y:d})}static fromPrivateKey(t){return T(t).point}toRawBytes(){const{x:t,y:e}=this.toAffine(),n=N(e,r.BYTES);return n[n.length-1]|=t&lt?128:0,n}toHex(){return A(this.toRawBytes())}}_.BASE=new _(e.Gx,e.Gy,lt,l(e.Gx*e.Gy)),_.ZERO=new _(ut,lt,lt,ut);const{BASE:E,ZERO:S}=_,k=at(_,8*a);function x(t){return Y(t,n)}function I(t){return x(R(t))}function T(t){const e=a;t=L("private key",t,e);const r=L("hashed private key",o(t),2*e),n=d(r.slice(0,e)),i=r.slice(e,2*e),s=I(n),c=E.multiply(s),u=c.toRawBytes();return{head:n,prefix:i,scalar:s,point:c,pointBytes:u}}function C(t=new Uint8Array,...e){const r=B(...e);return I(o(f(r,L("context",t),!!i)))}const O=ft;return E._setWindowSize(8),{CURVE:e,getPublicKey:function(t){return T(t).pointBytes},sign:function(t,e,n={}){t=L("message",t),i&&(t=i(t));const{prefix:o,scalar:s,pointBytes:c}=T(e),u=C(n.context,o,t),l=E.multiply(u).toRawBytes(),h=x(u+C(n.context,l,c,t)*s);return b(h),L("result",B(l,N(h,r.BYTES)),2*a)},verify:function(t,e,n,o=O){const{context:s,zip215:a}=o,c=r.BYTES;t=L("signature",t,2*c),e=L("message",e),i&&(e=i(e));const u=R(t.slice(c,2*c));let l,h,d;try{l=_.fromHex(n,a),h=_.fromHex(t.slice(0,c),a),d=E.multiplyUnsafe(u)}catch(t){return!1}if(!a&&l.isSmallOrder())return!1;const f=C(s,h.toRawBytes(),l.toRawBytes(),e);return h.add(l.multiplyUnsafe(f)).subtract(d).clearCofactor().equals(_.ZERO)},ExtendedPoint:_,utils:{getExtendedPublicKey:T,randomPrivateKey:()=>s(r.BYTES),precompute:(t=8,e=_.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)}}}const gt=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),yt=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),mt=(BigInt(0),BigInt(1)),bt=BigInt(2),wt=BigInt(5),vt=BigInt(10),_t=BigInt(20),Et=BigInt(40),St=BigInt(80);const kt=rt(gt,void 0,!0),xt=pt({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:kt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:_,randomBytes:g.O6,adjustScalarBytes:function(t){return t[0]&=248,t[31]&=127,t[31]|=64,t},uvRatio:function(t,e){const r=gt,n=Y(e*e*e,r),i=Y(n*n*e,r);let o=Y(t*n*function(t){const e=gt,r=t*t%e*t%e,n=X(r,bt,e)*r%e,i=X(n,mt,e)*t%e,o=X(i,wt,e)*i%e,s=X(o,vt,e)*o%e,a=X(s,_t,e)*s%e,c=X(a,Et,e)*a%e,u=X(c,St,e)*c%e,l=X(u,St,e)*c%e,h=X(l,vt,e)*o%e;return{pow_p_5_8:X(h,bt,e)*t%e,b2:r}}(t*i).pow_p_5_8,r);const s=Y(e*o*o,r),a=o,c=Y(o*yt,r),u=s===t,l=s===Y(-t,r),h=s===Y(-t*yt,r);return u&&(o=a),(l||h)&&(o=c),(Y(o,r)&q)===q&&(o=Y(-o,r)),{isValid:u||l,value:o}}});const At=(kt.ORDER+BigInt(3))/BigInt(8);kt.pow(bt,At),kt.sqrt(kt.neg(kt.ONE)),kt.ORDER,BigInt(5),BigInt(8),BigInt(486662),function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);t.isOdd(r)&&t.neg(r)}(kt,kt.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var It=r(3550),Tt=r.n(It),Ct=r(7191),Ot=r.n(Ct),Pt=r(7748),Rt=r(5532),Mt=r(4105),Nt=r(475);class Lt extends TypeError{constructor(t,e){let r;const{message:n,...i}=t,{path:o}=t;super(0===o.length?n:"At path: "+o.join(".")+" -- "+n),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var n;return null!=(n=r)?n:r=[t,...e()]}}}function Bt(t){return"object"==typeof t&&null!=t}function Dt(t){return"string"==typeof t?JSON.stringify(t):""+t}function jt(t,e,r,n){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:o}=e,{type:s}=r,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Dt(n)+"`"}=t;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*Ut(t,e,r,n){var i;Bt(i=t)&&"function"==typeof i[Symbol.iterator]||(t=[t]);for(const i of t){const t=jt(i,e,r,n);t&&(yield t)}}function*zt(t,e,r={}){const{path:n=[],branch:i=[t],coerce:o=!1,mask:s=!1}=r,a={path:n,branch:i};if(o&&(t=e.coercer(t,a),s&&"type"!==e.type&&Bt(e.schema)&&Bt(t)&&!Array.isArray(t)))for(const r in t)void 0===e.schema[r]&&delete t[r];let c=!0;for(const r of e.validator(t,a))c=!1,yield[r,void 0];for(let[r,u,l]of e.entries(t,a)){const e=zt(u,l,{path:void 0===r?n:[...n,r],branch:void 0===r?i:[...i,u],coerce:o,mask:s});for(const n of e)n[0]?(c=!1,yield[n[0],void 0]):o&&(u=n[1],void 0===r?t=u:t instanceof Map?t.set(r,u):t instanceof Set?t.add(u):Bt(t)&&(t[r]=u))}if(c)for(const r of e.refiner(t,a))c=!1,yield[r,void 0];c&&(yield[void 0,t])}class Ft{constructor(t){const{type:e,schema:r,validator:n,refiner:i,coercer:o=(t=>t),entries:s=function*(){}}=t;this.type=e,this.schema=r,this.entries=s,this.coercer=o,this.validator=n?(t,e)=>Ut(n(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>Ut(i(t,e),e,this,t):()=>[]}assert(t){return Wt(t,this)}create(t){return $t(t,this)}is(t){return qt(t,this)}mask(t){return function(t,e){const r=Ht(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}(t,this)}validate(t,e={}){return Ht(t,this,e)}}function Wt(t,e){const r=Ht(t,e);if(r[0])throw r[0]}function $t(t,e){const r=Ht(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function qt(t,e){return!Ht(t,e)[0]}function Ht(t,e,r={}){const n=zt(t,e,r),i=function(t){const{done:e,value:r}=t.next();return e?void 0:r}(n);return i[0]?[new Lt(i[0],(function*(){for(const t of n)t[0]&&(yield t[0])})),void 0]:[void 0,i[1]]}function Vt(t,e){return new Ft({type:t,schema:null,validator:e})}function Kt(t){return new Ft({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+Dt(t)})}function Gt(){return Vt("boolean",(t=>"boolean"==typeof t))}function Zt(t){return Vt("instance",(e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+Dt(e)))}function Yt(t){const e=Dt(t),r=typeof t;return new Ft({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?t:null,validator:r=>r===t||"Expected the literal `"+e+"`, but received: "+Dt(r)})}function Jt(t){return new Ft({...t,validator:(e,r)=>null===e||t.validator(e,r),refiner:(e,r)=>null===e||t.refiner(e,r)})}function Xt(){return Vt("number",(t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+Dt(t)))}function Qt(t){return new Ft({...t,validator:(e,r)=>void 0===e||t.validator(e,r),refiner:(e,r)=>void 0===e||t.refiner(e,r)})}function te(t,e){return new Ft({type:"record",schema:null,*entries(r){if(Bt(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator:t=>Bt(t)||"Expected an object, but received: "+Dt(t)})}function ee(){return Vt("string",(t=>"string"==typeof t||"Expected a string, but received: "+Dt(t)))}function re(t){const e=Vt("never",(()=>!1));return new Ft({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator:t=>Array.isArray(t)||"Expected an array, but received: "+Dt(t)})}function ne(t){const e=Object.keys(t);return new Ft({type:"type",schema:t,*entries(r){if(Bt(r))for(const n of e)yield[n,r[n],t[n]]},validator:t=>Bt(t)||"Expected an object, but received: "+Dt(t)})}function ie(t){const e=t.map((t=>t.type)).join(" | ");return new Ft({type:"union",schema:null,validator(r,n){const i=[];for(const e of t){const[...t]=zt(r,e,n),[o]=t;if(!o[0])return[];for(const[e]of t)e&&i.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Dt(r),...i]}})}function oe(){return Vt("unknown",(()=>!0))}function se(t,e,r){return new Ft({...t,coercer:(n,i)=>qt(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}var ae=r(1198),ce=r.n(ae),ue=r(6855),le=r(9062),he=r(3527);const[de,fe,pe]=[[],[],[]],ge=BigInt(0),ye=BigInt(1),me=BigInt(2),be=BigInt(7),we=BigInt(256),ve=BigInt(113);for(let t=0,e=ye,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],de.push(2*(5*n+r)),fe.push((t+1)*(t+2)/2%64);let i=ge;for(let t=0;t<7;t++)e=(e<<ye^(e>>be)*ve)%we,e&me&&(i^=ye<<(ye<<BigInt(t))-ye);pe.push(i)}const[_e,Ee]=u(pe,!0),Se=(t,e,r)=>r>32?d(t,e,r):l(t,e,r),ke=(t,e,r)=>r>32?f(t,e,r):h(t,e,r);class xe extends g.kb{constructor(t,e,r,n=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,he.Rx)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,g.Jq)(this.state)}keccak(){!function(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const n=(e+8)%10,i=(e+2)%10,o=r[i],s=r[i+1],a=Se(o,s,1)^r[n],c=ke(o,s,1)^r[n+1];for(let r=0;r<50;r+=10)t[e+r]^=a,t[e+r+1]^=c}let e=t[2],i=t[3];for(let r=0;r<24;r++){const n=fe[r],o=Se(e,i,n),s=ke(e,i,n),a=de[r];e=t[a],i=t[a+1],t[a]=o,t[a+1]=s}for(let e=0;e<50;e+=10){for(let n=0;n<10;n++)r[n]=t[e+n];for(let n=0;n<10;n++)t[e+n]^=~r[(n+2)%10]&r[(n+4)%10]}t[0]^=_e[n],t[1]^=Ee[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){(0,he.Gg)(this);const{blockLen:e,state:r}=this,n=(t=(0,g.O0)(t)).length;for(let i=0;i<n;){const o=Math.min(e-this.pos,n-i);for(let e=0;e<o;e++)r[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,0!=(128&e)&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){(0,he.Gg)(this,!1),(0,he.aI)(t),this.finish();const e=this.state,{blockLen:r}=this;for(let n=0,i=t.length;n<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-n);t.set(e.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,he.Rx)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,he.J8)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return t||(t=new xe(e,r,n,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=n,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Ae=((t,e,r)=>(0,g.hE)((()=>new xe(e,t,r))))(1,136,32);class Ie extends g.kb{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,(0,he.vp)(t);const r=(0,g.O0)(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?t.create().update(r).digest():r);for(let t=0;t<i.length;t++)i[t]^=54;this.iHash.update(i),this.oHash=t.create();for(let t=0;t<i.length;t++)i[t]^=106;this.oHash.update(i),i.fill(0)}update(t){return(0,he.Gg)(this),this.iHash.update(t),this}digestInto(t){(0,he.Gg)(this),(0,he.aI)(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return t.finished=n,t.destroyed=i,t.blockLen=o,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Te=(t,e,r)=>new Ie(t,e).update(r).digest();Te.create=(t,e)=>new Ie(t,e);const{bytesToNumberBE:Ce,hexToBytes:Oe}=n,Pe={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(t){const{Err:e}=Pe;if(t.length<2||2!==t[0])throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(128&n[0])throw new e("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Ce(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=Pe,r="string"==typeof t?Oe(t):t;if(!k(r))throw new Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:o}=Pe._parseInt(r.subarray(2)),{d:s,l:a}=Pe._parseInt(o);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){const e=t=>8&Number.parseInt(t[0],16)?"00"+t:t,r=t=>{const e=t.toString(16);return 1&e.length?`0${e}`:e},n=e(r(t.s)),i=e(r(t.r)),o=n.length/2,s=i.length/2,a=r(o),c=r(s);return`30${r(s+o+4)}02${c}${i}02${a}${n}`}},Re=BigInt(0),Me=BigInt(1),Ne=(BigInt(2),BigInt(3));function Le(t){const e=function(t){const e=ct(t);return W(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:r,n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function s(t){return Y(t,n)}function a(t){return Q(t,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:h}=function(t){const e=function(t){const e=ct(t);W(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:r}=e,n=e.toBytes||((t,e,n)=>{const i=e.toAffine();return B(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=e.fromBytes||(t=>{const e=t.subarray(1);return{x:r.fromBytes(e.subarray(0,r.BYTES)),y:r.fromBytes(e.subarray(r.BYTES,2*r.BYTES))}});function o(t){const{a:n,b:i}=e,o=r.sqr(t),s=r.mul(o,t);return r.add(r.add(s,r.mul(t,n)),i)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(t){return"bigint"==typeof t&&Re<t&&t<e.n}function a(t){if(!s(t))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(t){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:o}=e;if(r&&"bigint"!=typeof t){if(k(t)&&(t=A(t)),"string"!=typeof t||!r.includes(t.length))throw new Error("Invalid key");t=t.padStart(2*n,"0")}let s;try{s="bigint"==typeof t?t:P(L("private key",t,n))}catch(e){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof t}`)}return i&&(s=Y(s,o)),a(s),s}const u=new Map;function l(t){if(!(t instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(t,e,n){if(this.px=t,this.py=e,this.pz=n,null==t||!r.isValid(t))throw new Error("x required");if(null==e||!r.isValid(e))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(t){const{x:e,y:n}=t||{};if(!t||!r.isValid(e)||!r.isValid(n))throw new Error("invalid affine point");if(t instanceof h)throw new Error("projective point not allowed");const i=t=>r.eql(t,r.ZERO);return i(e)&&i(n)?h.ZERO:new h(e,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(h.fromAffine)}static fromHex(t){const e=h.fromAffine(i(L("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return h.BASE.multiply(c(t))}_setWindowSize(t){this._WINDOW_SIZE=t,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:t,y:n}=this.toAffine();if(!r.isValid(t)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),s=o(t);if(!r.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:t}=this.toAffine();if(r.isOdd)return!r.isOdd(t);throw new Error("Field doesn't support isOdd")}equals(t){l(t);const{px:e,py:n,pz:i}=this,{px:o,py:s,pz:a}=t,c=r.eql(r.mul(e,a),r.mul(o,i)),u=r.eql(r.mul(n,a),r.mul(s,i));return c&&u}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:t,b:n}=e,i=r.mul(n,Ne),{px:o,py:s,pz:a}=this;let c=r.ZERO,u=r.ZERO,l=r.ZERO,d=r.mul(o,o),f=r.mul(s,s),p=r.mul(a,a),g=r.mul(o,s);return g=r.add(g,g),l=r.mul(o,a),l=r.add(l,l),c=r.mul(t,l),u=r.mul(i,p),u=r.add(c,u),c=r.sub(f,u),u=r.add(f,u),u=r.mul(c,u),c=r.mul(g,c),l=r.mul(i,l),p=r.mul(t,p),g=r.sub(d,p),g=r.mul(t,g),g=r.add(g,l),l=r.add(d,d),d=r.add(l,d),d=r.add(d,p),d=r.mul(d,g),u=r.add(u,d),p=r.mul(s,a),p=r.add(p,p),d=r.mul(p,g),c=r.sub(c,d),l=r.mul(p,f),l=r.add(l,l),l=r.add(l,l),new h(c,u,l)}add(t){l(t);const{px:n,py:i,pz:o}=this,{px:s,py:a,pz:c}=t;let u=r.ZERO,d=r.ZERO,f=r.ZERO;const p=e.a,g=r.mul(e.b,Ne);let y=r.mul(n,s),m=r.mul(i,a),b=r.mul(o,c),w=r.add(n,i),v=r.add(s,a);w=r.mul(w,v),v=r.add(y,m),w=r.sub(w,v),v=r.add(n,o);let _=r.add(s,c);return v=r.mul(v,_),_=r.add(y,b),v=r.sub(v,_),_=r.add(i,o),u=r.add(a,c),_=r.mul(_,u),u=r.add(m,b),_=r.sub(_,u),f=r.mul(p,v),u=r.mul(g,b),f=r.add(u,f),u=r.sub(m,f),f=r.add(m,f),d=r.mul(u,f),m=r.add(y,y),m=r.add(m,y),b=r.mul(p,b),v=r.mul(g,v),m=r.add(m,b),b=r.sub(y,b),b=r.mul(p,b),v=r.add(v,b),y=r.mul(m,v),d=r.add(d,y),y=r.mul(_,v),u=r.mul(w,u),u=r.sub(u,y),y=r.mul(w,m),f=r.mul(_,f),f=r.add(f,y),new h(u,d,f)}subtract(t){return this.add(t.negate())}is0(){return this.equals(h.ZERO)}wNAF(t){return f.wNAFCached(this,u,t,(t=>{const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(h.fromAffine)}))}multiplyUnsafe(t){const n=h.ZERO;if(t===Re)return n;if(a(t),t===Me)return this;const{endo:i}=e;if(!i)return f.unsafeLadder(this,t);let{k1neg:o,k1:s,k2neg:c,k2:u}=i.splitScalar(t),l=n,d=n,p=this;for(;s>Re||u>Re;)s&Me&&(l=l.add(p)),u&Me&&(d=d.add(p)),p=p.double(),s>>=Me,u>>=Me;return o&&(l=l.negate()),c&&(d=d.negate()),d=new h(r.mul(d.px,i.beta),d.py,d.pz),l.add(d)}multiply(t){a(t);let n,i,o=t;const{endo:s}=e;if(s){const{k1neg:t,k1:e,k2neg:a,k2:c}=s.splitScalar(o);let{p:u,f:l}=this.wNAF(e),{p:d,f:p}=this.wNAF(c);u=f.constTimeNegate(t,u),d=f.constTimeNegate(a,d),d=new h(r.mul(d.px,s.beta),d.py,d.pz),n=u.add(d),i=l.add(p)}else{const{p:t,f:e}=this.wNAF(o);n=t,i=e}return h.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(t,e,r){const n=h.BASE,i=(t,e)=>e!==Re&&e!==Me&&t.equals(n)?t.multiply(e):t.multiplyUnsafe(e),o=i(this,e).add(i(t,r));return o.is0()?void 0:o}toAffine(t){const{px:e,py:n,pz:i}=this,o=this.is0();null==t&&(t=o?r.ONE:r.inv(i));const s=r.mul(e,t),a=r.mul(n,t),c=r.mul(i,t);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:t,isTorsionFree:r}=e;if(t===Me)return!0;if(r)return r(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:t,clearCofactor:r}=e;return t===Me?this:r?r(h,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return this.assertValidity(),n(h,this,t)}toHex(t=!0){return A(this.toRawBytes(t))}}h.BASE=new h(e.Gx,e.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const d=e.nBitLength,f=at(h,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:s}}({...e,toBytes(t,e,n){const i=e.toAffine(),o=r.toBytes(i.x),s=B;return n?s(Uint8Array.from([e.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(t){const e=t.length,n=t[0],s=t.subarray(1);if(e!==i||2!==n&&3!==n){if(e===o&&4===n)return{x:r.fromBytes(s.subarray(0,r.BYTES)),y:r.fromBytes(s.subarray(r.BYTES,2*r.BYTES))};throw new Error(`Point of length ${e} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}{const t=P(s);if(!(Re<(a=t)&&a<r.ORDER))throw new Error("Point is not on curve");const e=l(t);let i=r.sqrt(e);return 1==(1&n)!=((i&Me)===Me)&&(i=r.neg(i)),{x:t,y:i}}var a}}),d=t=>A(M(t,e.nByteLength));function f(t){return t>n>>Me}const p=(t,e,r)=>P(t.slice(e,r));class g{constructor(t,e,r){this.r=t,this.s=e,this.recovery=r,this.assertValidity()}static fromCompact(t){const r=e.nByteLength;return t=L("compactSignature",t,2*r),new g(p(t,0,r),p(t,r,2*r))}static fromDER(t){const{r:e,s:r}=Pe.toSig(L("DER",t));return new g(e,r)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(t){return new g(this.r,this.s,t)}recoverPublicKey(t){const{r:n,s:i,recovery:o}=this,u=w(L("msgHash",t));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const l=2===o||3===o?n+e.n:n;if(l>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=0==(1&o)?"02":"03",f=c.fromHex(h+d(l)),p=a(l),g=s(-u*p),y=s(i*p),m=c.BASE.multiplyAndAddUnsafe(f,g,y);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return O(this.toDERHex())}toDERHex(){return Pe.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return O(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const y={isValidPrivateKey(t){try{return u(t),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const t=it(e.n);return function(t,e,r=!1){const n=t.length,i=nt(e),o=it(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);const s=Y(r?P(t):R(t),e-q)+q;return r?N(s,i):M(s,i)}(e.randomBytes(t),e.n)},precompute:(t=8,e=c.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)};function m(t){const e=k(t),r="string"==typeof t,n=(e||r)&&t.length;return e?n===i||n===o:r?n===2*i||n===2*o:t instanceof c}const b=e.bits2int||function(t){const r=P(t),n=8*t.length-e.nBitLength;return n>0?r>>BigInt(n):r},w=e.bits2int_modN||function(t){return s(b(t))},v=D(e.nBitLength);function _(t){if("bigint"!=typeof t)throw new Error("bigint expected");if(!(Re<=t&&t<v))throw new Error(`bigint expected < 2^${e.nBitLength}`);return M(t,e.nByteLength)}const E={lowS:e.lowS,prehash:!1},S={lowS:e.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return c.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,r=!0){if(m(t))throw new Error("first arg must be private key");if(!m(e))throw new Error("second arg must be public key");return c.fromHex(e).multiply(u(t)).toRawBytes(r)},sign:function(t,n,i=E){const{seed:o,k2sig:l}=function(t,n,i=E){if(["recovered","canonical"].some((t=>t in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:l}=e;let{lowS:d,prehash:p,extraEntropy:y}=i;null==d&&(d=!0),t=L("msgHash",t),p&&(t=L("prehashed msgHash",o(t)));const m=w(t),v=u(n),S=[_(v),_(m)];if(null!=y){const t=!0===y?l(r.BYTES):y;S.push(L("extraEntropy",t))}const k=B(...S),x=m;return{seed:k,k2sig:function(t){const e=b(t);if(!h(e))return;const r=a(e),n=c.BASE.multiply(e).toAffine(),i=s(n.x);if(i===Re)return;const o=s(r*s(x+i*v));if(o===Re)return;let u=(n.x===i?0:2)|Number(n.y&Me),l=o;return d&&f(o)&&(l=function(t){return f(t)?s(-t):t}(o),u^=1),new g(i,l,u)}}}(t,n,i),d=e;return z(d.hash.outputLen,d.nByteLength,d.hmac)(o,l)},verify:function(t,r,n,i=S){const o=t;if(r=L("msgHash",r),n=L("publicKey",n),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:l}=i;let h,d;try{if("string"==typeof o||k(o))try{h=g.fromDER(o)}catch(t){if(!(t instanceof Pe.Err))throw t;h=g.fromCompact(o)}else{if("object"!=typeof o||"bigint"!=typeof o.r||"bigint"!=typeof o.s)throw new Error("PARSE");{const{r:t,s:e}=o;h=new g(t,e)}}d=c.fromHex(n)}catch(t){if("PARSE"===t.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&h.hasHighS())return!1;l&&(r=e.hash(r));const{r:f,s:p}=h,y=w(r),m=a(p),b=s(y*m),v=s(f*m),_=c.BASE.multiplyAndAddUnsafe(d,b,v)?.toAffine();return!!_&&s(_.x)===f},ProjectivePoint:c,Signature:g,utils:y}}function Be(t){return{hash:t,hmac:(e,...r)=>Te(t,e,(0,g.eV)(...r)),randomBytes:g.O6}}BigInt(4);const De=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),je=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ue=BigInt(1),ze=BigInt(2),Fe=(t,e)=>(t+e/ze)/e;const We=rt(De,void 0,void 0,{sqrt:function(t){const e=De,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,l=u*u*t%e,h=X(l,r,e)*l%e,d=X(h,r,e)*l%e,f=X(d,ze,e)*u%e,p=X(f,i,e)*f%e,g=X(p,o,e)*p%e,y=X(g,a,e)*g%e,m=X(y,c,e)*y%e,b=X(m,a,e)*g%e,w=X(b,r,e)*l%e,v=X(w,s,e)*p%e,_=X(v,n,e)*u%e,E=X(_,ze,e);if(!We.eql(We.sqr(E),t))throw new Error("Cannot find square root");return E}}),$e=function(t,e){const r=e=>Le({...t,...Be(e)});return Object.freeze({...r(e),create:r})}({a:BigInt(0),b:BigInt(7),Fp:We,n:je,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=je,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Ue*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=Fe(o*t,e),c=Fe(-n*t,e);let u=Y(t-a*r-c*i,e),l=Y(-a*n-c*o,e);const h=u>s,d=l>s;if(h&&(u=e-u),d&&(l=e-l),u>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:u,k2neg:d,k2:l}}}},Pt.J);BigInt(0),$e.ProjectivePoint;const qe=xt.utils.randomPrivateKey,He=()=>{const t=xt.utils.randomPrivateKey(),e=Ve(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},Ve=xt.getPublicKey;function Ke(t){try{return xt.ExtendedPoint.fromHex(t),!0}catch{return!1}}const Ge=(t,e)=>xt.sign(t,e.slice(0,32)),Ze=xt.verify,Ye=t=>i.Buffer.isBuffer(t)?t:t instanceof Uint8Array?i.Buffer.from(t.buffer,t.byteOffset,t.byteLength):i.Buffer.from(t);class Je{constructor(t){Object.assign(this,t)}encode(){return i.Buffer.from((0,Rt.serialize)(Qe,this))}static decode(t){return(0,Rt.deserialize)(Qe,this,t)}static decodeUnchecked(t){return(0,Rt.deserializeUnchecked)(Qe,this,t)}}class Xe extends Je{constructor(t){if(super(t),this.enum="",1!==Object.keys(t).length)throw new Error("Enum can only take single value");Object.keys(t).map((t=>{this.enum=t}))}}const Qe=new Map;var tr;let er;const rr=32,nr=32;let ir=1;er=Symbol.toStringTag;class or extends Je{constructor(t){if(super({}),this._bn=void 0,function(t){return void 0!==t._bn}(t))this._bn=t._bn;else{if("string"==typeof t){const e=Ot().decode(t);if(e.length!=nr)throw new Error("Invalid public key input");this._bn=new(Tt())(e)}else this._bn=new(Tt())(t);if(this._bn.byteLength()>nr)throw new Error("Invalid public key input")}}static unique(){const t=new or(ir);return ir+=1,new or(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Ot().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(i.Buffer);if(t.length===nr)return t;const e=i.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[er](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,r){const n=i.Buffer.concat([t.toBuffer(),i.Buffer.from(e),r.toBuffer()]),o=(0,Pt.J)(n);return new or(o)}static createProgramAddressSync(t,e){let r=i.Buffer.alloc(0);t.forEach((function(t){if(t.length>rr)throw new TypeError("Max seed length exceeded");r=i.Buffer.concat([r,Ye(t)])})),r=i.Buffer.concat([r,e.toBuffer(),i.Buffer.from("ProgramDerivedAddress")]);const n=(0,Pt.J)(r);if(Ke(n))throw new Error("Invalid seeds, address must fall off the curve");return new or(n)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let r,n=255;for(;0!=n;){try{const o=t.concat(i.Buffer.from([n]));r=this.createProgramAddressSync(o,e)}catch(t){if(t instanceof TypeError)throw t;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){return Ke(new or(t).toBytes())}}tr=or,or.default=new tr("11111111111111111111111111111111"),Qe.set(or,{kind:"struct",fields:[["_bn","u256"]]});class sr{constructor(t){if(this._publicKey=void 0,this._secretKey=void 0,t){const e=Ye(t);if(64!==t.length)throw new Error("bad secret key size");this._publicKey=e.slice(32,64),this._secretKey=e.slice(0,32)}else this._secretKey=Ye(qe()),this._publicKey=Ye(Ve(this._secretKey))}get publicKey(){return new or(this._publicKey)}get secretKey(){return i.Buffer.concat([this._secretKey,this._publicKey],64)}}const ar=new or("BPFLoader1111111111111111111111111111111111"),cr=1232,ur=127,lr=64;class hr extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(hr.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class dr extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(dr.prototype,"name",{value:"TransactionExpiredTimeoutError"});class fr extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(fr.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class pr{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const e=new Map;this.keySegments().flat().forEach(((t,r)=>{e.set(t.toBase58(),r)}));const r=t=>{const r=e.get(t.toBase58());if(void 0===r)throw new Error("Encountered an unknown instruction account key during compilation");return r};return t.map((t=>({programIdIndex:r(t.programId),accountKeyIndexes:t.keys.map((t=>r(t.pubkey))),data:t.data})))}}const gr=(t="publicKey")=>Mt.Ik(32,t),yr=(t="signature")=>Mt.Ik(64,t),mr=(t="string")=>{const e=Mt.n_([Mt.Jq("length"),Mt.Jq("lengthPadding"),Mt.Ik(Mt.cv(Mt.Jq(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),o=e;return o.decode=(t,e)=>r(t,e).chars.toString(),o.encode=(t,e,r)=>{const o={chars:i.Buffer.from(t,"utf8")};return n(o,e,r)},o.alloc=t=>Mt.Jq().span+Mt.Jq().span+i.Buffer.from(t,"utf8").length,o};function br(t,e){const r=t=>{if(t.span>=0)return t.span;if("function"==typeof t.alloc)return t.alloc(e[t.property]);if("count"in t&&"elementLayout"in t){const n=e[t.property];if(Array.isArray(n))return n.length*r(t.elementLayout)}else if("fields"in t)return br({layout:t},e[t.property]);return 0};let n=0;return t.layout.fields.forEach((t=>{n+=r(t)})),n}function wr(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(127&n)<<7*r,r+=1,0==(128&n))break}return e}function vr(t,e){let r=e;for(;;){let e=127&r;if(r>>=7,0==r){t.push(e);break}e|=128,t.push(e)}}function _r(t,e){if(!t)throw new Error(e||"Assertion failed")}class Er{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const r=new Map,n=t=>{const e=t.toBase58();let n=r.get(e);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(e,n)),n},i=n(e);i.isSigner=!0,i.isWritable=!0;for(const e of t){n(e.programId).isInvoked=!0;for(const t of e.keys){const e=n(t.pubkey);e.isSigner||=t.isSigner,e.isWritable||=t.isWritable}}return new Er(e,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];_r(t.length<=256,"Max static account keys length exceeded");const e=t.filter((([,t])=>t.isSigner&&t.isWritable)),r=t.filter((([,t])=>t.isSigner&&!t.isWritable)),n=t.filter((([,t])=>!t.isSigner&&t.isWritable)),i=t.filter((([,t])=>!t.isSigner&&!t.isWritable)),o={numRequiredSignatures:e.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{_r(e.length>0,"Expected at least one writable signer key");const[t]=e[0];_r(t===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[o,[...e.map((([t])=>new or(t))),...r.map((([t])=>new or(t))),...n.map((([t])=>new or(t))),...i.map((([t])=>new or(t)))]]}extractTableLookup(t){const[e,r]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&t.isWritable)),[n,i]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&!t.isWritable));if(0!==e.length||0!==n.length)return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:n},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(t,e){const r=new Array,n=new Array;for(const[i,o]of this.keyMetaMap.entries())if(e(o)){const e=new or(i),o=t.findIndex((t=>t.equals(e)));o>=0&&(_r(o<256,"Max lookup table index exceeded"),r.push(o),n.push(e),this.keyMetaMap.delete(i))}return[r,n]}}class Sr{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((t=>new or(t))),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ot().decode(t.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new pr(this.staticAccountKeys)}static compile(t){const e=Er.compile(t.instructions,t.payerKey),[r,n]=e.getMessageComponents(),i=new pr(n).compileInstructions(t.instructions).map((t=>({programIdIndex:t.programIdIndex,accounts:t.accountKeyIndexes,data:Ot().encode(t.data)})));return new Sr({header:r,accountKeys:n,recentBlockhash:t.recentBlockhash,instructions:i})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;return t>=this.header.numRequiredSignatures?t-e<this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts:t<e-this.header.numReadonlySignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((t,e)=>!this.isProgramId(e)))}serialize(){const t=this.accountKeys.length;let e=[];vr(e,t);const r=this.instructions.map((t=>{const{accounts:e,programIdIndex:r}=t,n=Array.from(Ot().decode(t.data));let o=[];vr(o,e.length);let s=[];return vr(s,n.length),{programIdIndex:r,keyIndicesCount:i.Buffer.from(o),keyIndices:e,dataLength:i.Buffer.from(s),data:n}}));let n=[];vr(n,r.length);let o=i.Buffer.alloc(cr);i.Buffer.from(n).copy(o);let s=n.length;r.forEach((t=>{const e=Mt.n_([Mt.u8("programIdIndex"),Mt.Ik(t.keyIndicesCount.length,"keyIndicesCount"),Mt.A9(Mt.u8("keyIndex"),t.keyIndices.length,"keyIndices"),Mt.Ik(t.dataLength.length,"dataLength"),Mt.A9(Mt.u8("userdatum"),t.data.length,"data")]).encode(t,o,s);s+=e})),o=o.slice(0,s);const a=Mt.n_([Mt.Ik(1,"numRequiredSignatures"),Mt.Ik(1,"numReadonlySignedAccounts"),Mt.Ik(1,"numReadonlyUnsignedAccounts"),Mt.Ik(e.length,"keyCount"),Mt.A9(gr("key"),t,"keys"),gr("recentBlockhash")]),c={numRequiredSignatures:i.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:i.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:i.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:i.Buffer.from(e),keys:this.accountKeys.map((t=>Ye(t.toBytes()))),recentBlockhash:Ot().decode(this.recentBlockhash)};let u=i.Buffer.alloc(2048);const l=a.encode(c,u);return o.copy(u,l),u.slice(0,l+o.length)}static from(t){let e=[...t];const r=e.shift();if(r!==(r&ur))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const n=e.shift(),o=e.shift(),s=wr(e);let a=[];for(let t=0;t<s;t++){const t=e.slice(0,nr);e=e.slice(nr),a.push(new or(i.Buffer.from(t)))}const c=e.slice(0,nr);e=e.slice(nr);const u=wr(e);let l=[];for(let t=0;t<u;t++){const t=e.shift(),r=wr(e),n=e.slice(0,r);e=e.slice(r);const o=wr(e),s=e.slice(0,o),a=Ot().encode(i.Buffer.from(s));e=e.slice(o),l.push({programIdIndex:t,accounts:n,data:a})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:o},recentBlockhash:Ot().encode(i.Buffer.from(c)),accountKeys:a,instructions:l};return new Sr(h)}}class kr{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new pr(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;return t>=r?t-r<this.addressTableLookups.reduce(((t,e)=>t+e.writableIndexes.length),0):t>=this.header.numRequiredSignatures?t-e<r-e-this.header.numReadonlyUnsignedAccounts:t<e-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const r of this.addressTableLookups){const n=t.find((t=>t.key.equals(r.accountKey)));if(!n)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const t of r.writableIndexes){if(!(t<n.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${r.accountKey.toBase58()}`);e.writable.push(n.state.addresses[t])}for(const t of r.readonlyIndexes){if(!(t<n.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${r.accountKey.toBase58()}`);e.readonly.push(n.state.addresses[t])}}return e}static compile(t){const e=Er.compile(t.instructions,t.payerKey),r=new Array,n={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const t of i){const i=e.extractTableLookup(t);if(void 0!==i){const[t,{writable:e,readonly:o}]=i;r.push(t),n.writable.push(...e),n.readonly.push(...o)}}const[o,s]=e.getMessageComponents(),a=new pr(s,n).compileInstructions(t.instructions);return new kr({header:o,staticAccountKeys:s,recentBlockhash:t.recentBlockhash,compiledInstructions:a,addressTableLookups:r})}serialize(){const t=Array();vr(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),r=Array();vr(r,this.compiledInstructions.length);const n=this.serializeAddressTableLookups(),i=Array();vr(i,this.addressTableLookups.length);const o=Mt.n_([Mt.u8("prefix"),Mt.n_([Mt.u8("numRequiredSignatures"),Mt.u8("numReadonlySignedAccounts"),Mt.u8("numReadonlyUnsignedAccounts")],"header"),Mt.Ik(t.length,"staticAccountKeysLength"),Mt.A9(gr(),this.staticAccountKeys.length,"staticAccountKeys"),gr("recentBlockhash"),Mt.Ik(r.length,"instructionsLength"),Mt.Ik(e.length,"serializedInstructions"),Mt.Ik(i.length,"addressTableLookupsLength"),Mt.Ik(n.length,"serializedAddressTableLookups")]),s=new Uint8Array(cr),a=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map((t=>t.toBytes())),recentBlockhash:Ot().decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:n},s);return s.slice(0,a)}serializeInstructions(){let t=0;const e=new Uint8Array(cr);for(const r of this.compiledInstructions){const n=Array();vr(n,r.accountKeyIndexes.length);const i=Array();vr(i,r.data.length),t+=Mt.n_([Mt.u8("programIdIndex"),Mt.Ik(n.length,"encodedAccountKeyIndexesLength"),Mt.A9(Mt.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),Mt.Ik(i.length,"encodedDataLength"),Mt.Ik(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(n),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(cr);for(const r of this.addressTableLookups){const n=Array();vr(n,r.writableIndexes.length);const i=Array();vr(i,r.readonlyIndexes.length),t+=Mt.n_([gr("accountKey"),Mt.Ik(n.length,"encodedWritableIndexesLength"),Mt.A9(Mt.u8(),r.writableIndexes.length,"writableIndexes"),Mt.Ik(i.length,"encodedReadonlyIndexesLength"),Mt.A9(Mt.u8(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(n),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const r=e.shift(),n=r&ur;_r(r!==n,"Expected versioned message but received legacy message"),_r(0===n,`Expected versioned message with version 0 but found version ${n}`);const i={numRequiredSignatures:e.shift(),numReadonlySignedAccounts:e.shift(),numReadonlyUnsignedAccounts:e.shift()},o=[],s=wr(e);for(let t=0;t<s;t++)o.push(new or(e.splice(0,nr)));const a=Ot().encode(e.splice(0,nr)),c=wr(e),u=[];for(let t=0;t<c;t++){const t=e.shift(),r=wr(e),n=e.splice(0,r),i=wr(e),o=new Uint8Array(e.splice(0,i));u.push({programIdIndex:t,accountKeyIndexes:n,data:o})}const l=wr(e),h=[];for(let t=0;t<l;t++){const t=new or(e.splice(0,nr)),r=wr(e),n=e.splice(0,r),i=wr(e),o=e.splice(0,i);h.push({accountKey:t,writableIndexes:n,readonlyIndexes:o})}return new kr({header:i,staticAccountKeys:o,recentBlockhash:a,compiledInstructions:u,addressTableLookups:h})}}const xr={deserializeMessageVersion(t){const e=t[0],r=e&ur;return r===e?"legacy":r},deserialize:t=>{const e=xr.deserializeMessageVersion(t);if("legacy"===e)return Sr.from(t);if(0===e)return kr.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Ar=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const Ir=i.Buffer.alloc(lr).fill(0);class Tr{constructor(t){this.keys=void 0,this.programId=void 0,this.data=i.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map((({pubkey:t,isSigner:e,isWritable:r})=>({pubkey:t.toJSON(),isSigner:e,isWritable:r}))),programId:this.programId.toJSON(),data:[...this.data]}}}class Cr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:r}=t;this.minNonceContextSlot=e,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:r}=t;this.recentBlockhash=e,this.lastValidBlockHeight=r}else{const{recentBlockhash:e,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((t=>t.toJSON())),signers:this.signatures.map((({publicKey:t})=>t.toJSON()))}}add(...t){if(0===t.length)throw new Error("No instructions");return t.forEach((t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Tr(t))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e,r;if(this.nonceInfo?(t=this.nonceInfo.nonce,e=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");if(e.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let t=0;t<e.length;t++)if(void 0===e[t].programId)throw new Error(`Transaction instruction index ${t} has undefined program id`);const n=[],i=[];e.forEach((t=>{t.keys.forEach((t=>{i.push({...t})}));const e=t.programId.toString();n.includes(e)||n.push(e)})),n.forEach((t=>{i.push({pubkey:new or(t),isSigner:!1,isWritable:!1})}));const o=[];i.forEach((t=>{const e=t.pubkey.toString(),r=o.findIndex((t=>t.pubkey.toString()===e));r>-1?(o[r].isWritable=o[r].isWritable||t.isWritable,o[r].isSigner=o[r].isSigner||t.isSigner):o.push(t)})),o.sort((function(t,e){return t.isSigner!==e.isSigner?t.isSigner?-1:1:t.isWritable!==e.isWritable?t.isWritable?-1:1:t.pubkey.toBase58().localeCompare(e.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const s=o.findIndex((t=>t.pubkey.equals(r)));if(s>-1){const[t]=o.splice(s,1);t.isSigner=!0,t.isWritable=!0,o.unshift(t)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const t of this.signatures){const e=o.findIndex((e=>e.pubkey.equals(t.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${t.publicKey.toString()}`);o[e].isSigner||(o[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,u=0;const l=[],h=[];o.forEach((({pubkey:t,isSigner:e,isWritable:r})=>{e?(l.push(t.toString()),a+=1,r||(c+=1)):(h.push(t.toString()),r||(u+=1))}));const d=l.concat(h),f=e.map((t=>{const{data:e,programId:r}=t;return{programIdIndex:d.indexOf(r.toString()),accounts:t.keys.map((t=>d.indexOf(t.pubkey.toString()))),data:Ot().encode(e)}}));return f.forEach((t=>{_r(t.programIdIndex>=0),t.accounts.forEach((t=>_r(t>=0)))})),new Sr({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:d,recentBlockhash:t,instructions:f})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every(((t,r)=>e[r].equals(t.publicKey)))||(this.signatures=e.map((t=>({signature:null,publicKey:t})))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(0===t.length)throw new Error("No signers");const e=new Set;this.signatures=t.filter((t=>{const r=t.toString();return!e.has(r)&&(e.add(r),!0)})).map((t=>({signature:null,publicKey:t})))}sign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,r=[];for(const n of t){const t=n.publicKey.toString();e.has(t)||(e.add(t),r.push(n))}this.signatures=r.map((t=>({signature:null,publicKey:t.publicKey})));const n=this._compile();this._partialSign(n,...r)}partialSign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,r=[];for(const n of t){const t=n.publicKey.toString();e.has(t)||(e.add(t),r.push(n))}const n=this._compile();this._partialSign(n,...r)}_partialSign(t,...e){const r=t.serialize();e.forEach((t=>{const e=Ge(r,t.secretKey);this._addSignature(t.publicKey,Ye(e))}))}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){_r(64===e.length);const r=this.signatures.findIndex((e=>t.equals(e.publicKey)));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=i.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const r={};for(const{signature:n,publicKey:i}of this.signatures)null===n?e&&(r.missing||=[]).push(i):Ze(n,t,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),n=this.serializeMessage();if(r){const t=this._getMessageSignednessErrors(n,e);if(t){let e="Signature verification failed.";throw t.invalid&&(e+=`\nInvalid signature for public key${1===t.invalid.length?"":"(s)"} [\`${t.invalid.map((t=>t.toBase58())).join("`, `")}\`].`),t.missing&&(e+=`\nMissing signature for public key${1===t.missing.length?"":"(s)"} [\`${t.missing.map((t=>t.toBase58())).join("`, `")}\`].`),new Error(e)}}return this._serialize(n)}_serialize(t){const{signatures:e}=this,r=[];vr(r,e.length);const n=r.length+64*e.length+t.length,o=i.Buffer.alloc(n);return _r(e.length<256),i.Buffer.from(r).copy(o,0),e.forEach((({signature:t},e)=>{null!==t&&(_r(64===t.length,"signature has invalid length"),i.Buffer.from(t).copy(o,r.length+64*e))})),t.copy(o,r.length+64*e.length),_r(o.length<=cr,`Transaction too large: ${o.length} > ${cr}`),o}get keys(){return _r(1===this.instructions.length),this.instructions[0].keys.map((t=>t.pubkey))}get programId(){return _r(1===this.instructions.length),this.instructions[0].programId}get data(){return _r(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const r=wr(e);let n=[];for(let t=0;t<r;t++){const t=e.slice(0,lr);e=e.slice(lr),n.push(Ot().encode(i.Buffer.from(t)))}return Cr.populate(Sr.from(e),n)}static populate(t,e=[]){const r=new Cr;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),e.forEach(((e,n)=>{const i={signature:e==Ot().encode(Ir)?null:Ot().decode(e),publicKey:t.accountKeys[n]};r.signatures.push(i)})),t.instructions.forEach((e=>{const n=e.accounts.map((e=>{const n=t.accountKeys[e];return{pubkey:n,isSigner:r.signatures.some((t=>t.publicKey.toString()===n.toString()))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));r.instructions.push(new Tr({keys:n,programId:t.accountKeys[e.programIdIndex],data:Ot().decode(e.data)}))})),r._message=t,r._json=r.toJSON(),r}}class Or{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,e){const{header:r,compiledInstructions:n,recentBlockhash:i}=t,{numRequiredSignatures:o,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:a}=r,c=o-s;_r(c>0,"Message header is invalid");const u=t.staticAccountKeys.length-o-a;_r(u>=0,"Message header is invalid");const l=t.getAccountKeys(e),h=l.get(0);if(void 0===h)throw new Error("Failed to decompile message because no account keys were found");const d=[];for(const t of n){const e=[];for(const n of t.accountKeyIndexes){const t=l.get(n);if(void 0===t)throw new Error(`Failed to find key for account key index ${n}`);let i;i=n<o?n<c:n<l.staticAccountKeys.length?n-o<u:n-l.staticAccountKeys.length<l.accountKeysFromLookups.writable.length,e.push({pubkey:t,isSigner:n<r.numRequiredSignatures,isWritable:i})}const n=l.get(t.programIdIndex);if(void 0===n)throw new Error(`Failed to find program id for program id index ${t.programIdIndex}`);d.push(new Tr({programId:n,data:Ye(t.data),keys:e}))}return new Or({payerKey:h,instructions:d,recentBlockhash:i})}compileToLegacyMessage(){return Sr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return kr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}}class Pr{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,void 0!==e)_r(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const e=[];for(let r=0;r<t.header.numRequiredSignatures;r++)e.push(new Uint8Array(lr));this.signatures=e}this.message=t}serialize(){const t=this.message.serialize(),e=Array();vr(e,this.signatures.length);const r=Mt.n_([Mt.Ik(e.length,"encodedSignaturesLength"),Mt.A9(yr(),this.signatures.length,"signatures"),Mt.Ik(t.length,"serializedMessage")]),n=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},n);return n.slice(0,i)}static deserialize(t){let e=[...t];const r=[],n=wr(e);for(let t=0;t<n;t++)r.push(new Uint8Array(e.splice(0,lr)));const i=xr.deserialize(new Uint8Array(e));return new Pr(i,r)}sign(t){const e=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const n of t){const t=r.findIndex((t=>t.equals(n.publicKey)));_r(t>=0,`Cannot sign with non signer key ${n.publicKey.toBase58()}`),this.signatures[t]=Ge(e,n.secretKey)}}addSignature(t,e){_r(64===e.byteLength,"Signature must be 64 bytes long");const r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((e=>e.equals(t)));_r(r>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[r]=e}}const Rr=new or("SysvarC1ock11111111111111111111111111111111"),Mr=new or("SysvarEpochSchedu1e111111111111111111111111"),Nr=new or("Sysvar1nstructions1111111111111111111111111"),Lr=new or("SysvarRecentB1ockHashes11111111111111111111"),Br=new or("SysvarRent111111111111111111111111111111111"),Dr=new or("SysvarRewards111111111111111111111111111111"),jr=new or("SysvarS1otHashes111111111111111111111111111"),Ur=new or("SysvarS1otHistory11111111111111111111111111"),zr=new or("SysvarStakeHistory1111111111111111111111111");async function Fr(t,e,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await t.sendTransaction(e,r,i);let s;if(null!=e.recentBlockhash&&null!=e.lastValidBlockHeight)s=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(null!=e.minNonceContextSlot&&null!=e.nonceInfo){const{nonceInstruction:r}=e.nonceInfo,i=r.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:e.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else null!=n?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function Wr(t){return new Promise((e=>setTimeout(e,t)))}function $r(t,e){const r=t.layout.span>=0?t.layout.span:br(t,e),n=i.Buffer.alloc(r),o=Object.assign({instruction:t.index},e);return t.layout.encode(o,n),n}function qr(t,e){let r;try{r=t.layout.decode(e)}catch(t){throw new Error("invalid instruction; "+t)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}const Hr=Mt._O("lamportsPerSignature"),Vr=Mt.n_([Mt.Jq("version"),Mt.Jq("state"),gr("authorizedPubkey"),gr("nonce"),Mt.n_([Hr],"feeCalculator")]),Kr=Vr.span;class Gr{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=Vr.decode(Ye(t),0);return new Gr({authorizedPubkey:new or(e.authorizedPubkey),nonce:new or(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const Zr=(8,t=>{const e=(0,Mt.Ik)(8,t),{encode:r,decode:n}=(t=>({decode:t.decode.bind(t),encode:t.encode.bind(t)}))(e),o=e;return o.decode=(t,e)=>{const r=n(t,e);return(0,Nt.oU)(i.Buffer.from(r))},o.encode=(t,e,n)=>{const i=(0,Nt.k$)(t,8);return r(i,e,n)},o});class Yr{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Mt.Jq("instruction").decode(t.data);let r;for(const[t,n]of Object.entries(Jr))if(n.index==e){r=t;break}if(!r)throw new Error("Instruction type incorrect; not a SystemInstruction");return r}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e,space:r,programId:n}=qr(Jr.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:e,space:r,programId:new or(n)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e}=qr(Jr.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:e}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e,seed:r,programId:n}=qr(Jr.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:e,seed:r,programId:new or(n)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{space:e}=qr(Jr.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:e}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:r,space:n,programId:i}=qr(Jr.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new or(e),seed:r,space:n,programId:new or(i)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{programId:e}=qr(Jr.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new or(e)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:r,programId:n}=qr(Jr.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new or(e),seed:r,programId:new or(n)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{base:e,seed:r,lamports:n,space:i,programId:o}=qr(Jr.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new or(e),seed:r,lamports:n,space:i,programId:new or(o)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{authorized:e}=qr(Jr.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new or(e)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),qr(Jr.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=qr(Jr.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e}=qr(Jr.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new or(e)}}static checkProgramId(t){if(!t.equals(Xr.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const Jr=Object.freeze({Create:{index:0,layout:Mt.n_([Mt.Jq("instruction"),Mt.gM("lamports"),Mt.gM("space"),gr("programId")])},Assign:{index:1,layout:Mt.n_([Mt.Jq("instruction"),gr("programId")])},Transfer:{index:2,layout:Mt.n_([Mt.Jq("instruction"),Zr("lamports")])},CreateWithSeed:{index:3,layout:Mt.n_([Mt.Jq("instruction"),gr("base"),mr("seed"),Mt.gM("lamports"),Mt.gM("space"),gr("programId")])},AdvanceNonceAccount:{index:4,layout:Mt.n_([Mt.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:Mt.n_([Mt.Jq("instruction"),Mt.gM("lamports")])},InitializeNonceAccount:{index:6,layout:Mt.n_([Mt.Jq("instruction"),gr("authorized")])},AuthorizeNonceAccount:{index:7,layout:Mt.n_([Mt.Jq("instruction"),gr("authorized")])},Allocate:{index:8,layout:Mt.n_([Mt.Jq("instruction"),Mt.gM("space")])},AllocateWithSeed:{index:9,layout:Mt.n_([Mt.Jq("instruction"),gr("base"),mr("seed"),Mt.gM("space"),gr("programId")])},AssignWithSeed:{index:10,layout:Mt.n_([Mt.Jq("instruction"),gr("base"),mr("seed"),gr("programId")])},TransferWithSeed:{index:11,layout:Mt.n_([Mt.Jq("instruction"),Zr("lamports"),mr("seed"),gr("programId")])},UpgradeNonceAccount:{index:12,layout:Mt.n_([Mt.Jq("instruction")])}});class Xr{constructor(){}static createAccount(t){const e=$r(Jr.Create,{lamports:t.lamports,space:t.space,programId:Ye(t.programId.toBuffer())});return new Tr({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:e})}static transfer(t){let e,r;return"basePubkey"in t?(e=$r(Jr.TransferWithSeed,{lamports:BigInt(t.lamports),seed:t.seed,programId:Ye(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]):(e=$r(Jr.Transfer,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]),new Tr({keys:r,programId:this.programId,data:e})}static assign(t){let e,r;return"basePubkey"in t?(e=$r(Jr.AssignWithSeed,{base:Ye(t.basePubkey.toBuffer()),seed:t.seed,programId:Ye(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=$r(Jr.Assign,{programId:Ye(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new Tr({keys:r,programId:this.programId,data:e})}static createAccountWithSeed(t){const e=$r(Jr.CreateWithSeed,{base:Ye(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:Ye(t.programId.toBuffer())});let r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&r.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Tr({keys:r,programId:this.programId,data:e})}static createNonceAccount(t){const e=new Cr;"basePubkey"in t&&"seed"in t?e.add(Xr.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:Kr,programId:this.programId})):e.add(Xr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:Kr,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(r)),e}static nonceInitialize(t){const e=$r(Jr.InitializeNonceAccount,{authorized:Ye(t.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Lr,isSigner:!1,isWritable:!1},{pubkey:Br,isSigner:!1,isWritable:!1}],programId:this.programId,data:e};return new Tr(r)}static nonceAdvance(t){const e=$r(Jr.AdvanceNonceAccount),r={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Lr,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e};return new Tr(r)}static nonceWithdraw(t){const e=$r(Jr.WithdrawNonceAccount,{lamports:t.lamports});return new Tr({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Lr,isSigner:!1,isWritable:!1},{pubkey:Br,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static nonceAuthorize(t){const e=$r(Jr.AuthorizeNonceAccount,{authorized:Ye(t.newAuthorizedPubkey.toBuffer())});return new Tr({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static allocate(t){let e,r;return"basePubkey"in t?(e=$r(Jr.AllocateWithSeed,{base:Ye(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:Ye(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=$r(Jr.Allocate,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new Tr({keys:r,programId:this.programId,data:e})}}Xr.programId=new or("11111111111111111111111111111111");const Qr=cr-300;class tn{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/tn.chunkSize)+1+1)}static async load(t,e,r,n,o){{const i=await t.getMinimumBalanceForRentExemption(o.length),s=await t.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==o.length&&(a=a||new Cr,a.add(Xr.allocate({accountPubkey:r.publicKey,space:o.length}))),s.owner.equals(n)||(a=a||new Cr,a.add(Xr.assign({accountPubkey:r.publicKey,programId:n}))),s.lamports<i&&(a=a||new Cr,a.add(Xr.transfer({fromPubkey:e.publicKey,toPubkey:r.publicKey,lamports:i-s.lamports})))}else a=(new Cr).add(Xr.createAccount({fromPubkey:e.publicKey,newAccountPubkey:r.publicKey,lamports:i>0?i:1,space:o.length,programId:n}));null!==a&&await Fr(t,a,[e,r],{commitment:"confirmed"})}const s=Mt.n_([Mt.Jq("instruction"),Mt.Jq("offset"),Mt.Jq("bytesLength"),Mt.Jq("bytesLengthPadding"),Mt.A9(Mt.u8("byte"),Mt.cv(Mt.Jq(),-8),"bytes")]),a=tn.chunkSize;let c=0,u=o,l=[];for(;u.length>0;){const o=u.slice(0,a),h=i.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:o,bytesLength:0,bytesLengthPadding:0},h);const d=(new Cr).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:h});if(l.push(Fr(t,d,[e,r],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")){const t=4;await Wr(1e3/t)}c+=a,u=u.slice(a)}await Promise.all(l);{const o=Mt.n_([Mt.Jq("instruction")]),s=i.Buffer.alloc(o.span);o.encode({instruction:1},s);const a=(new Cr).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Br,isSigner:!1,isWritable:!1}],programId:n,data:s}),c="processed",u=await t.sendTransaction(a,[e,r],{preflightCommitment:c}),{context:l,value:h}=await t.confirmTransaction({signature:u,lastValidBlockHeight:a.lastValidBlockHeight,blockhash:a.recentBlockhash},c);if(h.err)throw new Error(`Transaction ${u} failed (${JSON.stringify(h)})`);for(;;){try{if(await t.getSlot({commitment:c})>l.slot)break}catch{}await new Promise((t=>setTimeout(t,Math.round(200))))}}return!0}}tn.chunkSize=Qr;const en=new or("BPFLoader2111111111111111111111111111111111");class rn{static getMinNumSignatures(t){return tn.getMinNumSignatures(t)}static load(t,e,r,n,i){return tn.load(t,e,r,i,n)}}function nn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var on=Object.prototype.toString,sn=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function an(t,e){var r,n,i,o,s,a,c;if(!0===t)return"true";if(!1===t)return"false";switch(typeof t){case"object":if(null===t)return null;if(t.toJSON&&"function"==typeof t.toJSON)return an(t.toJSON(),e);if("[object Array]"===(c=on.call(t))){for(i="[",n=t.length-1,r=0;r<n;r++)i+=an(t[r],!0)+",";return n>-1&&(i+=an(t[r],!0)),i+"]"}if("[object Object]"===c){for(n=(o=sn(t).sort()).length,i="",r=0;r<n;)void 0!==(a=an(t[s=o[r]],!1))&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),r++;return"{"+i+"}"}return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var cn=nn((function(t){var e=an(t,!1);if(void 0!==e)return""+e}));function un(t){let e=0;for(;t>1;)t/=2,e++;return e}class ln{constructor(t,e,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const r=un(0===(e=t+32+1)?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,1+(e|=e>>32)))-un(32)-1;return[r,t-(this.getSlotsInEpoch(r)-32)]}{const e=t-this.firstNormalSlot,r=Math.floor(e/this.slotsPerEpoch);return[this.firstNormalEpoch+r,e%this.slotsPerEpoch]}var e}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?32*(Math.pow(2,t)-1):(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+un(32)):this.slotsPerEpoch}}class hn extends Error{constructor(t,e){super(t),this.logs=void 0,this.logs=e}}const dn={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class fn extends Error{constructor({code:t,message:e,data:r},n){super(null!=n?`${n}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}}var pn=globalThis.fetch;class gn extends ue.Z{constructor(t,e,r){super((t=>{const r=(0,le.Z)(t,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return this.underlyingSocket="socket"in r?r.socket:r,r}),t,e,r),this.underlyingSocket=void 0}call(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}class yn{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=function(t,e){let r;try{r=t.layout.decode(e)}catch(t){throw new Error("invalid instruction; "+t)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}(mn,t),r=t.length-56;_r(r>=0,"lookup table is invalid"),_r(r%32==0,"lookup table is invalid");const n=r/32,{addresses:i}=Mt.n_([Mt.A9(gr(),n,"addresses")]).decode(t.slice(56));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:0!==e.authority.length?new or(e.authority[0]):void 0,addresses:i.map((t=>new or(t)))}}}const mn={index:1,layout:Mt.n_([Mt.Jq("typeIndex"),Zr("deactivationSlot"),Mt._O("lastExtendedSlot"),Mt.u8("lastExtendedStartIndex"),Mt.u8(),Mt.A9(gr(),Mt.cv(Mt.u8(),-1),"authority")])},bn=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i,wn=se(Zt(or),ee(),(t=>new or(t))),vn=re([ee(),Yt("base64")]),_n=se(Zt(i.Buffer),vn,(t=>i.Buffer.from(t[0],"base64"))),En=3e4;function Sn(t){let e,r;if("string"==typeof t)e=t;else if(t){const{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function kn(t){return ie([ne({jsonrpc:Yt("2.0"),id:ee(),result:t}),ne({jsonrpc:Yt("2.0"),id:ee(),error:ne({code:oe(),message:ee(),data:Qt(Vt("any",(()=>!0)))})})])}const xn=kn(oe());function An(t){return se(kn(t),xn,(e=>"error"in e?e:{...e,result:$t(e.result,t)}))}function In(t){return An(ne({context:ne({slot:Xt()}),value:t}))}function Tn(t){return ne({context:ne({slot:Xt()}),value:t})}function Cn(t,e){return 0===t?new kr({header:e.header,staticAccountKeys:e.accountKeys.map((t=>new or(t))),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ot().decode(t.data)}))),addressTableLookups:e.addressTableLookups}):new Sr(e)}const On=ne({foundation:Xt(),foundationTerm:Xt(),initial:Xt(),taper:Xt(),terminal:Xt()}),Pn=An(Kt(Jt(ne({epoch:Xt(),effectiveSlot:Xt(),amount:Xt(),postBalance:Xt(),commission:Qt(Jt(Xt()))})))),Rn=Kt(ne({slot:Xt(),prioritizationFee:Xt()})),Mn=ne({total:Xt(),validator:Xt(),foundation:Xt(),epoch:Xt()}),Nn=ne({epoch:Xt(),slotIndex:Xt(),slotsInEpoch:Xt(),absoluteSlot:Xt(),blockHeight:Qt(Xt()),transactionCount:Qt(Xt())}),Ln=ne({slotsPerEpoch:Xt(),leaderScheduleSlotOffset:Xt(),warmup:Gt(),firstNormalEpoch:Xt(),firstNormalSlot:Xt()}),Bn=te(ee(),Kt(Xt())),Dn=Jt(ie([ne({}),ee()])),jn=ne({err:Dn}),Un=Yt("receivedSignature"),zn=ne({"solana-core":ee(),"feature-set":Qt(Xt())}),Fn=In(ne({err:Jt(ie([ne({}),ee()])),logs:Jt(Kt(ee())),accounts:Qt(Jt(Kt(Jt(ne({executable:Gt(),owner:ee(),lamports:Xt(),data:Kt(ee()),rentEpoch:Qt(Xt())}))))),unitsConsumed:Qt(Xt()),returnData:Qt(Jt(ne({programId:ee(),data:re([ee(),Yt("base64")])})))})),Wn=In(ne({byIdentity:te(ee(),Kt(Xt())),range:ne({firstSlot:Xt(),lastSlot:Xt()})})),$n=An(On),qn=An(Mn),Hn=An(Rn),Vn=An(Nn),Kn=An(Ln),Gn=An(Bn),Zn=An(Xt()),Yn=In(ne({total:Xt(),circulating:Xt(),nonCirculating:Xt(),nonCirculatingAccounts:Kt(wn)})),Jn=ne({amount:ee(),uiAmount:Jt(Xt()),decimals:Xt(),uiAmountString:Qt(ee())}),Xn=In(Kt(ne({address:wn,amount:ee(),uiAmount:Jt(Xt()),decimals:Xt(),uiAmountString:Qt(ee())}))),Qn=In(Kt(ne({pubkey:wn,account:ne({executable:Gt(),owner:wn,lamports:Xt(),data:_n,rentEpoch:Xt()})}))),ti=ne({program:ee(),parsed:oe(),space:Xt()}),ei=In(Kt(ne({pubkey:wn,account:ne({executable:Gt(),owner:wn,lamports:Xt(),data:ti,rentEpoch:Xt()})}))),ri=In(Kt(ne({lamports:Xt(),address:wn}))),ni=ne({executable:Gt(),owner:wn,lamports:Xt(),data:_n,rentEpoch:Xt()}),ii=ne({pubkey:wn,account:ni}),oi=se(ie([Zt(i.Buffer),ti]),ie([vn,ti]),(t=>Array.isArray(t)?$t(t,_n):t)),si=ne({executable:Gt(),owner:wn,lamports:Xt(),data:oi,rentEpoch:Xt()}),ai=ne({pubkey:wn,account:si}),ci=ne({state:ie([Yt("active"),Yt("inactive"),Yt("activating"),Yt("deactivating")]),active:Xt(),inactive:Xt()}),ui=An(Kt(ne({signature:ee(),slot:Xt(),err:Dn,memo:Jt(ee()),blockTime:Qt(Jt(Xt()))}))),li=An(Kt(ne({signature:ee(),slot:Xt(),err:Dn,memo:Jt(ee()),blockTime:Qt(Jt(Xt()))}))),hi=ne({subscription:Xt(),result:Tn(ni)}),di=ne({pubkey:wn,account:ni}),fi=ne({subscription:Xt(),result:Tn(di)}),pi=ne({parent:Xt(),slot:Xt(),root:Xt()}),gi=ne({subscription:Xt(),result:pi}),yi=ie([ne({type:ie([Yt("firstShredReceived"),Yt("completed"),Yt("optimisticConfirmation"),Yt("root")]),slot:Xt(),timestamp:Xt()}),ne({type:Yt("createdBank"),parent:Xt(),slot:Xt(),timestamp:Xt()}),ne({type:Yt("frozen"),slot:Xt(),timestamp:Xt(),stats:ne({numTransactionEntries:Xt(),numSuccessfulTransactions:Xt(),numFailedTransactions:Xt(),maxTransactionsPerEntry:Xt()})}),ne({type:Yt("dead"),slot:Xt(),timestamp:Xt(),err:ee()})]),mi=ne({subscription:Xt(),result:yi}),bi=ne({subscription:Xt(),result:Tn(ie([jn,Un]))}),wi=ne({subscription:Xt(),result:Xt()}),vi=ne({pubkey:ee(),gossip:Jt(ee()),tpu:Jt(ee()),rpc:Jt(ee()),version:Jt(ee())}),_i=ne({votePubkey:ee(),nodePubkey:ee(),activatedStake:Xt(),epochVoteAccount:Gt(),epochCredits:Kt(re([Xt(),Xt(),Xt()])),commission:Xt(),lastVote:Xt(),rootSlot:Jt(Xt())}),Ei=An(ne({current:Kt(_i),delinquent:Kt(_i)})),Si=ie([Yt("processed"),Yt("confirmed"),Yt("finalized")]),ki=ne({slot:Xt(),confirmations:Jt(Xt()),err:Dn,confirmationStatus:Qt(Si)}),xi=In(Kt(Jt(ki))),Ai=An(Xt()),Ii=ne({accountKey:wn,writableIndexes:Kt(Xt()),readonlyIndexes:Kt(Xt())}),Ti=ne({signatures:Kt(ee()),message:ne({accountKeys:Kt(ee()),header:ne({numRequiredSignatures:Xt(),numReadonlySignedAccounts:Xt(),numReadonlyUnsignedAccounts:Xt()}),instructions:Kt(ne({accounts:Kt(Xt()),data:ee(),programIdIndex:Xt()})),recentBlockhash:ee(),addressTableLookups:Qt(Kt(Ii))})}),Ci=ne({pubkey:wn,signer:Gt(),writable:Gt(),source:Qt(ie([Yt("transaction"),Yt("lookupTable")]))}),Oi=ne({accountKeys:Kt(Ci),signatures:Kt(ee())}),Pi=ne({parsed:oe(),program:ee(),programId:wn}),Ri=ne({accounts:Kt(wn),data:ee(),programId:wn}),Mi=se(ie([Ri,Pi]),ie([ne({parsed:oe(),program:ee(),programId:ee()}),ne({accounts:Kt(ee()),data:ee(),programId:ee()})]),(t=>$t(t,"accounts"in t?Ri:Pi))),Ni=ne({signatures:Kt(ee()),message:ne({accountKeys:Kt(Ci),instructions:Kt(Mi),recentBlockhash:ee(),addressTableLookups:Qt(Jt(Kt(Ii)))})}),Li=ne({accountIndex:Xt(),mint:ee(),owner:Qt(ee()),uiTokenAmount:Jn}),Bi=ne({writable:Kt(wn),readonly:Kt(wn)}),Di=ne({err:Dn,fee:Xt(),innerInstructions:Qt(Jt(Kt(ne({index:Xt(),instructions:Kt(ne({accounts:Kt(Xt()),data:ee(),programIdIndex:Xt()}))})))),preBalances:Kt(Xt()),postBalances:Kt(Xt()),logMessages:Qt(Jt(Kt(ee()))),preTokenBalances:Qt(Jt(Kt(Li))),postTokenBalances:Qt(Jt(Kt(Li))),loadedAddresses:Qt(Bi),computeUnitsConsumed:Qt(Xt())}),ji=ne({err:Dn,fee:Xt(),innerInstructions:Qt(Jt(Kt(ne({index:Xt(),instructions:Kt(Mi)})))),preBalances:Kt(Xt()),postBalances:Kt(Xt()),logMessages:Qt(Jt(Kt(ee()))),preTokenBalances:Qt(Jt(Kt(Li))),postTokenBalances:Qt(Jt(Kt(Li))),loadedAddresses:Qt(Bi),computeUnitsConsumed:Qt(Xt())}),Ui=ie([Yt(0),Yt("legacy")]),zi=ne({pubkey:ee(),lamports:Xt(),postBalance:Jt(Xt()),rewardType:Jt(ee()),commission:Qt(Jt(Xt()))}),Fi=An(Jt(ne({blockhash:ee(),previousBlockhash:ee(),parentSlot:Xt(),transactions:Kt(ne({transaction:Ti,meta:Jt(Di),version:Qt(Ui)})),rewards:Qt(Kt(zi)),blockTime:Jt(Xt()),blockHeight:Jt(Xt())}))),Wi=An(Jt(ne({blockhash:ee(),previousBlockhash:ee(),parentSlot:Xt(),rewards:Qt(Kt(zi)),blockTime:Jt(Xt()),blockHeight:Jt(Xt())}))),$i=An(Jt(ne({blockhash:ee(),previousBlockhash:ee(),parentSlot:Xt(),transactions:Kt(ne({transaction:Oi,meta:Jt(Di),version:Qt(Ui)})),rewards:Qt(Kt(zi)),blockTime:Jt(Xt()),blockHeight:Jt(Xt())}))),qi=An(Jt(ne({blockhash:ee(),previousBlockhash:ee(),parentSlot:Xt(),transactions:Kt(ne({transaction:Ni,meta:Jt(ji),version:Qt(Ui)})),rewards:Qt(Kt(zi)),blockTime:Jt(Xt()),blockHeight:Jt(Xt())}))),Hi=An(Jt(ne({blockhash:ee(),previousBlockhash:ee(),parentSlot:Xt(),transactions:Kt(ne({transaction:Oi,meta:Jt(ji),version:Qt(Ui)})),rewards:Qt(Kt(zi)),blockTime:Jt(Xt()),blockHeight:Jt(Xt())}))),Vi=An(Jt(ne({blockhash:ee(),previousBlockhash:ee(),parentSlot:Xt(),rewards:Qt(Kt(zi)),blockTime:Jt(Xt()),blockHeight:Jt(Xt())}))),Ki=An(Jt(ne({blockhash:ee(),previousBlockhash:ee(),parentSlot:Xt(),transactions:Kt(ne({transaction:Ti,meta:Jt(Di)})),rewards:Qt(Kt(zi)),blockTime:Jt(Xt())}))),Gi=An(Jt(ne({blockhash:ee(),previousBlockhash:ee(),parentSlot:Xt(),signatures:Kt(ee()),blockTime:Jt(Xt())}))),Zi=An(Jt(ne({slot:Xt(),meta:Jt(Di),blockTime:Qt(Jt(Xt())),transaction:Ti,version:Qt(Ui)}))),Yi=An(Jt(ne({slot:Xt(),transaction:Ni,meta:Jt(ji),blockTime:Qt(Jt(Xt())),version:Qt(Ui)}))),Ji=In(ne({blockhash:ee(),feeCalculator:ne({lamportsPerSignature:Xt()})})),Xi=In(ne({blockhash:ee(),lastValidBlockHeight:Xt()})),Qi=In(Gt()),to=An(Kt(ne({slot:Xt(),numTransactions:Xt(),numSlots:Xt(),samplePeriodSecs:Xt()}))),eo=In(Jt(ne({feeCalculator:ne({lamportsPerSignature:Xt()})}))),ro=An(ee()),no=An(ee()),io=ne({err:Dn,logs:Kt(ee()),signature:ee()}),oo=ne({result:Tn(io),subscription:Xt()}),so={"solana-client":"js/0.0.0-development"};class ao{constructor(t,e){let r,n,i,o,s,a;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const t={};return async e=>{const{commitment:r,config:n}=Sn(e),i=this._buildArgs([],r,void 0,n),o=cn(i);return t[o]=t[o]??(async()=>{try{const t=$t(await this._rpcRequest("getBlockHeight",i),An(Xt()));if("error"in t)throw new fn(t.error,"failed to get block height information");return t.result}finally{delete t[o]}})(),await t[o]}})(),e&&"string"==typeof e?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,r=e.wsEndpoint,n=e.httpHeaders,i=e.fetch,o=e.fetchMiddleware,s=e.disableRetryOnRateLimit,a=e.httpAgent),this._rpcEndpoint=function(t){if(!1===/^https?:/.test(t))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}(t),this._rpcWsEndpoint=r||function(t){const e=t.match(bn);if(null==e)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${s}//${n}${null==a?"":`:${a+1}`}${o}`}(t),this._rpcClient=function(t,e,r,n,i,o){const s=r||pn;let a;return null!=o&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),n&&(a=async(t,e)=>{const r=await new Promise(((r,i)=>{try{n(t,e,((t,e)=>r([t,e])))}catch(t){i(t)}}));return await s(...r)}),new(ce())((async(r,n)=>{const o={method:"POST",body:r,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},e||{},so)};try{let e,r=5,c=500;for(;e=a?await a(t,o):await s(t,o),429===e.status&&!0!==i&&(r-=1,0!==r);)console.error(`Server responded with ${e.status} ${e.statusText}.  Retrying after ${c}ms delay...`),await Wr(c),c*=2;const u=await e.text();e.ok?n(null,u):n(new Error(`${e.status} ${e.statusText}: ${u}`))}catch(t){t instanceof Error&&n(t)}}),{})}(t,n,i,o,s,a),this._rpcRequest=function(t){return(e,r)=>new Promise(((n,i)=>{t.request(e,r,((t,e)=>{t?i(t):n(e)}))}))}(this._rpcClient),this._rpcBatchRequest=function(t){return e=>new Promise(((r,n)=>{0===e.length&&r([]);const i=e.map((e=>t.request(e.methodName,e.args)));t.request(i,((t,e)=>{t?n(t):r(e)}))}))}(this._rpcClient),this._rpcWebSocket=new gn(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:r,config:n}=Sn(e),i=this._buildArgs([t.toBase58()],r,void 0,n),o=$t(await this._rpcRequest("getBalance",i),In(Xt()));if("error"in o)throw new fn(o.error,`failed to get balance for ${t.toBase58()}`);return o.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+e)}))}async getBlockTime(t){const e=$t(await this._rpcRequest("getBlockTime",[t]),An(Jt(Xt())));if("error"in e)throw new fn(e.error,`failed to get block time for slot ${t}`);return e.result}async getMinimumLedgerSlot(){const t=$t(await this._rpcRequest("minimumLedgerSlot",[]),An(Xt()));if("error"in t)throw new fn(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const t=$t(await this._rpcRequest("getFirstAvailableBlock",[]),Zn);if("error"in t)throw new fn(t.error,"failed to get first available block");return t.result}async getSupply(t){let e={};e="string"==typeof t?{commitment:t}:t?{...t,commitment:t&&t.commitment||this.commitment}:{commitment:this.commitment};const r=$t(await this._rpcRequest("getSupply",[e]),Yn);if("error"in r)throw new fn(r.error,"failed to get supply");return r.result}async getTokenSupply(t,e){const r=this._buildArgs([t.toBase58()],e),n=$t(await this._rpcRequest("getTokenSupply",r),In(Jn));if("error"in n)throw new fn(n.error,"failed to get token supply");return n.result}async getTokenAccountBalance(t,e){const r=this._buildArgs([t.toBase58()],e),n=$t(await this._rpcRequest("getTokenAccountBalance",r),In(Jn));if("error"in n)throw new fn(n.error,"failed to get token account balance");return n.result}async getTokenAccountsByOwner(t,e,r){const{commitment:n,config:i}=Sn(r);let o=[t.toBase58()];"mint"in e?o.push({mint:e.mint.toBase58()}):o.push({programId:e.programId.toBase58()});const s=this._buildArgs(o,n,"base64",i),a=$t(await this._rpcRequest("getTokenAccountsByOwner",s),Qn);if("error"in a)throw new fn(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(t,e,r){let n=[t.toBase58()];"mint"in e?n.push({mint:e.mint.toBase58()}):n.push({programId:e.programId.toBase58()});const i=this._buildArgs(n,r,"jsonParsed"),o=$t(await this._rpcRequest("getTokenAccountsByOwner",i),ei);if("error"in o)throw new fn(o.error,`failed to get token accounts owned by account ${t.toBase58()}`);return o.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},r=e.filter||e.commitment?[e]:[],n=$t(await this._rpcRequest("getLargestAccounts",r),ri);if("error"in n)throw new fn(n.error,"failed to get largest accounts");return n.result}async getTokenLargestAccounts(t,e){const r=this._buildArgs([t.toBase58()],e),n=$t(await this._rpcRequest("getTokenLargestAccounts",r),Xn);if("error"in n)throw new fn(n.error,"failed to get token largest accounts");return n.result}async getAccountInfoAndContext(t,e){const{commitment:r,config:n}=Sn(e),i=this._buildArgs([t.toBase58()],r,"base64",n),o=$t(await this._rpcRequest("getAccountInfo",i),In(Jt(ni)));if("error"in o)throw new fn(o.error,`failed to get info about account ${t.toBase58()}`);return o.result}async getParsedAccountInfo(t,e){const{commitment:r,config:n}=Sn(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",n),o=$t(await this._rpcRequest("getAccountInfo",i),In(Jt(si)));if("error"in o)throw new fn(o.error,`failed to get info about account ${t.toBase58()}`);return o.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(e){throw new Error("failed to get info about account "+t.toBase58()+": "+e)}}async getMultipleParsedAccounts(t,e){const{commitment:r,config:n}=Sn(e),i=t.map((t=>t.toBase58())),o=this._buildArgs([i],r,"jsonParsed",n),s=$t(await this._rpcRequest("getMultipleAccounts",o),In(Kt(Jt(si))));if("error"in s)throw new fn(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:r,config:n}=Sn(e),i=t.map((t=>t.toBase58())),o=this._buildArgs([i],r,"base64",n),s=$t(await this._rpcRequest("getMultipleAccounts",o),In(Kt(Jt(ni))));if("error"in s)throw new fn(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,r){const{commitment:n,config:i}=Sn(e),o=this._buildArgs([t.toBase58()],n,void 0,{...i,epoch:null!=r?r:i?.epoch}),s=$t(await this._rpcRequest("getStakeActivation",o),An(ci));if("error"in s)throw new fn(s.error,`failed to get Stake Activation ${t.toBase58()}`);return s.result}async getProgramAccounts(t,e){const{commitment:r,config:n}=Sn(e),{encoding:i,...o}=n||{},s=this._buildArgs([t.toBase58()],r,i||"base64",o),a=await this._rpcRequest("getProgramAccounts",s),c=Kt(ii),u=!0===o.withContext?$t(a,In(c)):$t(a,An(c));if("error"in u)throw new fn(u.error,`failed to get accounts owned by program ${t.toBase58()}`);return u.result}async getParsedProgramAccounts(t,e){const{commitment:r,config:n}=Sn(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",n),o=$t(await this._rpcRequest("getProgramAccounts",i),An(Kt(ai)));if("error"in o)throw new fn(o.error,`failed to get accounts owned by program ${t.toBase58()}`);return o.result}async confirmTransaction(t,e){let r,n;if("string"==typeof t)r=t;else{const e=t;if(e.abortSignal?.aborted)return Promise.reject(e.abortSignal.reason);r=e.signature}try{n=Ot().decode(r)}catch(t){throw new Error("signature must be base58 encoded: "+r)}return _r(64===n.length,"signature has invalid length"),"string"==typeof t?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise(((e,r)=>{null!=t&&(t.aborted?r(t.reason):t.addEventListener("abort",(()=>{r(t.reason)})))}))}getTransactionConfirmationPromise({commitment:t,signature:e}){let r,n,i=!1;return{abortConfirmation:()=>{n&&(n(),n=void 0),null!=r&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:new Promise(((o,s)=>{try{r=this.onSignature(e,((t,e)=>{r=void 0;const n={context:e,value:t};o({__type:Ar.PROCESSED,response:n})}),t);const a=new Promise((t=>{null==r?t():n=this._onSubscriptionStateChange(r,(e=>{"subscribed"===e&&t()}))}));(async()=>{if(await a,i)return;const r=await this.getSignatureStatus(e);if(i)return;if(null==r)return;const{context:n,value:c}=r;if(null!=c)if(c?.err)s(c.err);else{switch(t){case"confirmed":case"single":case"singleGossip":if("processed"===c.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===c.confirmationStatus||"confirmed"===c.confirmationStatus)return}i=!0,o({__type:Ar.PROCESSED,response:{context:n,value:c}})}})()}catch(t){s(t)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:r,signature:n}}){let i=!1;const o=new Promise((e=>{const n=async()=>{try{return await this.getBlockHeight(t)}catch(t){return-1}};(async()=>{let t=await n();if(!i){for(;t<=r;){if(await Wr(1e3),i)return;if(t=await n(),i)return}e({__type:Ar.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:t,signature:n}),c=this.getCancellationPromise(e);let u;try{const t=await Promise.race([c,a,o]);if(t.__type!==Ar.PROCESSED)throw new hr(n);u=t.response}finally{i=!0,s()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:r,nonceAccountPubkey:n,nonceValue:i,signature:o}}){let s=!1;const a=new Promise((e=>{let o=i,a=null;const c=async()=>{try{const{context:e,value:i}=await this.getNonceAndContext(n,{commitment:t,minContextSlot:r});return a=e.slot,i?.nonce}catch(t){return o}};(async()=>{if(o=await c(),!s)for(;;){if(i!==o)return void e({__type:Ar.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await Wr(2e3),s)return;if(o=await c(),s)return}})()})),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),l=this.getCancellationPromise(e);let h;try{const e=await Promise.race([l,u,a]);if(e.__type===Ar.PROCESSED)h=e.response;else{let n;for(;;){const t=await this.getSignatureStatus(o);if(null==t)break;if(!(t.context.slot<(e.slotInWhichNonceDidAdvance??r))){n=t;break}await Wr(400)}if(!n?.value)throw new fr(o);{const e=t||"finalized",{confirmationStatus:r}=n.value;switch(e){case"processed":case"recent":if("processed"!==r&&"confirmed"!==r&&"finalized"!==r)throw new fr(o);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==r&&"finalized"!==r)throw new fr(o);break;case"finalized":case"max":case"root":if("finalized"!==r)throw new fr(o)}h={context:n.context,value:{err:n.value.err}}}}}finally{s=!0,c()}return h}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let r;const n=new Promise((e=>{let n=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":n=this._confirmTransactionInitialTimeout||3e4}r=setTimeout((()=>e({__type:Ar.TIMED_OUT,timeoutMs:n})),n)})),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let s;try{const t=await Promise.race([o,n]);if(t.__type!==Ar.PROCESSED)throw new dr(e,t.timeoutMs/1e3);s=t.response}finally{clearTimeout(r),i()}return s}async getClusterNodes(){const t=$t(await this._rpcRequest("getClusterNodes",[]),An(Kt(vi)));if("error"in t)throw new fn(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(t){const e=this._buildArgs([],t),r=$t(await this._rpcRequest("getVoteAccounts",e),Ei);if("error"in r)throw new fn(r.error,"failed to get vote accounts");return r.result}async getSlot(t){const{commitment:e,config:r}=Sn(t),n=this._buildArgs([],e,void 0,r),i=$t(await this._rpcRequest("getSlot",n),An(Xt()));if("error"in i)throw new fn(i.error,"failed to get slot");return i.result}async getSlotLeader(t){const{commitment:e,config:r}=Sn(t),n=this._buildArgs([],e,void 0,r),i=$t(await this._rpcRequest("getSlotLeader",n),An(ee()));if("error"in i)throw new fn(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(t,e){const r=[t,e],n=$t(await this._rpcRequest("getSlotLeaders",r),An(Kt(wn)));if("error"in n)throw new fn(n.error,"failed to get slot leaders");return n.result}async getSignatureStatus(t,e){const{context:r,value:n}=await this.getSignatureStatuses([t],e);return _r(1===n.length),{context:r,value:n[0]}}async getSignatureStatuses(t,e){const r=[t];e&&r.push(e);const n=$t(await this._rpcRequest("getSignatureStatuses",r),xi);if("error"in n)throw new fn(n.error,"failed to get signature status");return n.result}async getTransactionCount(t){const{commitment:e,config:r}=Sn(t),n=this._buildArgs([],e,void 0,r),i=$t(await this._rpcRequest("getTransactionCount",n),An(Xt()));if("error"in i)throw new fn(i.error,"failed to get transaction count");return i.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),r=$t(await this._rpcRequest("getInflationGovernor",e),$n);if("error"in r)throw new fn(r.error,"failed to get inflation");return r.result}async getInflationReward(t,e,r){const{commitment:n,config:i}=Sn(r),o=this._buildArgs([t.map((t=>t.toBase58()))],n,void 0,{...i,epoch:null!=e?e:i?.epoch}),s=$t(await this._rpcRequest("getInflationReward",o),Pn);if("error"in s)throw new fn(s.error,"failed to get inflation reward");return s.result}async getInflationRate(){const t=$t(await this._rpcRequest("getInflationRate",[]),qn);if("error"in t)throw new fn(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(t){const{commitment:e,config:r}=Sn(t),n=this._buildArgs([],e,void 0,r),i=$t(await this._rpcRequest("getEpochInfo",n),Vn);if("error"in i)throw new fn(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const t=$t(await this._rpcRequest("getEpochSchedule",[]),Kn);if("error"in t)throw new fn(t.error,"failed to get epoch schedule");const e=t.result;return new ln(e.slotsPerEpoch,e.leaderScheduleSlotOffset,e.warmup,e.firstNormalEpoch,e.firstNormalSlot)}async getLeaderSchedule(){const t=$t(await this._rpcRequest("getLeaderSchedule",[]),Gn);if("error"in t)throw new fn(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(t,e){const r=this._buildArgs([t],e),n=$t(await this._rpcRequest("getMinimumBalanceForRentExemption",r),Ai);return"error"in n?(console.warn("Unable to fetch minimum balance for rent exemption"),0):n.result}async getRecentBlockhashAndContext(t){const e=this._buildArgs([],t),r=$t(await this._rpcRequest("getRecentBlockhash",e),Ji);if("error"in r)throw new fn(r.error,"failed to get recent blockhash");return r.result}async getRecentPerformanceSamples(t){const e=$t(await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),to);if("error"in e)throw new fn(e.error,"failed to get recent performance samples");return e.result}async getFeeCalculatorForBlockhash(t,e){const r=this._buildArgs([t],e),n=$t(await this._rpcRequest("getFeeCalculatorForBlockhash",r),eo);if("error"in n)throw new fn(n.error,"failed to get fee calculator");const{context:i,value:o}=n.result;return{context:i,value:null!==o?o.feeCalculator:null}}async getFeeForMessage(t,e){const r=Ye(t.serialize()).toString("base64"),n=this._buildArgs([r],e),i=$t(await this._rpcRequest("getFeeForMessage",n),In(Jt(Xt())));if("error"in i)throw new fn(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(t){const e=t?.lockedWritableAccounts?.map((t=>t.toBase58())),r=e?.length?[e]:[],n=$t(await this._rpcRequest("getRecentPrioritizationFees",r),Hn);if("error"in n)throw new fn(n.error,"failed to get recent prioritization fees");return n.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:r}=Sn(t),n=this._buildArgs([],e,void 0,r),i=$t(await this._rpcRequest("getLatestBlockhash",n),Xi);if("error"in i)throw new fn(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(t,e){const{commitment:r,config:n}=Sn(e),i=this._buildArgs([t],r,void 0,n),o=$t(await this._rpcRequest("isBlockhashValid",i),Qi);if("error"in o)throw new fn(o.error,"failed to determine if the blockhash `"+t+"`is valid");return o.result}async getVersion(){const t=$t(await this._rpcRequest("getVersion",[]),An(zn));if("error"in t)throw new fn(t.error,"failed to get version");return t.result}async getGenesisHash(){const t=$t(await this._rpcRequest("getGenesisHash",[]),An(ee()));if("error"in t)throw new fn(t.error,"failed to get genesis hash");return t.result}async getBlock(t,e){const{commitment:r,config:n}=Sn(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,n),o=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{const t=$t(o,$i);if("error"in t)throw t.error;return t.result}case"none":{const t=$t(o,Wi);if("error"in t)throw t.error;return t.result}default:{const t=$t(o,Fi);if("error"in t)throw t.error;const{result:e}=t;return e?{...e,transactions:e.transactions.map((({transaction:t,meta:e,version:r})=>({meta:e,transaction:{...t,message:Cn(r,t.message)},version:r})))}:null}}}catch(t){throw new fn(t,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:r,config:n}=Sn(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",n),o=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{const t=$t(o,Hi);if("error"in t)throw t.error;return t.result}case"none":{const t=$t(o,Vi);if("error"in t)throw t.error;return t.result}default:{const t=$t(o,qi);if("error"in t)throw t.error;return t.result}}}catch(t){throw new fn(t,"failed to get block")}}async getBlockProduction(t){let e,r;if("string"==typeof t)r=t;else if(t){const{commitment:n,...i}=t;r=n,e=i}const n=this._buildArgs([],r,"base64",e),i=$t(await this._rpcRequest("getBlockProduction",n),Wn);if("error"in i)throw new fn(i.error,"failed to get block production information");return i.result}async getTransaction(t,e){const{commitment:r,config:n}=Sn(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,n),o=$t(await this._rpcRequest("getTransaction",i),Zi);if("error"in o)throw new fn(o.error,"failed to get transaction");const s=o.result;return s?{...s,transaction:{...s.transaction,message:Cn(s.version,s.transaction.message)}}:s}async getParsedTransaction(t,e){const{commitment:r,config:n}=Sn(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",n),o=$t(await this._rpcRequest("getTransaction",i),Yi);if("error"in o)throw new fn(o.error,"failed to get transaction");return o.result}async getParsedTransactions(t,e){const{commitment:r,config:n}=Sn(e),i=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",n)})));return(await this._rpcBatchRequest(i)).map((t=>{const e=$t(t,Yi);if("error"in e)throw new fn(e.error,"failed to get transactions");return e.result}))}async getTransactions(t,e){const{commitment:r,config:n}=Sn(e),i=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],r,void 0,n)})));return(await this._rpcBatchRequest(i)).map((t=>{const e=$t(t,Zi);if("error"in e)throw new fn(e.error,"failed to get transactions");const r=e.result;return r?{...r,transaction:{...r.transaction,message:Cn(r.version,r.transaction.message)}}:r}))}async getConfirmedBlock(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),n=$t(await this._rpcRequest("getConfirmedBlock",r),Ki);if("error"in n)throw new fn(n.error,"failed to get confirmed block");const i=n.result;if(!i)throw new Error("Confirmed block "+t+" not found");const o={...i,transactions:i.transactions.map((({transaction:t,meta:e})=>{const r=new Sr(t.message);return{meta:e,transaction:{...t,message:r}}}))};return{...o,transactions:o.transactions.map((({transaction:t,meta:e})=>({meta:e,transaction:Cr.populate(t.message,t.signatures)})))}}async getBlocks(t,e,r){const n=this._buildArgsAtLeastConfirmed(void 0!==e?[t,e]:[t],r),i=$t(await this._rpcRequest("getBlocks",n),An(Kt(Xt())));if("error"in i)throw new fn(i.error,"failed to get blocks");return i.result}async getBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),n=$t(await this._rpcRequest("getBlock",r),Gi);if("error"in n)throw new fn(n.error,"failed to get block");const i=n.result;if(!i)throw new Error("Block "+t+" not found");return i}async getConfirmedBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),n=$t(await this._rpcRequest("getConfirmedBlock",r),Gi);if("error"in n)throw new fn(n.error,"failed to get confirmed block");const i=n.result;if(!i)throw new Error("Confirmed block "+t+" not found");return i}async getConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),n=$t(await this._rpcRequest("getConfirmedTransaction",r),Zi);if("error"in n)throw new fn(n.error,"failed to get transaction");const i=n.result;if(!i)return i;const o=new Sr(i.transaction.message),s=i.transaction.signatures;return{...i,transaction:Cr.populate(o,s)}}async getParsedConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),n=$t(await this._rpcRequest("getConfirmedTransaction",r),Yi);if("error"in n)throw new fn(n.error,"failed to get confirmed transaction");return n.result}async getParsedConfirmedTransactions(t,e){const r=t.map((t=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([t],e,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((t=>{const e=$t(t,Yi);if("error"in e)throw new fn(e.error,"failed to get confirmed transactions");return e.result}))}async getConfirmedSignaturesForAddress(t,e,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--e<=0||e<i);)try{const t=await this.getConfirmedBlockSignatures(e,"finalized");t.signatures.length>0&&(n.until=t.signatures[t.signatures.length-1].toString())}catch(t){if(t instanceof Error&&t.message.includes("skipped"))continue;throw t}let o=await this.getSlot("finalized");for(;!("before"in n||++r>o);)try{const t=await this.getConfirmedBlockSignatures(r);t.signatures.length>0&&(n.before=t.signatures[t.signatures.length-1].toString())}catch(t){if(t instanceof Error&&t.message.includes("skipped"))continue;throw t}return(await this.getConfirmedSignaturesForAddress2(t,n)).map((t=>t.signature))}async getConfirmedSignaturesForAddress2(t,e,r){const n=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=$t(await this._rpcRequest("getConfirmedSignaturesForAddress2",n),ui);if("error"in i)throw new fn(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(t,e,r){const n=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=$t(await this._rpcRequest("getSignaturesForAddress",n),li);if("error"in i)throw new fn(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(t,e){const{context:r,value:n}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==n&&(i=new yn({key:t,state:yn.deserialize(n.data)})),{context:r,value:i}}async getNonceAndContext(t,e){const{context:r,value:n}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==n&&(i=Gr.fromAccountData(n.data)),{context:r,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+e)}))}async requestAirdrop(t,e){const r=$t(await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),ro);if("error"in r)throw new fn(r.error,`airdrop to ${t.toBase58()} failed`);return r.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Wr(100);const t=Date.now()-this._blockhashInfo.lastFetch>=En;if(null!==this._blockhashInfo.latestBlockhash&&!t)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,r=e?e.blockhash:null;for(let t=0;t<50;t++){const t=await this.getLatestBlockhash("finalized");if(r!==t.blockhash)return this._blockhashInfo={latestBlockhash:t,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},t;await Wr(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:r}=Sn(t),n=this._buildArgs([],e,"base64",r),i=$t(await this._rpcRequest("getStakeMinimumDelegation",n),In(Xt()));if("error"in i)throw new fn(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(t,e,r){if("message"in t){const n=t.serialize(),o=i.Buffer.from(n).toString("base64");if(Array.isArray(e)||void 0!==r)throw new Error("Invalid arguments");const s=e||{};s.encoding="base64","commitment"in s||(s.commitment=this.commitment);const a=[o,s],c=$t(await this._rpcRequest("simulateTransaction",a),Fn);if("error"in c)throw new Error("failed to simulate transaction: "+c.error.message);return c.result}let n;if(t instanceof Cr){let e=t;n=new Cr,n.feePayer=e.feePayer,n.instructions=t.instructions,n.nonceInfo=e.nonceInfo,n.signatures=e.signatures}else n=Cr.populate(t),n._message=n._json=void 0;if(void 0!==e&&!Array.isArray(e))throw new Error("Invalid arguments");const o=e;if(n.nonceInfo&&o)n.sign(...o);else{let t=this._disableBlockhashCaching;for(;;){const e=await this._blockhashWithExpiryBlockHeight(t);if(n.lastValidBlockHeight=e.lastValidBlockHeight,n.recentBlockhash=e.blockhash,!o)break;if(n.sign(...o),!n.signature)throw new Error("!signature");const r=n.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(r)&&!this._blockhashInfo.transactionSignatures.includes(r)){this._blockhashInfo.simulatedSignatures.push(r);break}t=!0}}const s=n._compile(),a=s.serialize(),c=n._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){const t=(Array.isArray(r)?r:s.nonProgramIds()).map((t=>t.toBase58()));u.accounts={encoding:"base64",addresses:t}}o&&(u.sigVerify=!0);const l=[c,u],h=$t(await this._rpcRequest("simulateTransaction",l),Fn);if("error"in h){let t;if("data"in h.error&&(t=h.error.data.logs,t&&Array.isArray(t))){const e="\n    ",r=e+t.join(e);console.error(h.error.message,r)}throw new hn("failed to simulate transaction: "+h.error.message,t)}return h.result}async sendTransaction(t,e,r){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const r=t.serialize();return await this.sendRawTransaction(r,e)}if(void 0===e||!Array.isArray(e))throw new Error("Invalid arguments");const n=e;if(t.nonceInfo)t.sign(...n);else{let e=this._disableBlockhashCaching;for(;;){const r=await this._blockhashWithExpiryBlockHeight(e);if(t.lastValidBlockHeight=r.lastValidBlockHeight,t.recentBlockhash=r.blockhash,t.sign(...n),!t.signature)throw new Error("!signature");const i=t.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}e=!0}}const i=t.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(t,e){const r=Ye(t).toString("base64");return await this.sendEncodedTransaction(r,e)}async sendEncodedTransaction(t,e){const r={encoding:"base64"},n=e&&e.skipPreflight,i=e&&e.preflightCommitment||this.commitment;e&&null!=e.maxRetries&&(r.maxRetries=e.maxRetries),e&&null!=e.minContextSlot&&(r.minContextSlot=e.minContextSlot),n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);const o=[t,r],s=$t(await this._rpcRequest("sendTransaction",o),no);if("error"in s){let t;throw"data"in s.error&&(t=s.error.data.logs),new hn("failed to send transaction: "+s.error.message,t)}return s.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==t?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([t,e])=>{this._setSubscription(t,{...e,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(t,e){const r=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,r!==e.state){const r=this._subscriptionStateChangeCallbacksByHash[t];r&&r.forEach((t=>{try{t(e.state)}catch{}}))}}_onSubscriptionStateChange(t,e){const r=this._subscriptionHashByClientSubscriptionId[t];if(null==r)return()=>{};const n=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return n.add(e),()=>{n.delete(e),0===n.size&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(t){t instanceof Error&&console.log(`Error when closing socket connection: ${t.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async t=>{const r=this._subscriptionsByHash[t];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size)return delete this._subscriptionsByHash[t],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:n,method:i}=r;try{this._setSubscription(t,{...r,state:"subscribing"});const e=await this._rpcWebSocket.call(i,n);this._setSubscription(t,{...r,serverSubscriptionId:e,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[e]=r.callbacks,await this._updateSubscriptions()}catch(o){if(o instanceof Error&&console.error(`${i} error for argument`,n,o.message),!e())return;this._setSubscription(t,{...r,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await(async()=>{const{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._setSubscription(t,{...r,state:"unsubscribing"}),this._setSubscription(t,{...r,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[n])}catch(n){if(n instanceof Error&&console.error(`${i} error:`,n.message),!e())return;return this._setSubscription(t,{...r,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(t,{...r,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(t,e){const r=this._subscriptionCallbacksByServerSubscriptionId[t];void 0!==r&&r.forEach((t=>{try{t(...e)}catch(t){console.error(t)}}))}_wsOnAccountNotification(t){const{result:e,subscription:r}=$t(t,hi);this._handleServerNotification(r,[e.value,e.context])}_makeSubscription(t,e){const r=this._nextClientSubscriptionId++,n=cn([t.method,e],!0),i=this._subscriptionsByHash[n];return void 0===i?this._subscriptionsByHash[n]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=n,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const e=this._subscriptionsByHash[n];_r(void 0!==e,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),e.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,e,r){const n=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},n)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:r}=$t(t,fi);this._handleServerNotification(r,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,r,n){const i=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64",n?{filters:n}:void 0);return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,r){const n=this._buildArgs(["object"==typeof t?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:r}=$t(t,oo);this._handleServerNotification(r,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:r}=$t(t,gi);this._handleServerNotification(r,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:r}=$t(t,mi);this._handleServerNotification(r,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,r,n){const i=e||this._commitment;if(i||r||n){let e={};r&&(e.encoding=r),i&&(e.commitment=i),n&&(e=Object.assign(e,n)),t.push(e)}return t}_buildArgsAtLeastConfirmed(t,e,r,n){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,r,n)}_wsOnSignatureNotification(t){const{result:e,subscription:r}=$t(t,bi);"receivedSignature"!==e.value&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,"receivedSignature"===e.value?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,r){const n=this._buildArgs([t],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(t,r)=>{if("status"===t.type){e(t.result,r);try{this.removeSignatureListener(i)}catch(t){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},n);return i}onSignatureWithOptions(t,e,r){const{commitment:n,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([t],n,void 0,i),s=this._makeSubscription({callback:(t,r)=>{e(t,r);try{this.removeSignatureListener(s)}catch(t){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:r}=$t(t,wi);this._handleServerNotification(r,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}class co{constructor(t){this._keypair=void 0,this._keypair=t??He()}static generate(){return new co(He())}static fromSecretKey(t,e){if(64!==t.byteLength)throw new Error("bad secret key size");const r=t.slice(32,64);if(!e||!e.skipValidation){const e=t.slice(0,32),n=Ve(e);for(let t=0;t<32;t++)if(r[t]!==n[t])throw new Error("provided secretKey is invalid")}return new co({publicKey:r,secretKey:t})}static fromSeed(t){const e=Ve(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),new co({publicKey:e,secretKey:r})}get publicKey(){return new or(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const uo=Object.freeze({CreateLookupTable:{index:0,layout:Mt.n_([Mt.Jq("instruction"),Zr("recentSlot"),Mt.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Mt.n_([Mt.Jq("instruction")])},ExtendLookupTable:{index:2,layout:Mt.n_([Mt.Jq("instruction"),Zr(),Mt.A9(gr(),Mt.cv(Mt.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Mt.n_([Mt.Jq("instruction")])},CloseLookupTable:{index:4,layout:Mt.n_([Mt.Jq("instruction")])}});class lo{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Mt.Jq("instruction").decode(t.data);let r;for(const[t,n]of Object.entries(uo))if(n.index==e){r=t;break}if(!r)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return r}static decodeCreateLookupTable(t){this.checkProgramId(t.programId),this.checkKeysLength(t.keys,4);const{recentSlot:e}=qr(uo.CreateLookupTable,t.data);return{authority:t.keys[1].pubkey,payer:t.keys[2].pubkey,recentSlot:Number(e)}}static decodeExtendLookupTable(t){if(this.checkProgramId(t.programId),t.keys.length<2)throw new Error(`invalid instruction; found ${t.keys.length} keys, expected at least 2`);const{addresses:e}=qr(uo.ExtendLookupTable,t.data);return{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,payer:t.keys.length>2?t.keys[2].pubkey:void 0,addresses:e.map((t=>new or(t)))}}static decodeCloseLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,3),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,recipient:t.keys[2].pubkey}}static decodeFreezeLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static decodeDeactivateLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(ho.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}class ho{constructor(){}static createLookupTable(t){const[e,r]=or.findProgramAddressSync([t.authority.toBuffer(),(0,Nt.k$)(BigInt(t.recentSlot),8)],this.programId),n=$r(uo.CreateLookupTable,{recentSlot:BigInt(t.recentSlot),bumpSeed:r}),i=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:Xr.programId,isSigner:!1,isWritable:!1}];return[new Tr({programId:this.programId,keys:i,data:n}),e]}static freezeLookupTable(t){const e=$r(uo.FreezeLookupTable),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new Tr({programId:this.programId,keys:r,data:e})}static extendLookupTable(t){const e=$r(uo.ExtendLookupTable,{addresses:t.addresses.map((t=>t.toBytes()))}),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&r.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:Xr.programId,isSigner:!1,isWritable:!1}),new Tr({programId:this.programId,keys:r,data:e})}static deactivateLookupTable(t){const e=$r(uo.DeactivateLookupTable),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new Tr({programId:this.programId,keys:r,data:e})}static closeLookupTable(t){const e=$r(uo.CloseLookupTable),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new Tr({programId:this.programId,keys:r,data:e})}}ho.programId=new or("AddressLookupTab1e1111111111111111111111111");class fo{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Mt.u8("instruction").decode(t.data);let r;for(const[t,n]of Object.entries(po))if(n.index==e){r=t;break}if(!r)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return r}static decodeRequestUnits(t){this.checkProgramId(t.programId);const{units:e,additionalFee:r}=qr(po.RequestUnits,t.data);return{units:e,additionalFee:r}}static decodeRequestHeapFrame(t){this.checkProgramId(t.programId);const{bytes:e}=qr(po.RequestHeapFrame,t.data);return{bytes:e}}static decodeSetComputeUnitLimit(t){this.checkProgramId(t.programId);const{units:e}=qr(po.SetComputeUnitLimit,t.data);return{units:e}}static decodeSetComputeUnitPrice(t){this.checkProgramId(t.programId);const{microLamports:e}=qr(po.SetComputeUnitPrice,t.data);return{microLamports:e}}static checkProgramId(t){if(!t.equals(go.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const po=Object.freeze({RequestUnits:{index:0,layout:Mt.n_([Mt.u8("instruction"),Mt.Jq("units"),Mt.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:Mt.n_([Mt.u8("instruction"),Mt.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:Mt.n_([Mt.u8("instruction"),Mt.Jq("units")])},SetComputeUnitPrice:{index:3,layout:Mt.n_([Mt.u8("instruction"),Zr("microLamports")])}});class go{constructor(){}static requestUnits(t){const e=$r(po.RequestUnits,t);return new Tr({keys:[],programId:this.programId,data:e})}static requestHeapFrame(t){const e=$r(po.RequestHeapFrame,t);return new Tr({keys:[],programId:this.programId,data:e})}static setComputeUnitLimit(t){const e=$r(po.SetComputeUnitLimit,t);return new Tr({keys:[],programId:this.programId,data:e})}static setComputeUnitPrice(t){const e=$r(po.SetComputeUnitPrice,{microLamports:BigInt(t.microLamports)});return new Tr({keys:[],programId:this.programId,data:e})}}go.programId=new or("ComputeBudget111111111111111111111111111111");const yo=Mt.n_([Mt.u8("numSignatures"),Mt.u8("padding"),Mt.KB("signatureOffset"),Mt.KB("signatureInstructionIndex"),Mt.KB("publicKeyOffset"),Mt.KB("publicKeyInstructionIndex"),Mt.KB("messageDataOffset"),Mt.KB("messageDataSize"),Mt.KB("messageInstructionIndex")]);class mo{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:n,instructionIndex:o}=t;_r(32===e.length,`Public Key must be 32 bytes but received ${e.length} bytes`),_r(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const s=yo.span,a=s+e.length,c=a+n.length,u=i.Buffer.alloc(c+r.length),l=null==o?65535:o;return yo.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:l,publicKeyOffset:s,publicKeyInstructionIndex:l,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:l},u),u.fill(e,s),u.fill(n,a),u.fill(r,c),new Tr({keys:[],programId:mo.programId,data:u})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:n}=t;_r(64===e.length,`Private key must be 64 bytes but received ${e.length} bytes`);try{const t=co.fromSecretKey(e),i=t.publicKey.toBytes(),o=Ge(r,t.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:o,instructionIndex:n})}catch(t){throw new Error(`Error creating instruction; ${t}`)}}}mo.programId=new or("Ed25519SigVerify111111111111111111111111111"),$e.utils.isValidPrivateKey;const bo=$e.getPublicKey,wo=Mt.n_([Mt.u8("numSignatures"),Mt.KB("signatureOffset"),Mt.u8("signatureInstructionIndex"),Mt.KB("ethAddressOffset"),Mt.u8("ethAddressInstructionIndex"),Mt.KB("messageDataOffset"),Mt.KB("messageDataSize"),Mt.u8("messageInstructionIndex"),Mt.Ik(20,"ethAddress"),Mt.Ik(64,"signature"),Mt.u8("recoveryId")]);class vo{constructor(){}static publicKeyToEthAddress(t){_r(64===t.length,`Public key must be 64 bytes but received ${t.length} bytes`);try{return i.Buffer.from(Ae(Ye(t))).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:n,recoveryId:i,instructionIndex:o}=t;return vo.createInstructionWithEthAddress({ethAddress:vo.publicKeyToEthAddress(e),message:r,signature:n,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:r,signature:n,recoveryId:o,instructionIndex:s=0}=t;let a;a="string"==typeof e?e.startsWith("0x")?i.Buffer.from(e.substr(2),"hex"):i.Buffer.from(e,"hex"):e,_r(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const c=12+a.length,u=c+n.length+1,l=i.Buffer.alloc(wo.span+r.length);return wo.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:u,messageDataSize:r.length,messageInstructionIndex:s,signature:Ye(n),ethAddress:Ye(a),recoveryId:o},l),l.fill(Ye(r),wo.span),new Tr({keys:[],programId:vo.programId,data:l})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:n}=t;_r(32===e.length,`Private key must be 32 bytes but received ${e.length} bytes`);try{const t=Ye(e),o=bo(t,!1).slice(1),s=i.Buffer.from(Ae(Ye(r))),[a,c]=((t,e)=>{const r=$e.sign(t,e);return[r.toCompactRawBytes(),r.recovery]})(s,t);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,recoveryId:c,instructionIndex:n})}catch(t){throw new Error(`Error creating instruction; ${t}`)}}}var _o;vo.programId=new or("KeccakSecp256k11111111111111111111111111111");const Eo=new or("StakeConfig11111111111111111111111111111111");class So{constructor(t,e){this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=e}}class ko{constructor(t,e,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=r}}_o=ko,ko.default=new _o(0,0,or.default);class xo{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Mt.Jq("instruction").decode(t.data);let r;for(const[t,n]of Object.entries(Ao))if(n.index==e){r=t;break}if(!r)throw new Error("Instruction type incorrect; not a StakeInstruction");return r}static decodeInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e,lockup:r}=qr(Ao.Initialize,t.data);return{stakePubkey:t.keys[0].pubkey,authorized:new So(new or(e.staker),new or(e.withdrawer)),lockup:new ko(r.unixTimestamp,r.epoch,new or(r.custodian))}}static decodeDelegate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,6),qr(Ao.Delegate,t.data),{stakePubkey:t.keys[0].pubkey,votePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[5].pubkey}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:e,stakeAuthorizationType:r}=qr(Ao.Authorize,t.data),n={stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new or(e),stakeAuthorizationType:{index:r}};return t.keys.length>3&&(n.custodianPubkey=t.keys[3].pubkey),n}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{newAuthorized:e,stakeAuthorizationType:r,authoritySeed:n,authorityOwner:i}=qr(Ao.AuthorizeWithSeed,t.data),o={stakePubkey:t.keys[0].pubkey,authorityBase:t.keys[1].pubkey,authoritySeed:n,authorityOwner:new or(i),newAuthorizedPubkey:new or(e),stakeAuthorizationType:{index:r}};return t.keys.length>3&&(o.custodianPubkey=t.keys[3].pubkey),o}static decodeSplit(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e}=qr(Ao.Split,t.data);return{stakePubkey:t.keys[0].pubkey,splitStakePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[2].pubkey,lamports:e}}static decodeMerge(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),qr(Ao.Merge,t.data),{stakePubkey:t.keys[0].pubkey,sourceStakePubKey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=qr(Ao.Withdraw,t.data),r={stakePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e};return t.keys.length>5&&(r.custodianPubkey=t.keys[5].pubkey),r}static decodeDeactivate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),qr(Ao.Deactivate,t.data),{stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static checkProgramId(t){if(!t.equals(To.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const Ao=Object.freeze({Initialize:{index:0,layout:Mt.n_([Mt.Jq("instruction"),((t="authorized")=>Mt.n_([gr("staker"),gr("withdrawer")],t))(),((t="lockup")=>Mt.n_([Mt.gM("unixTimestamp"),Mt.gM("epoch"),gr("custodian")],t))()])},Authorize:{index:1,layout:Mt.n_([Mt.Jq("instruction"),gr("newAuthorized"),Mt.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:Mt.n_([Mt.Jq("instruction")])},Split:{index:3,layout:Mt.n_([Mt.Jq("instruction"),Mt.gM("lamports")])},Withdraw:{index:4,layout:Mt.n_([Mt.Jq("instruction"),Mt.gM("lamports")])},Deactivate:{index:5,layout:Mt.n_([Mt.Jq("instruction")])},Merge:{index:7,layout:Mt.n_([Mt.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:Mt.n_([Mt.Jq("instruction"),gr("newAuthorized"),Mt.Jq("stakeAuthorizationType"),mr("authoritySeed"),gr("authorityOwner")])}}),Io=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class To{constructor(){}static initialize(t){const{stakePubkey:e,authorized:r,lockup:n}=t,i=n||ko.default,o=$r(Ao.Initialize,{authorized:{staker:Ye(r.staker.toBuffer()),withdrawer:Ye(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Ye(i.custodian.toBuffer())}}),s={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Br,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new Tr(s)}static createAccountWithSeed(t){const e=new Cr;e.add(Xr.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=t;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(t){const e=new Cr;e.add(Xr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=t;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:r,votePubkey:n}=t,i=$r(Ao.Delegate);return(new Cr).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:Rr,isSigner:!1,isWritable:!1},{pubkey:zr,isSigner:!1,isWritable:!1},{pubkey:Eo,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(t){const{stakePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:o}=t,s=$r(Ao.Authorize,{newAuthorized:Ye(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Rr,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!0,isWritable:!1}),(new Cr).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=t,c=$r(Ao.AuthorizeWithSeed,{newAuthorized:Ye(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:n,authorityOwner:Ye(i.toBuffer())}),u=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Rr,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!0,isWritable:!1}),(new Cr).add({keys:u,programId:this.programId,data:c})}static splitInstruction(t){const{stakePubkey:e,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=t,o=$r(Ao.Split,{lamports:i});return new Tr({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(t){const e=new Cr;return e.add(Xr.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),e.add(this.splitInstruction(t))}static splitWithSeed(t){const{stakePubkey:e,authorizedPubkey:r,splitStakePubkey:n,basePubkey:i,seed:o,lamports:s}=t,a=new Cr;return a.add(Xr.allocate({accountPubkey:n,basePubkey:i,seed:o,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:e,authorizedPubkey:r,splitStakePubkey:n,lamports:s}))}static merge(t){const{stakePubkey:e,sourceStakePubKey:r,authorizedPubkey:n}=t,i=$r(Ao.Merge);return(new Cr).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Rr,isSigner:!1,isWritable:!1},{pubkey:zr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:o}=t,s=$r(Ao.Withdraw,{lamports:i}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Rr,isSigner:!1,isWritable:!1},{pubkey:zr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!0,isWritable:!1}),(new Cr).add({keys:a,programId:this.programId,data:s})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:r}=t,n=$r(Ao.Deactivate);return(new Cr).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Rr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}To.programId=new or("Stake11111111111111111111111111111111111111"),To.space=200;class Co{constructor(t,e,r,n){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=e,this.authorizedWithdrawer=r,this.commission=n}}class Oo{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Mt.Jq("instruction").decode(t.data);let r;for(const[t,n]of Object.entries(Po))if(n.index==e){r=t;break}if(!r)throw new Error("Instruction type incorrect; not a VoteInstruction");return r}static decodeInitializeAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,4);const{voteInit:e}=qr(Po.InitializeAccount,t.data);return{votePubkey:t.keys[0].pubkey,nodePubkey:t.keys[3].pubkey,voteInit:new Co(new or(e.nodePubkey),new or(e.authorizedVoter),new or(e.authorizedWithdrawer),e.commission)}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:e,voteAuthorizationType:r}=qr(Po.Authorize,t.data);return{votePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new or(e),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:e,currentAuthorityDerivedKeySeed:r,newAuthorized:n,voteAuthorizationType:i}}=qr(Po.AuthorizeWithSeed,t.data);return{currentAuthorityDerivedKeyBasePubkey:t.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new or(e),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new or(n),voteAuthorizationType:{index:i},votePubkey:t.keys[0].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e}=qr(Po.Withdraw,t.data);return{votePubkey:t.keys[0].pubkey,authorizedWithdrawerPubkey:t.keys[2].pubkey,lamports:e,toPubkey:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(Mo.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const Po=Object.freeze({InitializeAccount:{index:0,layout:Mt.n_([Mt.Jq("instruction"),((t="voteInit")=>Mt.n_([gr("nodePubkey"),gr("authorizedVoter"),gr("authorizedWithdrawer"),Mt.u8("commission")],t))()])},Authorize:{index:1,layout:Mt.n_([Mt.Jq("instruction"),gr("newAuthorized"),Mt.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:Mt.n_([Mt.Jq("instruction"),Mt.gM("lamports")])},AuthorizeWithSeed:{index:10,layout:Mt.n_([Mt.Jq("instruction"),((t="voteAuthorizeWithSeedArgs")=>Mt.n_([Mt.Jq("voteAuthorizationType"),gr("currentAuthorityDerivedKeyOwnerPubkey"),mr("currentAuthorityDerivedKeySeed"),gr("newAuthorized")],t))()])}}),Ro=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Mo{constructor(){}static initializeAccount(t){const{votePubkey:e,nodePubkey:r,voteInit:n}=t,i=$r(Po.InitializeAccount,{voteInit:{nodePubkey:Ye(n.nodePubkey.toBuffer()),authorizedVoter:Ye(n.authorizedVoter.toBuffer()),authorizedWithdrawer:Ye(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),o={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Br,isSigner:!1,isWritable:!1},{pubkey:Rr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Tr(o)}static createAccount(t){const e=new Cr;return e.add(Xr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=t,o=$r(Po.Authorize,{newAuthorized:Ye(n.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Rr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Cr).add({keys:s,programId:this.programId,data:o})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:s}=t,a=$r(Po.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Ye(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:Ye(i.toBuffer()),voteAuthorizationType:o.index}}),c=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Rr,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return(new Cr).add({keys:c,programId:this.programId,data:a})}static withdraw(t){const{votePubkey:e,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=t,o=$r(Po.Withdraw,{lamports:n}),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Cr).add({keys:s,programId:this.programId,data:o})}static safeWithdraw(t,e,r){if(t.lamports>e-r)throw new Error("Withdraw will leave vote account with insuffcient funds.");return Mo.withdraw(t)}}Mo.programId=new or("Vote111111111111111111111111111111111111111"),Mo.space=3731;const No=new or("Va1idator1nfo111111111111111111111111111111"),Lo=ne({name:ee(),website:Qt(ee()),details:Qt(ee()),keybaseUsername:Qt(ee())});class Bo{constructor(t,e){this.key=void 0,this.info=void 0,this.key=t,this.info=e}static fromConfigData(t){let e=[...t];if(2!==wr(e))return null;const r=[];for(let t=0;t<2;t++){const t=new or(e.slice(0,nr));e=e.slice(nr);const n=1===e.slice(0,1)[0];e=e.slice(1),r.push({publicKey:t,isSigner:n})}if(r[0].publicKey.equals(No)&&r[1].isSigner){const t=mr().decode(i.Buffer.from(e)),n=JSON.parse(t);return Wt(n,Lo),new Bo(r[1].publicKey,n)}return null}}const Do=new or("Vote111111111111111111111111111111111111111"),jo=Mt.n_([gr("nodePubkey"),gr("authorizedWithdrawer"),Mt.u8("commission"),Mt._O(),Mt.A9(Mt.n_([Mt._O("slot"),Mt.Jq("confirmationCount")]),Mt.cv(Mt.Jq(),-8),"votes"),Mt.u8("rootSlotValid"),Mt._O("rootSlot"),Mt._O(),Mt.A9(Mt.n_([Mt._O("epoch"),gr("authorizedVoter")]),Mt.cv(Mt.Jq(),-8),"authorizedVoters"),Mt.n_([Mt.A9(Mt.n_([gr("authorizedPubkey"),Mt._O("epochOfLastAuthorizedSwitch"),Mt._O("targetEpoch")]),32,"buf"),Mt._O("idx"),Mt.u8("isEmpty")],"priorVoters"),Mt._O(),Mt.A9(Mt.n_([Mt._O("epoch"),Mt._O("credits"),Mt._O("prevCredits")]),Mt.cv(Mt.Jq(),-8),"epochCredits"),Mt.n_([Mt._O("slot"),Mt._O("timestamp")],"lastTimestamp")]);class Uo{constructor(t){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}static fromAccountData(t){const e=jo.decode(Ye(t),4);let r=e.rootSlot;return e.rootSlotValid||(r=null),new Uo({nodePubkey:new or(e.nodePubkey),authorizedWithdrawer:new or(e.authorizedWithdrawer),commission:e.commission,votes:e.votes,rootSlot:r,authorizedVoters:e.authorizedVoters.map(zo),priorVoters:Wo(e.priorVoters),epochCredits:e.epochCredits,lastTimestamp:e.lastTimestamp})}}function zo({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new or(t)}}function Fo({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new or(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function Wo({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(Fo),...t.slice(0,e).map(Fo)]}const $o={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function qo(t,e){const r=!1===e?"http":"https";if(!t)return $o[r].devnet;const n=$o[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function Ho(t,e,r,n){let i,o;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,o=n):o=r;const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await t.sendRawTransaction(e,s),c=o&&o.commitment,u=i?t.confirmTransaction(i,c):t.confirmTransaction(a,c),l=(await u).value;if(l.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const Vo=1e9},4105:(t,e,r)=>{"use strict";e._O=e.Jq=e.KB=e.u8=e.cv=void 0,e.Ik=e.A9=e.n_=e.gM=void 0;const n=r(8764);function i(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function o(t){return i(t),n.Buffer.from(t.buffer,t.byteOffset,t.length)}class s{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function a(t,e){return e.property?t+"["+e.property+"]":t}class c extends s{isCount(){throw new Error("ExternalLayout is abstract")}}class u extends c{constructor(t,e=0,r){if(!(t instanceof s))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof l||this.layout instanceof h}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,r=0){return this.layout.encode(t,e,r+this.offset)}}class l extends s{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return o(t).readUIntLE(e,this.span)}encode(t,e,r=0){return o(e).writeUIntLE(t,r,this.span),this.span}}class h extends s{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return o(t).readUIntBE(e,this.span)}encode(t,e,r=0){return o(e).writeUIntBE(t,r,this.span),this.span}}const d=Math.pow(2,32);function f(t){const e=Math.floor(t/d);return{hi32:e,lo32:t-e*d}}function p(t,e){return t*d+e}class g extends s{constructor(t){super(8,t)}decode(t,e=0){const r=o(t),n=r.readUInt32LE(e);return p(r.readUInt32LE(e+4),n)}encode(t,e,r=0){const n=f(t),i=o(e);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}class y extends s{constructor(t){super(8,t)}decode(t,e=0){const r=o(t),n=r.readUInt32LE(e);return p(r.readInt32LE(e+4),n)}encode(t,e,r=0){const n=f(t),i=o(e);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}class m extends s{constructor(t,e,r){if(!(t instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof c&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(e instanceof c)&&0<t.span&&(n=e*t.span),super(n,r),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof c&&(n=n.decode(t,e)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(t,e+r),++i}return r}decode(t,e=0){const r=[];let n=0,i=this.count;for(i instanceof c&&(i=i.decode(t,e));n<i;)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),n+=1;return r}encode(t,e,r=0){const n=this.elementLayout,i=t.reduce(((t,i)=>t+n.encode(i,e,r+t)),0);return this.count instanceof c&&this.count.encode(t.length,e,r),i}}class b extends s{constructor(t,e,r){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof s),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===r&&(r=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(n,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(t,e);return e+=i,r+i}),0)}catch(t){throw new RangeError("indeterminate span")}return r}decode(t,e=0){i(t);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(t,e)),e+=n.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r=0){const n=r;let i=0,o=0;for(const n of this.fields){let s=n.span;if(o=0<s?s:0,void 0!==n.property){const i=t[n.property];void 0!==i&&(o=n.encode(i,e,r),0>s&&(s=n.getSpan(e,r)))}i=r,r+=s}return i+o-n}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class w extends s{constructor(t,e){if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof c||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e=0){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),o(t).slice(e,e+r)}encode(t,e,r){let n=this.length;if(this.length instanceof c&&(n=t.length),!(t instanceof Uint8Array&&n===t.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>e.length)throw new RangeError("encoding overruns Uint8Array");const i=o(t);return o(e).write(i.toString("hex"),r,n,"hex"),this.length instanceof c&&this.length.encode(n,e,r),n}}e.cv=(t,e,r)=>new u(t,e,r),e.u8=t=>new l(1,t),e.KB=t=>new l(2,t),e.Jq=t=>new l(4,t),e._O=t=>new g(t),e.gM=t=>new y(t),e.n_=(t,e,r)=>new b(t,e,r),e.A9=(t,e,r)=>new m(t,e,r),e.Ik=(t,e)=>new w(t,e)},8099:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(7117);function i(t,e,r){return void 0===e&&(e=new Uint8Array(2)),void 0===r&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}function o(t,e,r){return void 0===e&&(e=new Uint8Array(2)),void 0===r&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}function s(t,e){return void 0===e&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function a(t,e){return void 0===e&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}function c(t,e){return void 0===e&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function u(t,e){return void 0===e&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}function l(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}function h(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}function d(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),l(t/4294967296>>>0,e,r),l(t>>>0,e,r+4),e}function f(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),h(t>>>0,e,r),h(t/4294967296>>>0,e,r+4),e}e.readInt16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16},e.readUint16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])>>>0},e.readInt16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])<<16>>16},e.readUint16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])>>>0},e.writeUint16BE=i,e.writeInt16BE=i,e.writeUint16LE=o,e.writeInt16LE=o,e.readInt32BE=s,e.readUint32BE=a,e.readInt32LE=c,e.readUint32LE=u,e.writeUint32BE=l,e.writeInt32BE=l,e.writeUint32LE=h,e.writeInt32LE=h,e.readInt64BE=function(t,e){void 0===e&&(e=0);var r=s(t,e),n=s(t,e+4);return 4294967296*r+n-4294967296*(n>>31)},e.readUint64BE=function(t,e){return void 0===e&&(e=0),4294967296*a(t,e)+a(t,e+4)},e.readInt64LE=function(t,e){void 0===e&&(e=0);var r=c(t,e);return 4294967296*c(t,e+4)+r-4294967296*(r>>31)},e.readUint64LE=function(t,e){void 0===e&&(e=0);var r=u(t,e);return 4294967296*u(t,e+4)+r},e.writeUint64BE=d,e.writeInt64BE=d,e.writeUint64LE=f,e.writeInt64LE=f,e.readUintBE=function(t,e,r){if(void 0===r&&(r=0),t%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,o=t/8+r-1;o>=r;o--)n+=e[o]*i,i*=256;return n},e.readUintLE=function(t,e,r){if(void 0===r&&(r=0),t%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,o=r;o<r+t/8;o++)n+=e[o]*i,i*=256;return n},e.writeUintBE=function(t,e,r,i){if(void 0===r&&(r=new Uint8Array(t/8)),void 0===i&&(i=0),t%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!n.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var o=1,s=t/8+i-1;s>=i;s--)r[s]=e/o&255,o*=256;return r},e.writeUintLE=function(t,e,r,i){if(void 0===r&&(r=new Uint8Array(t/8)),void 0===i&&(i=0),t%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!n.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var o=1,s=i;s<i+t/8;s++)r[s]=e/o&255,o*=256;return r},e.readFloat32BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e)},e.readFloat32LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e,!0)},e.readFloat64BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e)},e.readFloat64LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e,!0)},e.writeFloat32BE=function(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t),e},e.writeFloat32LE=function(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t,!0),e},e.writeFloat64BE=function(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t),e},e.writeFloat64LE=function(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t,!0),e}},5439:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(8099),i=r(7309),o=20;function s(t,e,r){for(var i=1634760805,s=857760878,a=2036477234,c=1797285236,u=r[3]<<24|r[2]<<16|r[1]<<8|r[0],l=r[7]<<24|r[6]<<16|r[5]<<8|r[4],h=r[11]<<24|r[10]<<16|r[9]<<8|r[8],d=r[15]<<24|r[14]<<16|r[13]<<8|r[12],f=r[19]<<24|r[18]<<16|r[17]<<8|r[16],p=r[23]<<24|r[22]<<16|r[21]<<8|r[20],g=r[27]<<24|r[26]<<16|r[25]<<8|r[24],y=r[31]<<24|r[30]<<16|r[29]<<8|r[28],m=e[3]<<24|e[2]<<16|e[1]<<8|e[0],b=e[7]<<24|e[6]<<16|e[5]<<8|e[4],w=e[11]<<24|e[10]<<16|e[9]<<8|e[8],v=e[15]<<24|e[14]<<16|e[13]<<8|e[12],_=i,E=s,S=a,k=c,x=u,A=l,I=h,T=d,C=f,O=p,P=g,R=y,M=m,N=b,L=w,B=v,D=0;D<o;D+=2)x=(x^=C=C+(M=(M^=_=_+x|0)>>>16|M<<16)|0)>>>20|x<<12,A=(A^=O=O+(N=(N^=E=E+A|0)>>>16|N<<16)|0)>>>20|A<<12,I=(I^=P=P+(L=(L^=S=S+I|0)>>>16|L<<16)|0)>>>20|I<<12,T=(T^=R=R+(B=(B^=k=k+T|0)>>>16|B<<16)|0)>>>20|T<<12,I=(I^=P=P+(L=(L^=S=S+I|0)>>>24|L<<8)|0)>>>25|I<<7,T=(T^=R=R+(B=(B^=k=k+T|0)>>>24|B<<8)|0)>>>25|T<<7,A=(A^=O=O+(N=(N^=E=E+A|0)>>>24|N<<8)|0)>>>25|A<<7,x=(x^=C=C+(M=(M^=_=_+x|0)>>>24|M<<8)|0)>>>25|x<<7,A=(A^=P=P+(B=(B^=_=_+A|0)>>>16|B<<16)|0)>>>20|A<<12,I=(I^=R=R+(M=(M^=E=E+I|0)>>>16|M<<16)|0)>>>20|I<<12,T=(T^=C=C+(N=(N^=S=S+T|0)>>>16|N<<16)|0)>>>20|T<<12,x=(x^=O=O+(L=(L^=k=k+x|0)>>>16|L<<16)|0)>>>20|x<<12,T=(T^=C=C+(N=(N^=S=S+T|0)>>>24|N<<8)|0)>>>25|T<<7,x=(x^=O=O+(L=(L^=k=k+x|0)>>>24|L<<8)|0)>>>25|x<<7,I=(I^=R=R+(M=(M^=E=E+I|0)>>>24|M<<8)|0)>>>25|I<<7,A=(A^=P=P+(B=(B^=_=_+A|0)>>>24|B<<8)|0)>>>25|A<<7;n.writeUint32LE(_+i|0,t,0),n.writeUint32LE(E+s|0,t,4),n.writeUint32LE(S+a|0,t,8),n.writeUint32LE(k+c|0,t,12),n.writeUint32LE(x+u|0,t,16),n.writeUint32LE(A+l|0,t,20),n.writeUint32LE(I+h|0,t,24),n.writeUint32LE(T+d|0,t,28),n.writeUint32LE(C+f|0,t,32),n.writeUint32LE(O+p|0,t,36),n.writeUint32LE(P+g|0,t,40),n.writeUint32LE(R+y|0,t,44),n.writeUint32LE(M+m|0,t,48),n.writeUint32LE(N+b|0,t,52),n.writeUint32LE(L+w|0,t,56),n.writeUint32LE(B+v|0,t,60)}function a(t,e,r,n,o){if(void 0===o&&(o=0),32!==t.length)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var a,u;if(0===o){if(8!==e.length&&12!==e.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");u=(a=new Uint8Array(16)).length-e.length,a.set(e,u)}else{if(16!==e.length)throw new Error("ChaCha nonce with counter must be 16 bytes");a=e,u=o}for(var l=new Uint8Array(64),h=0;h<r.length;h+=64){s(l,a,t);for(var d=h;d<h+64&&d<r.length;d++)n[d]=r[d]^l[d-h];c(a,0,u)}return i.wipe(l),0===o&&i.wipe(a),n}function c(t,e,r){for(var n=1;r--;)n=n+(255&t[e])|0,t[e]=255&n,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}e.streamXOR=a,e.stream=function(t,e,r,n){return void 0===n&&(n=0),i.wipe(r),a(t,e,r,r,n)}},5501:(t,e,r)=>{"use strict";var n=r(5439),i=r(3027),o=r(7309),s=r(8099),a=r(4153);e.Cv=32,e.WH=12,e.pg=16;var c=new Uint8Array(16),u=function(){function t(t){if(this.nonceLength=e.WH,this.tagLength=e.pg,t.length!==e.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(t)}return t.prototype.seal=function(t,e,r,i){if(t.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var s=new Uint8Array(16);s.set(t,s.length-t.length);var a=new Uint8Array(32);n.stream(this._key,s,a,4);var c,u=e.length+this.tagLength;if(i){if(i.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");c=i}else c=new Uint8Array(u);return n.streamXOR(this._key,s,e,c,4),this._authenticate(c.subarray(c.length-this.tagLength,c.length),a,c.subarray(0,c.length-this.tagLength),r),o.wipe(s),c},t.prototype.open=function(t,e,r,i){if(t.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(e.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(t,s.length-t.length);var c=new Uint8Array(32);n.stream(this._key,s,c,4);var u=new Uint8Array(this.tagLength);if(this._authenticate(u,c,e.subarray(0,e.length-this.tagLength),r),!a.equal(u,e.subarray(e.length-this.tagLength,e.length)))return null;var l,h=e.length-this.tagLength;if(i){if(i.length!==h)throw new Error("ChaCha20Poly1305: incorrect destination length");l=i}else l=new Uint8Array(h);return n.streamXOR(this._key,s,e.subarray(0,e.length-this.tagLength),l,4),o.wipe(s),l},t.prototype.clean=function(){return o.wipe(this._key),this},t.prototype._authenticate=function(t,e,r,n){var a=new i.Poly1305(e);n&&(a.update(n),n.length%16>0&&a.update(c.subarray(n.length%16))),a.update(r),r.length%16>0&&a.update(c.subarray(r.length%16));var u=new Uint8Array(8);n&&s.writeUint64LE(n.length,u),a.update(u),s.writeUint64LE(r.length,u),a.update(u);for(var l=a.digest(),h=0;h<l.length;h++)t[h]=l[h];a.clean(),o.wipe(l),o.wipe(u)},t}();e.OK=u},4153:(t,e)=>{"use strict";function r(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}Object.defineProperty(e,"__esModule",{value:!0}),e.select=function(t,e,r){return~(t-1)&e|t-1&r},e.lessOrEqual=function(t,e){return(0|t)-(0|e)-1>>>31&1},e.compare=r,e.equal=function(t,e){return 0!==t.length&&0!==e.length&&0!==r(t,e)}},1050:(t,e,r)=>{"use strict";e.Xx=e._w=e.aP=e.KS=e.jQ=void 0;r(1416);const n=r(3350);r(7309);function i(t){const e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}e.jQ=64,e.KS=64,e.aP=32,new Uint8Array(32)[0]=9;const o=i(),s=i([1]),a=(i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),c=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),u=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function l(t,e){for(let r=0;r<16;r++)t[r]=0|e[r]}function h(t){let e=1;for(let r=0;r<16;r++){let n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-65536*e}t[0]+=e-1+37*(e-1)}function d(t,e,r){const n=~(r-1);for(let r=0;r<16;r++){const i=n&(t[r]^e[r]);t[r]^=i,e[r]^=i}}function f(t,e){const r=i(),n=i();for(let t=0;t<16;t++)n[t]=e[t];h(n),h(n),h(n);for(let t=0;t<2;t++){r[0]=n[0]-65517;for(let t=1;t<15;t++)r[t]=n[t]-65535-(r[t-1]>>16&1),r[t-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);const t=r[15]>>16&1;r[14]&=65535,d(n,r,1-t)}for(let e=0;e<16;e++)t[2*e]=255&n[e],t[2*e+1]=n[e]>>8}function p(t){const e=new Uint8Array(32);return f(e,t),1&e[0]}function g(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]+r[n]}function y(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]-r[n]}function m(t,e,r){let n,i,o=0,s=0,a=0,c=0,u=0,l=0,h=0,d=0,f=0,p=0,g=0,y=0,m=0,b=0,w=0,v=0,_=0,E=0,S=0,k=0,x=0,A=0,I=0,T=0,C=0,O=0,P=0,R=0,M=0,N=0,L=0,B=r[0],D=r[1],j=r[2],U=r[3],z=r[4],F=r[5],W=r[6],$=r[7],q=r[8],H=r[9],V=r[10],K=r[11],G=r[12],Z=r[13],Y=r[14],J=r[15];n=e[0],o+=n*B,s+=n*D,a+=n*j,c+=n*U,u+=n*z,l+=n*F,h+=n*W,d+=n*$,f+=n*q,p+=n*H,g+=n*V,y+=n*K,m+=n*G,b+=n*Z,w+=n*Y,v+=n*J,n=e[1],s+=n*B,a+=n*D,c+=n*j,u+=n*U,l+=n*z,h+=n*F,d+=n*W,f+=n*$,p+=n*q,g+=n*H,y+=n*V,m+=n*K,b+=n*G,w+=n*Z,v+=n*Y,_+=n*J,n=e[2],a+=n*B,c+=n*D,u+=n*j,l+=n*U,h+=n*z,d+=n*F,f+=n*W,p+=n*$,g+=n*q,y+=n*H,m+=n*V,b+=n*K,w+=n*G,v+=n*Z,_+=n*Y,E+=n*J,n=e[3],c+=n*B,u+=n*D,l+=n*j,h+=n*U,d+=n*z,f+=n*F,p+=n*W,g+=n*$,y+=n*q,m+=n*H,b+=n*V,w+=n*K,v+=n*G,_+=n*Z,E+=n*Y,S+=n*J,n=e[4],u+=n*B,l+=n*D,h+=n*j,d+=n*U,f+=n*z,p+=n*F,g+=n*W,y+=n*$,m+=n*q,b+=n*H,w+=n*V,v+=n*K,_+=n*G,E+=n*Z,S+=n*Y,k+=n*J,n=e[5],l+=n*B,h+=n*D,d+=n*j,f+=n*U,p+=n*z,g+=n*F,y+=n*W,m+=n*$,b+=n*q,w+=n*H,v+=n*V,_+=n*K,E+=n*G,S+=n*Z,k+=n*Y,x+=n*J,n=e[6],h+=n*B,d+=n*D,f+=n*j,p+=n*U,g+=n*z,y+=n*F,m+=n*W,b+=n*$,w+=n*q,v+=n*H,_+=n*V,E+=n*K,S+=n*G,k+=n*Z,x+=n*Y,A+=n*J,n=e[7],d+=n*B,f+=n*D,p+=n*j,g+=n*U,y+=n*z,m+=n*F,b+=n*W,w+=n*$,v+=n*q,_+=n*H,E+=n*V,S+=n*K,k+=n*G,x+=n*Z,A+=n*Y,I+=n*J,n=e[8],f+=n*B,p+=n*D,g+=n*j,y+=n*U,m+=n*z,b+=n*F,w+=n*W,v+=n*$,_+=n*q,E+=n*H,S+=n*V,k+=n*K,x+=n*G,A+=n*Z,I+=n*Y,T+=n*J,n=e[9],p+=n*B,g+=n*D,y+=n*j,m+=n*U,b+=n*z,w+=n*F,v+=n*W,_+=n*$,E+=n*q,S+=n*H,k+=n*V,x+=n*K,A+=n*G,I+=n*Z,T+=n*Y,C+=n*J,n=e[10],g+=n*B,y+=n*D,m+=n*j,b+=n*U,w+=n*z,v+=n*F,_+=n*W,E+=n*$,S+=n*q,k+=n*H,x+=n*V,A+=n*K,I+=n*G,T+=n*Z,C+=n*Y,O+=n*J,n=e[11],y+=n*B,m+=n*D,b+=n*j,w+=n*U,v+=n*z,_+=n*F,E+=n*W,S+=n*$,k+=n*q,x+=n*H,A+=n*V,I+=n*K,T+=n*G,C+=n*Z,O+=n*Y,P+=n*J,n=e[12],m+=n*B,b+=n*D,w+=n*j,v+=n*U,_+=n*z,E+=n*F,S+=n*W,k+=n*$,x+=n*q,A+=n*H,I+=n*V,T+=n*K,C+=n*G,O+=n*Z,P+=n*Y,R+=n*J,n=e[13],b+=n*B,w+=n*D,v+=n*j,_+=n*U,E+=n*z,S+=n*F,k+=n*W,x+=n*$,A+=n*q,I+=n*H,T+=n*V,C+=n*K,O+=n*G,P+=n*Z,R+=n*Y,M+=n*J,n=e[14],w+=n*B,v+=n*D,_+=n*j,E+=n*U,S+=n*z,k+=n*F,x+=n*W,A+=n*$,I+=n*q,T+=n*H,C+=n*V,O+=n*K,P+=n*G,R+=n*Z,M+=n*Y,N+=n*J,n=e[15],v+=n*B,_+=n*D,E+=n*j,S+=n*U,k+=n*z,x+=n*F,A+=n*W,I+=n*$,T+=n*q,C+=n*H,O+=n*V,P+=n*K,R+=n*G,M+=n*Z,N+=n*Y,L+=n*J,o+=38*_,s+=38*E,a+=38*S,c+=38*k,u+=38*x,l+=38*A,h+=38*I,d+=38*T,f+=38*C,p+=38*O,g+=38*P,y+=38*R,m+=38*M,b+=38*N,w+=38*L,i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,o+=i-1+37*(i-1),i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,o+=i-1+37*(i-1),t[0]=o,t[1]=s,t[2]=a,t[3]=c,t[4]=u,t[5]=l,t[6]=h,t[7]=d,t[8]=f,t[9]=p,t[10]=g,t[11]=y,t[12]=m,t[13]=b,t[14]=w,t[15]=v}function b(t,e){m(t,e,e)}function w(t,e){const r=i(),n=i(),o=i(),s=i(),c=i(),u=i(),l=i(),h=i(),d=i();y(r,t[1],t[0]),y(d,e[1],e[0]),m(r,r,d),g(n,t[0],t[1]),g(d,e[0],e[1]),m(n,n,d),m(o,t[3],e[3]),m(o,o,a),m(s,t[2],e[2]),g(s,s,s),y(c,n,r),y(u,s,o),g(l,s,o),g(h,n,r),m(t[0],c,u),m(t[1],h,l),m(t[2],l,u),m(t[3],c,h)}function v(t,e,r){for(let n=0;n<4;n++)d(t[n],e[n],r)}function _(t,e){const r=i(),n=i(),o=i();(function(t,e){const r=i();let n;for(n=0;n<16;n++)r[n]=e[n];for(n=253;n>=0;n--)b(r,r),2!==n&&4!==n&&m(r,r,e);for(n=0;n<16;n++)t[n]=r[n]})(o,e[2]),m(r,e[0],o),m(n,e[1],o),f(t,n),t[31]^=p(r)<<7}function E(t,e){const r=[i(),i(),i(),i()];l(r[0],c),l(r[1],u),l(r[2],s),m(r[3],c,u),function(t,e,r){l(t[0],o),l(t[1],s),l(t[2],s),l(t[3],o);for(let n=255;n>=0;--n){const i=r[n/8|0]>>(7&n)&1;v(t,e,i),w(e,t),w(t,t),v(t,e,i)}}(t,r,e)}e._w=function(t){if(t.length!==e.aP)throw new Error(`ed25519: seed must be ${e.aP} bytes`);const r=(0,n.hash)(t);r[0]&=248,r[31]&=127,r[31]|=64;const o=new Uint8Array(32),s=[i(),i(),i(),i()];E(s,r),_(o,s);const a=new Uint8Array(64);return a.set(t),a.set(o,32),{publicKey:o,secretKey:a}};const S=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function k(t,e){let r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)e[i]+=r-16*e[n]*S[i-(n-32)],r=Math.floor((e[i]+128)/256),e[i]-=256*r;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;i++)e[i]+=r-(e[31]>>4)*S[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*S[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function x(t){const e=new Float64Array(64);for(let r=0;r<64;r++)e[r]=t[r];for(let e=0;e<64;e++)t[e]=0;k(t,e)}e.Xx=function(t,e){const r=new Float64Array(64),o=[i(),i(),i(),i()],s=(0,n.hash)(t.subarray(0,32));s[0]&=248,s[31]&=127,s[31]|=64;const a=new Uint8Array(64);a.set(s.subarray(32),32);const c=new n.SHA512;c.update(a.subarray(32)),c.update(e);const u=c.digest();c.clean(),x(u),E(o,u),_(a,o),c.reset(),c.update(a.subarray(0,32)),c.update(t.subarray(32)),c.update(e);const l=c.digest();x(l);for(let t=0;t<32;t++)r[t]=u[t];for(let t=0;t<32;t++)for(let e=0;e<32;e++)r[t+e]+=l[t]*s[e];return k(a.subarray(32),r),a}},9984:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSerializableHash=function(t){return void 0!==t.saveState&&void 0!==t.restoreState&&void 0!==t.cleanSavedState}},512:(t,e,r)=>{"use strict";var n=r(5629),i=r(7309),o=function(){function t(t,e,r,i){void 0===r&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=i;var o=n.hmac(this._hash,r,e);this._hmac=new n.HMAC(t,o),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(0===t)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(t){for(var e=new Uint8Array(t),r=0;r<e.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),e[r]=this._buffer[this._bufpos++];return e},t.prototype.clean=function(){this._hmac.clean(),i.wipe(this._buffer),i.wipe(this._counter),this._bufpos=0},t}();e.t=o},5629:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(9984),i=r(4153),o=r(7309),s=function(){function t(t,e){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);e.length>this.blockSize?this._inner.update(e).finish(r).clean():r.set(e);for(var i=0;i<r.length;i++)r[i]^=54;for(this._inner.update(r),i=0;i<r.length;i++)r[i]^=106;this._outer.update(r),n.isSerializableHash(this._inner)&&n.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),o.wipe(r)}return t.prototype.reset=function(){if(!n.isSerializableHash(this._inner)||!n.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){n.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),n.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(t){return this._inner.update(t),this},t.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(!n.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(t){if(!n.isSerializableHash(this._inner)||!n.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(t){if(!n.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},t}();e.HMAC=s,e.hmac=function(t,e,r){var n=new s(t,e);n.update(r);var i=n.digest();return n.clean(),i},e.equal=i.equal},7117:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mul=Math.imul||function(t,e){var r=65535&t,n=65535&e;return r*n+((t>>>16&65535)*n+r*(e>>>16&65535)<<16>>>0)|0},e.add=function(t,e){return t+e|0},e.sub=function(t,e){return t-e|0},e.rotl=function(t,e){return t<<e|t>>>32-e},e.rotr=function(t,e){return t<<32-e|t>>>e},e.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(t){return e.isInteger(t)&&t>=-e.MAX_SAFE_INTEGER&&t<=e.MAX_SAFE_INTEGER}},3027:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(4153),i=r(7309);e.DIGEST_LENGTH=16;var o=function(){function t(t){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=t[0]|t[1]<<8;this._r[0]=8191&r;var n=t[2]|t[3]<<8;this._r[1]=8191&(r>>>13|n<<3);var i=t[4]|t[5]<<8;this._r[2]=7939&(n>>>10|i<<6);var o=t[6]|t[7]<<8;this._r[3]=8191&(i>>>7|o<<9);var s=t[8]|t[9]<<8;this._r[4]=255&(o>>>4|s<<12),this._r[5]=s>>>1&8190;var a=t[10]|t[11]<<8;this._r[6]=8191&(s>>>14|a<<2);var c=t[12]|t[13]<<8;this._r[7]=8065&(a>>>11|c<<5);var u=t[14]|t[15]<<8;this._r[8]=8191&(c>>>8|u<<8),this._r[9]=u>>>5&127,this._pad[0]=t[16]|t[17]<<8,this._pad[1]=t[18]|t[19]<<8,this._pad[2]=t[20]|t[21]<<8,this._pad[3]=t[22]|t[23]<<8,this._pad[4]=t[24]|t[25]<<8,this._pad[5]=t[26]|t[27]<<8,this._pad[6]=t[28]|t[29]<<8,this._pad[7]=t[30]|t[31]<<8}return t.prototype._blocks=function(t,e,r){for(var n=this._fin?0:2048,i=this._h[0],o=this._h[1],s=this._h[2],a=this._h[3],c=this._h[4],u=this._h[5],l=this._h[6],h=this._h[7],d=this._h[8],f=this._h[9],p=this._r[0],g=this._r[1],y=this._r[2],m=this._r[3],b=this._r[4],w=this._r[5],v=this._r[6],_=this._r[7],E=this._r[8],S=this._r[9];r>=16;){var k=t[e+0]|t[e+1]<<8;i+=8191&k;var x=t[e+2]|t[e+3]<<8;o+=8191&(k>>>13|x<<3);var A=t[e+4]|t[e+5]<<8;s+=8191&(x>>>10|A<<6);var I=t[e+6]|t[e+7]<<8;a+=8191&(A>>>7|I<<9);var T=t[e+8]|t[e+9]<<8;c+=8191&(I>>>4|T<<12),u+=T>>>1&8191;var C=t[e+10]|t[e+11]<<8;l+=8191&(T>>>14|C<<2);var O=t[e+12]|t[e+13]<<8;h+=8191&(C>>>11|O<<5);var P=t[e+14]|t[e+15]<<8,R=0,M=R;M+=i*p,M+=o*(5*S),M+=s*(5*E),M+=a*(5*_),R=(M+=c*(5*v))>>>13,M&=8191,M+=u*(5*w),M+=l*(5*b),M+=h*(5*m),M+=(d+=8191&(O>>>8|P<<8))*(5*y);var N=R+=(M+=(f+=P>>>5|n)*(5*g))>>>13;N+=i*g,N+=o*p,N+=s*(5*S),N+=a*(5*E),R=(N+=c*(5*_))>>>13,N&=8191,N+=u*(5*v),N+=l*(5*w),N+=h*(5*b),N+=d*(5*m),R+=(N+=f*(5*y))>>>13,N&=8191;var L=R;L+=i*y,L+=o*g,L+=s*p,L+=a*(5*S),R=(L+=c*(5*E))>>>13,L&=8191,L+=u*(5*_),L+=l*(5*v),L+=h*(5*w),L+=d*(5*b);var B=R+=(L+=f*(5*m))>>>13;B+=i*m,B+=o*y,B+=s*g,B+=a*p,R=(B+=c*(5*S))>>>13,B&=8191,B+=u*(5*E),B+=l*(5*_),B+=h*(5*v),B+=d*(5*w);var D=R+=(B+=f*(5*b))>>>13;D+=i*b,D+=o*m,D+=s*y,D+=a*g,R=(D+=c*p)>>>13,D&=8191,D+=u*(5*S),D+=l*(5*E),D+=h*(5*_),D+=d*(5*v);var j=R+=(D+=f*(5*w))>>>13;j+=i*w,j+=o*b,j+=s*m,j+=a*y,R=(j+=c*g)>>>13,j&=8191,j+=u*p,j+=l*(5*S),j+=h*(5*E),j+=d*(5*_);var U=R+=(j+=f*(5*v))>>>13;U+=i*v,U+=o*w,U+=s*b,U+=a*m,R=(U+=c*y)>>>13,U&=8191,U+=u*g,U+=l*p,U+=h*(5*S),U+=d*(5*E);var z=R+=(U+=f*(5*_))>>>13;z+=i*_,z+=o*v,z+=s*w,z+=a*b,R=(z+=c*m)>>>13,z&=8191,z+=u*y,z+=l*g,z+=h*p,z+=d*(5*S);var F=R+=(z+=f*(5*E))>>>13;F+=i*E,F+=o*_,F+=s*v,F+=a*w,R=(F+=c*b)>>>13,F&=8191,F+=u*m,F+=l*y,F+=h*g,F+=d*p;var W=R+=(F+=f*(5*S))>>>13;W+=i*S,W+=o*E,W+=s*_,W+=a*v,R=(W+=c*w)>>>13,W&=8191,W+=u*b,W+=l*m,W+=h*y,W+=d*g,i=M=8191&(R=(R=((R+=(W+=f*p)>>>13)<<2)+R|0)+(M&=8191)|0),o=N+=R>>>=13,s=L&=8191,a=B&=8191,c=D&=8191,u=j&=8191,l=U&=8191,h=z&=8191,d=F&=8191,f=W&=8191,e+=16,r-=16}this._h[0]=i,this._h[1]=o,this._h[2]=s,this._h[3]=a,this._h[4]=c,this._h[5]=u,this._h[6]=l,this._h[7]=h,this._h[8]=d,this._h[9]=f},t.prototype.finish=function(t,e){void 0===e&&(e=0);var r,n,i,o,s=new Uint16Array(10);if(this._leftover){for(o=this._leftover,this._buffer[o++]=1;o<16;o++)this._buffer[o]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,o=2;o<10;o++)this._h[o]+=r,r=this._h[o]>>>13,this._h[o]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,s[0]=this._h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this._h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this._h[o]=this._h[o]&n|s[o];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),i=this._h[0]+this._pad[0],this._h[0]=65535&i,o=1;o<8;o++)i=(this._h[o]+this._pad[o]|0)+(i>>>16)|0,this._h[o]=65535&i;return t[e+0]=this._h[0]>>>0,t[e+1]=this._h[0]>>>8,t[e+2]=this._h[1]>>>0,t[e+3]=this._h[1]>>>8,t[e+4]=this._h[2]>>>0,t[e+5]=this._h[2]>>>8,t[e+6]=this._h[3]>>>0,t[e+7]=this._h[3]>>>8,t[e+8]=this._h[4]>>>0,t[e+9]=this._h[4]>>>8,t[e+10]=this._h[5]>>>0,t[e+11]=this._h[5]>>>8,t[e+12]=this._h[6]>>>0,t[e+13]=this._h[6]>>>8,t[e+14]=this._h[7]>>>0,t[e+15]=this._h[7]>>>8,this._finished=!0,this},t.prototype.update=function(t){var e,r=0,n=t.length;if(this._leftover){(e=16-this._leftover)>n&&(e=n);for(var i=0;i<e;i++)this._buffer[this._leftover+i]=t[r+i];if(n-=e,r+=e,this._leftover+=e,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(e=n-n%16,this._blocks(t,r,e),r+=e,n-=e),n){for(i=0;i<n;i++)this._buffer[this._leftover+i]=t[r+i];this._leftover+=n}return this},t.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var t=new Uint8Array(16);return this.finish(t),t},t.prototype.clean=function(){return i.wipe(this._buffer),i.wipe(this._r),i.wipe(this._h),i.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},t}();e.Poly1305=o,e.oneTimeAuth=function(t,e){var r=new o(t);r.update(e);var n=r.digest();return r.clean(),n},e.equal=function(t,r){return t.length===e.DIGEST_LENGTH&&r.length===e.DIGEST_LENGTH&&n.equal(t,r)}},1416:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const n=r(6008),i=r(8099),o=r(7309);function s(t,r=e.defaultRandomSource){return r.randomBytes(t)}e.defaultRandomSource=new n.SystemRandomSource,e.randomBytes=s,e.randomUint32=function(t=e.defaultRandomSource){const r=s(4,t),n=(0,i.readUint32LE)(r);return(0,o.wipe)(r),n};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(t,r=a,n=e.defaultRandomSource){if(r.length<2)throw new Error("randomString charset is too short");if(r.length>256)throw new Error("randomString charset is too long");let i="";const c=r.length,u=256-256%c;for(;t>0;){const e=s(Math.ceil(256*t/u),n);for(let n=0;n<e.length&&t>0;n++){const o=e[n];o<u&&(i+=r.charAt(o%c),t--)}(0,o.wipe)(e)}return i}e.randomString=c,e.randomStringForEntropy=function(t,r=a,n=e.defaultRandomSource){return c(Math.ceil(t/(Math.log(r.length)/Math.LN2)),r,n)}},5455:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserRandomSource=void 0,e.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&void 0!==t.getRandomValues&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const e=new Uint8Array(t);for(let t=0;t<e.length;t+=65536)this._crypto.getRandomValues(e.subarray(t,t+Math.min(e.length-t,65536)));return e}}},8871:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeRandomSource=void 0;const n=r(7309);e.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const t=r(5883);t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let e=this._crypto.randomBytes(t);if(e.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const r=new Uint8Array(t);for(let t=0;t<r.length;t++)r[t]=e[t];return(0,n.wipe)(e),r}}},6008:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SystemRandomSource=void 0;const n=r(5455),i=r(8871);e.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new n.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new i.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}},3294:(t,e,r)=>{"use strict";var n=r(8099),i=r(7309);e.k=32,e.cn=64;var o=function(){function t(){this.digestLength=e.k,this.blockSize=e.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._temp),this.reset()},t.prototype.update=function(t,e){if(void 0===e&&(e=t.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=e,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&e>0;)this._buffer[this._bufferLength++]=t[r++],e--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(e>=this.blockSize&&(r=a(this._temp,this._state,t,r,e),e%=this.blockSize);e>0;)this._buffer[this._bufferLength++]=t[r++],e--;return this},t.prototype.finish=function(t){if(!this._finished){var e=this._bytesHashed,r=this._bufferLength,i=e/536870912|0,o=e<<3,s=e%64<56?64:128;this._buffer[r]=128;for(var c=r+1;c<s-8;c++)this._buffer[c]=0;n.writeUint32BE(i,this._buffer,s-8),n.writeUint32BE(o,this._buffer,s-4),a(this._temp,this._state,this._buffer,0,s),this._finished=!0}for(c=0;c<this.digestLength/4;c++)n.writeUint32BE(this._state[c],t,4*c);return this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(t){return this._state.set(t.state),this._bufferLength=t.bufferLength,t.buffer&&this._buffer.set(t.buffer),this._bytesHashed=t.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(t){i.wipe(t.state),t.buffer&&i.wipe(t.buffer),t.bufferLength=0,t.bytesHashed=0},t}();e.mE=o;var s=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(t,e,r,i,o){for(;o>=64;){for(var a=e[0],c=e[1],u=e[2],l=e[3],h=e[4],d=e[5],f=e[6],p=e[7],g=0;g<16;g++){var y=i+4*g;t[g]=n.readUint32BE(r,y)}for(g=16;g<64;g++){var m=t[g-2],b=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10,w=((m=t[g-15])>>>7|m<<25)^(m>>>18|m<<14)^m>>>3;t[g]=(b+t[g-7]|0)+(w+t[g-16]|0)}for(g=0;g<64;g++)b=(((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&d^~h&f)|0)+(p+(s[g]+t[g]|0)|0)|0,w=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&c^a&u^c&u)|0,p=f,f=d,d=h,h=l+b|0,l=u,u=c,c=a,a=b+w|0;e[0]+=a,e[1]+=c,e[2]+=u,e[3]+=l,e[4]+=h,e[5]+=d,e[6]+=f,e[7]+=p,i+=64,o-=64}return i}e.vp=function(t){var e=new o;e.update(t);var r=e.digest();return e.clean(),r}},3350:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(8099),i=r(7309);e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var o=function(){function t(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._tempHi),i.wipe(this._tempLo),this.reset()},t.prototype.update=function(t,r){if(void 0===r&&(r=t.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=t[n++],r--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,t,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=t[n++],r--;return this},t.prototype.finish=function(t){if(!this._finished){var e=this._bytesHashed,r=this._bufferLength,i=e/536870912|0,o=e<<3,s=e%128<112?128:256;this._buffer[r]=128;for(var c=r+1;c<s-8;c++)this._buffer[c]=0;n.writeUint32BE(i,this._buffer,s-8),n.writeUint32BE(o,this._buffer,s-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,s),this._finished=!0}for(c=0;c<this.digestLength/8;c++)n.writeUint32BE(this._stateHi[c],t,8*c),n.writeUint32BE(this._stateLo[c],t,8*c+4);return this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(t){return this._stateHi.set(t.stateHi),this._stateLo.set(t.stateLo),this._bufferLength=t.bufferLength,t.buffer&&this._buffer.set(t.buffer),this._bytesHashed=t.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(t){i.wipe(t.stateHi),i.wipe(t.stateLo),t.buffer&&i.wipe(t.buffer),t.bufferLength=0,t.bytesHashed=0},t}();e.SHA512=o;var s=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(t,e,r,i,o,a,c){for(var u,l,h,d,f,p,g,y,m=r[0],b=r[1],w=r[2],v=r[3],_=r[4],E=r[5],S=r[6],k=r[7],x=i[0],A=i[1],I=i[2],T=i[3],C=i[4],O=i[5],P=i[6],R=i[7];c>=128;){for(var M=0;M<16;M++){var N=8*M+a;t[M]=n.readUint32BE(o,N),e[M]=n.readUint32BE(o,N+4)}for(M=0;M<80;M++){var L,B,D=m,j=b,U=w,z=v,F=_,W=E,$=S,q=x,H=A,V=I,K=T,G=C,Z=O,Y=P;if(f=65535&(l=R),p=l>>>16,g=65535&(u=k),y=u>>>16,f+=65535&(l=(C>>>14|_<<18)^(C>>>18|_<<14)^(_>>>9|C<<23)),p+=l>>>16,g+=65535&(u=(_>>>14|C<<18)^(_>>>18|C<<14)^(C>>>9|_<<23)),y+=u>>>16,f+=65535&(l=C&O^~C&P),p+=l>>>16,g+=65535&(u=_&E^~_&S),y+=u>>>16,u=s[2*M],f+=65535&(l=s[2*M+1]),p+=l>>>16,g+=65535&u,y+=u>>>16,u=t[M%16],p+=(l=e[M%16])>>>16,g+=65535&u,y+=u>>>16,g+=(p+=(f+=65535&l)>>>16)>>>16,f=65535&(l=d=65535&f|p<<16),p=l>>>16,g=65535&(u=h=65535&g|(y+=g>>>16)<<16),y=u>>>16,f+=65535&(l=(x>>>28|m<<4)^(m>>>2|x<<30)^(m>>>7|x<<25)),p+=l>>>16,g+=65535&(u=(m>>>28|x<<4)^(x>>>2|m<<30)^(x>>>7|m<<25)),y+=u>>>16,p+=(l=x&A^x&I^A&I)>>>16,g+=65535&(u=m&b^m&w^b&w),y+=u>>>16,L=65535&(g+=(p+=(f+=65535&l)>>>16)>>>16)|(y+=g>>>16)<<16,B=65535&f|p<<16,f=65535&(l=K),p=l>>>16,g=65535&(u=z),y=u>>>16,p+=(l=d)>>>16,g+=65535&(u=h),y+=u>>>16,b=D,w=j,v=U,_=z=65535&(g+=(p+=(f+=65535&l)>>>16)>>>16)|(y+=g>>>16)<<16,E=F,S=W,k=$,m=L,A=q,I=H,T=V,C=K=65535&f|p<<16,O=G,P=Z,R=Y,x=B,M%16==15)for(N=0;N<16;N++)u=t[N],f=65535&(l=e[N]),p=l>>>16,g=65535&u,y=u>>>16,u=t[(N+9)%16],f+=65535&(l=e[(N+9)%16]),p+=l>>>16,g+=65535&u,y+=u>>>16,h=t[(N+1)%16],f+=65535&(l=((d=e[(N+1)%16])>>>1|h<<31)^(d>>>8|h<<24)^(d>>>7|h<<25)),p+=l>>>16,g+=65535&(u=(h>>>1|d<<31)^(h>>>8|d<<24)^h>>>7),y+=u>>>16,h=t[(N+14)%16],p+=(l=((d=e[(N+14)%16])>>>19|h<<13)^(h>>>29|d<<3)^(d>>>6|h<<26))>>>16,g+=65535&(u=(h>>>19|d<<13)^(d>>>29|h<<3)^h>>>6),y+=u>>>16,y+=(g+=(p+=(f+=65535&l)>>>16)>>>16)>>>16,t[N]=65535&g|y<<16,e[N]=65535&f|p<<16}f=65535&(l=x),p=l>>>16,g=65535&(u=m),y=u>>>16,u=r[0],p+=(l=i[0])>>>16,g+=65535&u,y+=u>>>16,y+=(g+=(p+=(f+=65535&l)>>>16)>>>16)>>>16,r[0]=m=65535&g|y<<16,i[0]=x=65535&f|p<<16,f=65535&(l=A),p=l>>>16,g=65535&(u=b),y=u>>>16,u=r[1],p+=(l=i[1])>>>16,g+=65535&u,y+=u>>>16,y+=(g+=(p+=(f+=65535&l)>>>16)>>>16)>>>16,r[1]=b=65535&g|y<<16,i[1]=A=65535&f|p<<16,f=65535&(l=I),p=l>>>16,g=65535&(u=w),y=u>>>16,u=r[2],p+=(l=i[2])>>>16,g+=65535&u,y+=u>>>16,y+=(g+=(p+=(f+=65535&l)>>>16)>>>16)>>>16,r[2]=w=65535&g|y<<16,i[2]=I=65535&f|p<<16,f=65535&(l=T),p=l>>>16,g=65535&(u=v),y=u>>>16,u=r[3],p+=(l=i[3])>>>16,g+=65535&u,y+=u>>>16,y+=(g+=(p+=(f+=65535&l)>>>16)>>>16)>>>16,r[3]=v=65535&g|y<<16,i[3]=T=65535&f|p<<16,f=65535&(l=C),p=l>>>16,g=65535&(u=_),y=u>>>16,u=r[4],p+=(l=i[4])>>>16,g+=65535&u,y+=u>>>16,y+=(g+=(p+=(f+=65535&l)>>>16)>>>16)>>>16,r[4]=_=65535&g|y<<16,i[4]=C=65535&f|p<<16,f=65535&(l=O),p=l>>>16,g=65535&(u=E),y=u>>>16,u=r[5],p+=(l=i[5])>>>16,g+=65535&u,y+=u>>>16,y+=(g+=(p+=(f+=65535&l)>>>16)>>>16)>>>16,r[5]=E=65535&g|y<<16,i[5]=O=65535&f|p<<16,f=65535&(l=P),p=l>>>16,g=65535&(u=S),y=u>>>16,u=r[6],p+=(l=i[6])>>>16,g+=65535&u,y+=u>>>16,y+=(g+=(p+=(f+=65535&l)>>>16)>>>16)>>>16,r[6]=S=65535&g|y<<16,i[6]=P=65535&f|p<<16,f=65535&(l=R),p=l>>>16,g=65535&(u=k),y=u>>>16,u=r[7],p+=(l=i[7])>>>16,g+=65535&u,y+=u>>>16,y+=(g+=(p+=(f+=65535&l)>>>16)>>>16)>>>16,r[7]=k=65535&g|y<<16,i[7]=R=65535&f|p<<16,a+=128,c-=128}return a}e.hash=function(t){var e=new o;e.update(t);var r=e.digest();return e.clean(),r}},7309:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wipe=function(t){for(var e=0;e<t.length;e++)t[e]=0;return t}},7664:(t,e,r)=>{"use strict";e.gi=e.Au=e.KS=e.kz=void 0;const n=r(1416),i=r(7309);function o(t){const e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}e.kz=32,e.KS=32;const s=new Uint8Array(32);s[0]=9;const a=o([56129,1]);function c(t){let e=1;for(let r=0;r<16;r++){let n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-65536*e}t[0]+=e-1+37*(e-1)}function u(t,e,r){const n=~(r-1);for(let r=0;r<16;r++){const i=n&(t[r]^e[r]);t[r]^=i,e[r]^=i}}function l(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]+r[n]}function h(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]-r[n]}function d(t,e,r){let n,i,o=0,s=0,a=0,c=0,u=0,l=0,h=0,d=0,f=0,p=0,g=0,y=0,m=0,b=0,w=0,v=0,_=0,E=0,S=0,k=0,x=0,A=0,I=0,T=0,C=0,O=0,P=0,R=0,M=0,N=0,L=0,B=r[0],D=r[1],j=r[2],U=r[3],z=r[4],F=r[5],W=r[6],$=r[7],q=r[8],H=r[9],V=r[10],K=r[11],G=r[12],Z=r[13],Y=r[14],J=r[15];n=e[0],o+=n*B,s+=n*D,a+=n*j,c+=n*U,u+=n*z,l+=n*F,h+=n*W,d+=n*$,f+=n*q,p+=n*H,g+=n*V,y+=n*K,m+=n*G,b+=n*Z,w+=n*Y,v+=n*J,n=e[1],s+=n*B,a+=n*D,c+=n*j,u+=n*U,l+=n*z,h+=n*F,d+=n*W,f+=n*$,p+=n*q,g+=n*H,y+=n*V,m+=n*K,b+=n*G,w+=n*Z,v+=n*Y,_+=n*J,n=e[2],a+=n*B,c+=n*D,u+=n*j,l+=n*U,h+=n*z,d+=n*F,f+=n*W,p+=n*$,g+=n*q,y+=n*H,m+=n*V,b+=n*K,w+=n*G,v+=n*Z,_+=n*Y,E+=n*J,n=e[3],c+=n*B,u+=n*D,l+=n*j,h+=n*U,d+=n*z,f+=n*F,p+=n*W,g+=n*$,y+=n*q,m+=n*H,b+=n*V,w+=n*K,v+=n*G,_+=n*Z,E+=n*Y,S+=n*J,n=e[4],u+=n*B,l+=n*D,h+=n*j,d+=n*U,f+=n*z,p+=n*F,g+=n*W,y+=n*$,m+=n*q,b+=n*H,w+=n*V,v+=n*K,_+=n*G,E+=n*Z,S+=n*Y,k+=n*J,n=e[5],l+=n*B,h+=n*D,d+=n*j,f+=n*U,p+=n*z,g+=n*F,y+=n*W,m+=n*$,b+=n*q,w+=n*H,v+=n*V,_+=n*K,E+=n*G,S+=n*Z,k+=n*Y,x+=n*J,n=e[6],h+=n*B,d+=n*D,f+=n*j,p+=n*U,g+=n*z,y+=n*F,m+=n*W,b+=n*$,w+=n*q,v+=n*H,_+=n*V,E+=n*K,S+=n*G,k+=n*Z,x+=n*Y,A+=n*J,n=e[7],d+=n*B,f+=n*D,p+=n*j,g+=n*U,y+=n*z,m+=n*F,b+=n*W,w+=n*$,v+=n*q,_+=n*H,E+=n*V,S+=n*K,k+=n*G,x+=n*Z,A+=n*Y,I+=n*J,n=e[8],f+=n*B,p+=n*D,g+=n*j,y+=n*U,m+=n*z,b+=n*F,w+=n*W,v+=n*$,_+=n*q,E+=n*H,S+=n*V,k+=n*K,x+=n*G,A+=n*Z,I+=n*Y,T+=n*J,n=e[9],p+=n*B,g+=n*D,y+=n*j,m+=n*U,b+=n*z,w+=n*F,v+=n*W,_+=n*$,E+=n*q,S+=n*H,k+=n*V,x+=n*K,A+=n*G,I+=n*Z,T+=n*Y,C+=n*J,n=e[10],g+=n*B,y+=n*D,m+=n*j,b+=n*U,w+=n*z,v+=n*F,_+=n*W,E+=n*$,S+=n*q,k+=n*H,x+=n*V,A+=n*K,I+=n*G,T+=n*Z,C+=n*Y,O+=n*J,n=e[11],y+=n*B,m+=n*D,b+=n*j,w+=n*U,v+=n*z,_+=n*F,E+=n*W,S+=n*$,k+=n*q,x+=n*H,A+=n*V,I+=n*K,T+=n*G,C+=n*Z,O+=n*Y,P+=n*J,n=e[12],m+=n*B,b+=n*D,w+=n*j,v+=n*U,_+=n*z,E+=n*F,S+=n*W,k+=n*$,x+=n*q,A+=n*H,I+=n*V,T+=n*K,C+=n*G,O+=n*Z,P+=n*Y,R+=n*J,n=e[13],b+=n*B,w+=n*D,v+=n*j,_+=n*U,E+=n*z,S+=n*F,k+=n*W,x+=n*$,A+=n*q,I+=n*H,T+=n*V,C+=n*K,O+=n*G,P+=n*Z,R+=n*Y,M+=n*J,n=e[14],w+=n*B,v+=n*D,_+=n*j,E+=n*U,S+=n*z,k+=n*F,x+=n*W,A+=n*$,I+=n*q,T+=n*H,C+=n*V,O+=n*K,P+=n*G,R+=n*Z,M+=n*Y,N+=n*J,n=e[15],v+=n*B,_+=n*D,E+=n*j,S+=n*U,k+=n*z,x+=n*F,A+=n*W,I+=n*$,T+=n*q,C+=n*H,O+=n*V,P+=n*K,R+=n*G,M+=n*Z,N+=n*Y,L+=n*J,o+=38*_,s+=38*E,a+=38*S,c+=38*k,u+=38*x,l+=38*A,h+=38*I,d+=38*T,f+=38*C,p+=38*O,g+=38*P,y+=38*R,m+=38*M,b+=38*N,w+=38*L,i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,o+=i-1+37*(i-1),i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,o+=i-1+37*(i-1),t[0]=o,t[1]=s,t[2]=a,t[3]=c,t[4]=u,t[5]=l,t[6]=h,t[7]=d,t[8]=f,t[9]=p,t[10]=g,t[11]=y,t[12]=m,t[13]=b,t[14]=w,t[15]=v}function f(t,e){d(t,e,e)}function p(t,e){const r=new Uint8Array(32),n=new Float64Array(80),i=o(),s=o(),p=o(),g=o(),y=o(),m=o();for(let e=0;e<31;e++)r[e]=t[e];r[31]=127&t[31]|64,r[0]&=248,function(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}(n,e);for(let t=0;t<16;t++)s[t]=n[t];i[0]=g[0]=1;for(let t=254;t>=0;--t){const e=r[t>>>3]>>>(7&t)&1;u(i,s,e),u(p,g,e),l(y,i,p),h(i,i,p),l(p,s,g),h(s,s,g),f(g,y),f(m,i),d(i,p,i),d(p,s,y),l(y,i,p),h(i,i,p),f(s,i),h(p,g,m),d(i,p,a),l(i,i,g),d(p,p,i),d(i,g,m),d(g,s,n),f(s,y),u(i,s,e),u(p,g,e)}for(let t=0;t<16;t++)n[t+16]=i[t],n[t+32]=p[t],n[t+48]=s[t],n[t+64]=g[t];const b=n.subarray(32),w=n.subarray(16);!function(t,e){const r=o();for(let t=0;t<16;t++)r[t]=e[t];for(let t=253;t>=0;t--)f(r,r),2!==t&&4!==t&&d(r,r,e);for(let e=0;e<16;e++)t[e]=r[e]}(b,b),d(w,w,b);const v=new Uint8Array(32);return function(t,e){const r=o(),n=o();for(let t=0;t<16;t++)n[t]=e[t];c(n),c(n),c(n);for(let t=0;t<2;t++){r[0]=n[0]-65517;for(let t=1;t<15;t++)r[t]=n[t]-65535-(r[t-1]>>16&1),r[t-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);const t=r[15]>>16&1;r[14]&=65535,u(n,r,1-t)}for(let e=0;e<16;e++)t[2*e]=255&n[e],t[2*e+1]=n[e]>>8}(v,w),v}e.Au=function(t){const r=(0,n.randomBytes)(32,t),o=function(t){if(t.length!==e.KS)throw new Error(`x25519: seed must be ${e.KS} bytes`);const r=new Uint8Array(t);return{publicKey:(n=r,p(n,s)),secretKey:r};var n}(r);return(0,i.wipe)(r),o},e.gi=function(t,r,n=!1){if(t.length!==e.kz)throw new Error("X25519: incorrect secret key length");if(r.length!==e.kz)throw new Error("X25519: incorrect public key length");const i=p(t,r);if(n){let t=0;for(let e=0;e<i.length;e++)t|=i[e];if(0===t)throw new Error("X25519: invalid shared key")}return i}},926:(t,e,r)=>{"use strict";function n(){return(null===r.g||void 0===r.g?void 0:r.g.crypto)||(null===r.g||void 0===r.g?void 0:r.g.msCrypto)||{}}function i(){const t=n();return t.subtle||t.webkitSubtle}Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowserCryptoAvailable=e.getSubtleCrypto=e.getBrowerCrypto=void 0,e.getBrowerCrypto=n,e.getSubtleCrypto=i,e.isBrowserCryptoAvailable=function(){return!!n()&&!!i()}},8618:(t,e)=>{"use strict";function r(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function n(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node}Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowser=e.isNode=e.isReactNative=void 0,e.isReactNative=r,e.isNode=n,e.isBrowser=function(){return!r()&&!n()}},1468:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(4308);n.__exportStar(r(926),e),n.__exportStar(r(8618),e)},4308:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__assign:()=>o,__asyncDelegator:()=>v,__asyncGenerator:()=>w,__asyncValues:()=>_,__await:()=>b,__awaiter:()=>l,__classPrivateFieldGet:()=>x,__classPrivateFieldSet:()=>A,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>f,__extends:()=>i,__generator:()=>h,__importDefault:()=>k,__importStar:()=>S,__makeTemplateObject:()=>E,__metadata:()=>u,__param:()=>c,__read:()=>g,__rest:()=>s,__spread:()=>y,__spreadArrays:()=>m,__values:()=>p});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function a(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function c(t,e){return function(r,n){e(r,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))}function h(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}function f(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function m(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function w(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof b?Promise.resolve(r.value.v).then(c,u):l(o[0][2],r)}catch(t){l(o[0][3],t)}var r}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function v(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:b(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=p(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){!function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)}(n,i,(e=t[r](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function k(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function A(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},2116:(t,e)=>{"use strict";function r(t){let e;return"undefined"!=typeof window&&void 0!==window[t]&&(e=window[t]),e}function n(t){const e=r(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalStorage=e.getLocalStorageOrThrow=e.getCrypto=e.getCryptoOrThrow=e.getLocation=e.getLocationOrThrow=e.getNavigator=e.getNavigatorOrThrow=e.getDocument=e.getDocumentOrThrow=e.getFromWindowOrThrow=e.getFromWindow=void 0,e.getFromWindow=r,e.getFromWindowOrThrow=n,e.getDocumentOrThrow=function(){return n("document")},e.getDocument=function(){return r("document")},e.getNavigatorOrThrow=function(){return n("navigator")},e.getNavigator=function(){return r("navigator")},e.getLocationOrThrow=function(){return n("location")},e.getLocation=function(){return r("location")},e.getCryptoOrThrow=function(){return n("crypto")},e.getCrypto=function(){return r("crypto")},e.getLocalStorageOrThrow=function(){return n("localStorage")},e.getLocalStorage=function(){return r("localStorage")}},304:(t,e,r)=>{"use strict";r(2116)},8200:(t,e,r)=>{"use strict";r.d(e,{q:()=>n});class n{}},997:(t,e,r)=>{"use strict";r.r(e),r.d(e,{IEvents:()=>n.q});var n=r(8200)},2568:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HEARTBEAT_EVENTS=e.HEARTBEAT_INTERVAL=void 0;const n=r(6736);e.HEARTBEAT_INTERVAL=n.FIVE_SECONDS,e.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},3401:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(1116).__exportStar(r(2568),e)},8969:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HeartBeat=void 0;const n=r(1116),i=r(7187),o=r(6736),s=r(1614),a=r(3401);class c extends s.IHeartBeat{constructor(t){super(t),this.events=new i.EventEmitter,this.interval=a.HEARTBEAT_INTERVAL,this.interval=(null==t?void 0:t.interval)||a.HEARTBEAT_INTERVAL}static init(t){return n.__awaiter(this,void 0,void 0,(function*(){const e=new c(t);return yield e.init(),e}))}init(){return n.__awaiter(this,void 0,void 0,(function*(){yield this.initialize()}))}stop(){clearInterval(this.intervalRef)}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}initialize(){return n.__awaiter(this,void 0,void 0,(function*(){this.intervalRef=setInterval((()=>this.pulse()),o.toMiliseconds(this.interval))}))}pulse(){this.events.emit(a.HEARTBEAT_EVENTS.pulse)}}e.HeartBeat=c},772:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(1116);n.__exportStar(r(8969),e),n.__exportStar(r(1614),e),n.__exportStar(r(3401),e)},4174:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IHeartBeat=void 0;const n=r(997);class i extends n.IEvents{constructor(t){super()}}e.IHeartBeat=i},1614:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(1116).__exportStar(r(4174),e)},1116:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__assign:()=>o,__asyncDelegator:()=>v,__asyncGenerator:()=>w,__asyncValues:()=>_,__await:()=>b,__awaiter:()=>l,__classPrivateFieldGet:()=>x,__classPrivateFieldSet:()=>A,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>f,__extends:()=>i,__generator:()=>h,__importDefault:()=>k,__importStar:()=>S,__makeTemplateObject:()=>E,__metadata:()=>u,__param:()=>c,__read:()=>g,__rest:()=>s,__spread:()=>y,__spreadArrays:()=>m,__values:()=>p});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function a(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function c(t,e){return function(r,n){e(r,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))}function h(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}function f(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function m(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function w(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof b?Promise.resolve(r.value.v).then(c,u):l(o[0][2],r)}catch(t){l(o[0][3],t)}var r}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function v(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:b(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=p(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){!function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)}(n,i,(e=t[r](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function k(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function A(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},5727:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PINO_CUSTOM_CONTEXT_KEY=e.PINO_LOGGER_DEFAULTS=void 0,e.PINO_LOGGER_DEFAULTS={level:"info"},e.PINO_CUSTOM_CONTEXT_KEY="custom_context"},9107:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pino=void 0;const n=r(7121),i=n.__importDefault(r(7686));Object.defineProperty(e,"pino",{enumerable:!0,get:function(){return i.default}}),n.__exportStar(r(5727),e),n.__exportStar(r(8048),e)},8048:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateChildLogger=e.formatChildLoggerContext=e.getLoggerContext=e.setBrowserLoggerContext=e.getBrowserLoggerContext=e.getDefaultLoggerOptions=void 0;const n=r(5727);function i(t,e=n.PINO_CUSTOM_CONTEXT_KEY){return t[e]||""}function o(t,e,r=n.PINO_CUSTOM_CONTEXT_KEY){return t[r]=e,t}function s(t,e=n.PINO_CUSTOM_CONTEXT_KEY){let r="";return r=void 0===t.bindings?i(t,e):t.bindings().context||"",r}function a(t,e,r=n.PINO_CUSTOM_CONTEXT_KEY){const i=s(t,r);return i.trim()?`${i}/${e}`:e}e.getDefaultLoggerOptions=function(t){return Object.assign(Object.assign({},t),{level:(null==t?void 0:t.level)||n.PINO_LOGGER_DEFAULTS.level})},e.getBrowserLoggerContext=i,e.setBrowserLoggerContext=o,e.getLoggerContext=s,e.formatChildLoggerContext=a,e.generateChildLogger=function(t,e,r=n.PINO_CUSTOM_CONTEXT_KEY){const i=a(t,e,r);return o(t.child({context:i}),i,r)}},7121:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__assign:()=>o,__asyncDelegator:()=>v,__asyncGenerator:()=>w,__asyncValues:()=>_,__await:()=>b,__awaiter:()=>l,__classPrivateFieldGet:()=>x,__classPrivateFieldSet:()=>A,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>f,__extends:()=>i,__generator:()=>h,__importDefault:()=>k,__importStar:()=>S,__makeTemplateObject:()=>E,__metadata:()=>u,__param:()=>c,__read:()=>g,__rest:()=>s,__spread:()=>y,__spreadArrays:()=>m,__values:()=>p});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function a(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function c(t,e){return function(r,n){e(r,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))}function h(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}function f(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function m(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function w(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof b?Promise.resolve(r.value.v).then(c,u):l(o[0][2],r)}catch(t){l(o[0][3],t)}var r}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function v(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:b(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=p(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){!function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)}(n,i,(e=t[r](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function k(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function A(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},1882:()=>{},3014:()=>{},6900:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(4);n.__exportStar(r(6869),e),n.__exportStar(r(8033),e)},6869:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_THOUSAND=e.ONE_HUNDRED=void 0,e.ONE_HUNDRED=100,e.ONE_THOUSAND=1e3},8033:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=5*e.ONE_MINUTE,e.TEN_MINUTES=10*e.ONE_MINUTE,e.THIRTY_MINUTES=30*e.ONE_MINUTE,e.SIXTY_MINUTES=60*e.ONE_MINUTE,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=3*e.ONE_HOUR,e.SIX_HOURS=6*e.ONE_HOUR,e.TWELVE_HOURS=12*e.ONE_HOUR,e.TWENTY_FOUR_HOURS=24*e.ONE_HOUR,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=3*e.ONE_DAY,e.FIVE_DAYS=5*e.ONE_DAY,e.SEVEN_DAYS=7*e.ONE_DAY,e.THIRTY_DAYS=30*e.ONE_DAY,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=2*e.ONE_WEEK,e.THREE_WEEKS=3*e.ONE_WEEK,e.FOUR_WEEKS=4*e.ONE_WEEK,e.ONE_YEAR=365*e.ONE_DAY},6736:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(4);n.__exportStar(r(4273),e),n.__exportStar(r(7001),e),n.__exportStar(r(2939),e),n.__exportStar(r(6900),e)},2939:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(4).__exportStar(r(8766),e)},8766:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWatch=void 0,e.IWatch=class{}},3207:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromMiliseconds=e.toMiliseconds=void 0;const n=r(6900);e.toMiliseconds=function(t){return t*n.ONE_THOUSAND},e.fromMiliseconds=function(t){return Math.floor(t/n.ONE_THOUSAND)}},3873:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.delay=void 0,e.delay=function(t){return new Promise((e=>{setTimeout((()=>{e(!0)}),t)}))}},4273:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(4);n.__exportStar(r(3873),e),n.__exportStar(r(3207),e)},7001:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const e=this.get(t);if(void 0!==e.elapsed)throw new Error(`Watch already stopped for label: ${t}`);const r=Date.now()-e.started;this.timestamps.set(t,{started:e.started,elapsed:r})}get(t){const e=this.timestamps.get(t);if(void 0===e)throw new Error(`No timestamp found for label: ${t}`);return e}elapsed(t){const e=this.get(t);return e.elapsed||Date.now()-e.started}}e.Watch=r,e.default=r},4:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__assign:()=>o,__asyncDelegator:()=>v,__asyncGenerator:()=>w,__asyncValues:()=>_,__await:()=>b,__awaiter:()=>l,__classPrivateFieldGet:()=>x,__classPrivateFieldSet:()=>A,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>f,__extends:()=>i,__generator:()=>h,__importDefault:()=>k,__importStar:()=>S,__makeTemplateObject:()=>E,__metadata:()=>u,__param:()=>c,__read:()=>g,__rest:()=>s,__spread:()=>y,__spreadArrays:()=>m,__values:()=>p});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function a(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function c(t,e){return function(r,n){e(r,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))}function h(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}function f(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function m(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function w(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof b?Promise.resolve(r.value.v).then(c,u):l(o[0][2],r)}catch(t){l(o[0][3],t)}var r}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function v(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:b(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=p(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){!function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)}(n,i,(e=t[r](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function k(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function A(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},3382:(t,e)=>{"use strict";function r(t){let e;return"undefined"!=typeof window&&void 0!==window[t]&&(e=window[t]),e}function n(t){const e=r(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalStorage=e.getLocalStorageOrThrow=e.getCrypto=e.getCryptoOrThrow=e.getLocation=e.getLocationOrThrow=e.getNavigator=e.getNavigatorOrThrow=e.getDocument=e.getDocumentOrThrow=e.getFromWindowOrThrow=e.getFromWindow=void 0,e.getFromWindow=r,e.getFromWindowOrThrow=n,e.getDocumentOrThrow=function(){return n("document")},e.getDocument=function(){return r("document")},e.getNavigatorOrThrow=function(){return n("navigator")},e.getNavigator=function(){return r("navigator")},e.getLocationOrThrow=function(){return n("location")},e.getLocation=function(){return r("location")},e.getCryptoOrThrow=function(){return n("crypto")},e.getCrypto=function(){return r("crypto")},e.getLocalStorageOrThrow=function(){return n("localStorage")},e.getLocalStorage=function(){return r("localStorage")}},9982:(t,e,r)=>{"use strict";e.D=void 0;const n=r(3382);e.D=function(){let t,e;try{t=n.getDocumentOrThrow(),e=n.getLocationOrThrow()}catch(t){return null}function r(...e){const r=t.getElementsByTagName("meta");for(let t=0;t<r.length;t++){const n=r[t],i=["itemprop","property","name"].map((t=>n.getAttribute(t))).filter((t=>!!t&&e.includes(t)));if(i.length&&i){const t=n.getAttribute("content");if(t)return t}}return""}const i=function(){let e=r("name","og:site_name","og:title","twitter:title");return e||(e=t.title),e}();return{description:r("description","og:description","twitter:description","keywords"),url:e.origin,icons:function(){const r=t.getElementsByTagName("link"),n=[];for(let t=0;t<r.length;t++){const i=r[t],o=i.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){const t=i.getAttribute("href");if(t)if(-1===t.toLowerCase().indexOf("https:")&&-1===t.toLowerCase().indexOf("http:")&&0!==t.indexOf("//")){let r=e.protocol+"//"+e.host;if(0===t.indexOf("/"))r+=t;else{const n=e.pathname.split("/");n.pop(),r+=n.join("/")+"/"+t}n.push(r)}else if(0===t.indexOf("//")){const r=e.protocol+t;n.push(r)}else n.push(t)}}return n}(),name:i}}},9910:t=>{"use strict";t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},8162:(t,e,r)=>{"use strict";var n=r(9509).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(255!==e[s])throw new TypeError(o+" is ambiguous");e[s]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return n.alloc(0);for(var r=0,i=0,o=0;t[r]===c;)i++,r++;for(var s=(t.length-r)*u+1>>>0,l=new Uint8Array(s);t[r];){var h=e[t.charCodeAt(r)];if(255===h)return;for(var d=0,f=s-1;(0!==h||d<o)&&-1!==f;f--,d++)h+=a*l[f]>>>0,l[f]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");o=d,r++}for(var p=s-o;p!==s&&0===l[p];)p++;var g=n.allocUnsafe(i+(s-p));g.fill(0,0,i);for(var y=i;p!==s;)g[y++]=l[p++];return g}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=n.from(e)),!n.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,i=0,o=0,s=e.length;o!==s&&0===e[o];)o++,r++;for(var u=(s-o)*l+1>>>0,h=new Uint8Array(u);o!==s;){for(var d=e[o],f=0,p=u-1;(0!==d||f<i)&&-1!==p;p--,f++)d+=256*h[p]>>>0,h[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=f,o++}for(var g=u-i;g!==u&&0===h[g];)g++;for(var y=c.repeat(r);g<u;++g)y+=t.charAt(h[g]);return y},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},9742:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,o=a(t),s=o[0],c=o[1],u=new i(function(t,e,r){return 3*(e+r)/4-r}(0,s,c)),l=0,h=c>0?s-4:s;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;return 2===c&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,u[l++]=255&e),1===c&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e),u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(c(t,a,a+s>u?u:a+s));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},475:(t,e)=>{"use strict";e.oU=function(t){{const e=Buffer.from(t);e.reverse();const r=e.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}},e.k$=function(t,e){{const r=t.toString(16),n=Buffer.from(r.padStart(2*e,"0").slice(0,2*e),"hex");return n.reverse(),n}}},7056:(t,e)=>{"use strict";var r;function n(t,e,n){if(!n||typeof n.value!==r.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:r.boolTrue,get:function(){var t=n.value.bind(this);return Object.defineProperty(this,e,{value:t,configurable:r.boolTrue,writable:r.boolTrue}),t}}}Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.typeOfFunction="function",t.boolTrue=!0}(r||(r={})),e.bind=n,e.default=n},3550:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(6601).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function c(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function u(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),c=e;c<a;c++){var u=t.charCodeAt(c)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&s<i,"Invalid character"),o+=s}return o}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=c(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=c(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,l=r;l<a;l+=n)c=u(t,l,l+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var h=1;for(c=u(t,l,t.length,e),l=0;l<s;l++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){l(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(t){o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function g(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=c>>>26,h=67108863&c,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[f])+h)/67108864|0,h=67108863&s}r.words[u]=0|h,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?d[6-c.length]+c+r:c+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var u=f[t],l=p[t];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var g=h.modrn(l).toString(t);r=(h=h.idivn(l)).isZero()?g+r:d[u-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var y=function(t,e,r){var n,i,o,s=t.words,a=e.words,c=r.words,u=0,l=0|s[0],h=8191&l,d=l>>>13,f=0|s[1],p=8191&f,g=f>>>13,y=0|s[2],m=8191&y,b=y>>>13,w=0|s[3],v=8191&w,_=w>>>13,E=0|s[4],S=8191&E,k=E>>>13,x=0|s[5],A=8191&x,I=x>>>13,T=0|s[6],C=8191&T,O=T>>>13,P=0|s[7],R=8191&P,M=P>>>13,N=0|s[8],L=8191&N,B=N>>>13,D=0|s[9],j=8191&D,U=D>>>13,z=0|a[0],F=8191&z,W=z>>>13,$=0|a[1],q=8191&$,H=$>>>13,V=0|a[2],K=8191&V,G=V>>>13,Z=0|a[3],Y=8191&Z,J=Z>>>13,X=0|a[4],Q=8191&X,tt=X>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ct=8191&at,ut=at>>>13,lt=0|a[8],ht=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,gt=ft>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(u+(n=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,W))+Math.imul(d,F)|0))<<13)|0;u=((o=Math.imul(d,W))+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,W))+Math.imul(g,F)|0,o=Math.imul(g,W);var mt=(u+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(d,q)|0))<<13)|0;u=((o=o+Math.imul(d,H)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(m,F),i=(i=Math.imul(m,W))+Math.imul(b,F)|0,o=Math.imul(b,W),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(g,q)|0,o=o+Math.imul(g,H)|0;var bt=(u+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,G)|0)+Math.imul(d,K)|0))<<13)|0;u=((o=o+Math.imul(d,G)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(v,F),i=(i=Math.imul(v,W))+Math.imul(_,F)|0,o=Math.imul(_,W),n=n+Math.imul(m,q)|0,i=(i=i+Math.imul(m,H)|0)+Math.imul(b,q)|0,o=o+Math.imul(b,H)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(g,K)|0,o=o+Math.imul(g,G)|0;var wt=(u+(n=n+Math.imul(h,Y)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,Y)|0))<<13)|0;u=((o=o+Math.imul(d,J)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(S,F),i=(i=Math.imul(S,W))+Math.imul(k,F)|0,o=Math.imul(k,W),n=n+Math.imul(v,q)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,H)|0,n=n+Math.imul(m,K)|0,i=(i=i+Math.imul(m,G)|0)+Math.imul(b,K)|0,o=o+Math.imul(b,G)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(g,Y)|0,o=o+Math.imul(g,J)|0;var vt=(u+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,Q)|0))<<13)|0;u=((o=o+Math.imul(d,tt)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(A,F),i=(i=Math.imul(A,W))+Math.imul(I,F)|0,o=Math.imul(I,W),n=n+Math.imul(S,q)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(k,q)|0,o=o+Math.imul(k,H)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(_,K)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(m,Y)|0,i=(i=i+Math.imul(m,J)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,J)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var _t=(u+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;u=((o=o+Math.imul(d,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(C,F),i=(i=Math.imul(C,W))+Math.imul(O,F)|0,o=Math.imul(O,W),n=n+Math.imul(A,q)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,H)|0,n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,G)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,tt)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(g,rt)|0,o=o+Math.imul(g,nt)|0;var Et=(u+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(d,ot)|0))<<13)|0;u=((o=o+Math.imul(d,st)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(R,F),i=(i=Math.imul(R,W))+Math.imul(M,F)|0,o=Math.imul(M,W),n=n+Math.imul(C,q)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(O,q)|0,o=o+Math.imul(O,H)|0,n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(I,K)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(m,rt)|0,i=(i=i+Math.imul(m,nt)|0)+Math.imul(b,rt)|0,o=o+Math.imul(b,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,st)|0;var St=(u+(n=n+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,ut)|0)+Math.imul(d,ct)|0))<<13)|0;u=((o=o+Math.imul(d,ut)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,F),i=(i=Math.imul(L,W))+Math.imul(B,F)|0,o=Math.imul(B,W),n=n+Math.imul(R,q)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(M,q)|0,o=o+Math.imul(M,H)|0,n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,K)|0,o=o+Math.imul(O,G)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(m,ot)|0,i=(i=i+Math.imul(m,st)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(g,ct)|0,o=o+Math.imul(g,ut)|0;var kt=(u+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;u=((o=o+Math.imul(d,dt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(j,F),i=(i=Math.imul(j,W))+Math.imul(U,F)|0,o=Math.imul(U,W),n=n+Math.imul(L,q)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(B,q)|0,o=o+Math.imul(B,H)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(M,K)|0,o=o+Math.imul(M,G)|0,n=n+Math.imul(C,Y)|0,i=(i=i+Math.imul(C,J)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(m,ct)|0,i=(i=i+Math.imul(m,ut)|0)+Math.imul(b,ct)|0,o=o+Math.imul(b,ut)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(g,ht)|0,o=o+Math.imul(g,dt)|0;var xt=(u+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,gt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((o=o+Math.imul(d,gt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(j,q),i=(i=Math.imul(j,H))+Math.imul(U,q)|0,o=Math.imul(U,H),n=n+Math.imul(L,K)|0,i=(i=i+Math.imul(L,G)|0)+Math.imul(B,K)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,J)|0,n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ut)|0)+Math.imul(_,ct)|0,o=o+Math.imul(_,ut)|0,n=n+Math.imul(m,ht)|0,i=(i=i+Math.imul(m,dt)|0)+Math.imul(b,ht)|0,o=o+Math.imul(b,dt)|0;var At=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((o=o+Math.imul(g,gt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(j,K),i=(i=Math.imul(j,G))+Math.imul(U,K)|0,o=Math.imul(U,G),n=n+Math.imul(L,Y)|0,i=(i=i+Math.imul(L,J)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,J)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,n=n+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,ut)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ut)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,dt)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,dt)|0;var It=(u+(n=n+Math.imul(m,pt)|0)|0)+((8191&(i=(i=i+Math.imul(m,gt)|0)+Math.imul(b,pt)|0))<<13)|0;u=((o=o+Math.imul(b,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(j,Y),i=(i=Math.imul(j,J))+Math.imul(U,Y)|0,o=Math.imul(U,J),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(A,ct)|0,i=(i=i+Math.imul(A,ut)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,ut)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,dt)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,dt)|0;var Tt=(u+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,gt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((o=o+Math.imul(_,gt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(j,Q),i=(i=Math.imul(j,tt))+Math.imul(U,Q)|0,o=Math.imul(U,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(B,rt)|0,o=o+Math.imul(B,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,n=n+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,ut)|0,n=n+Math.imul(A,ht)|0,i=(i=i+Math.imul(A,dt)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,dt)|0;var Ct=(u+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,gt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((o=o+Math.imul(k,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(j,rt),i=(i=Math.imul(j,nt))+Math.imul(U,rt)|0,o=Math.imul(U,nt),n=n+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,st)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,st)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ut)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,ut)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,dt)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,dt)|0;var Ot=(u+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,gt)|0)+Math.imul(I,pt)|0))<<13)|0;u=((o=o+Math.imul(I,gt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(j,ot),i=(i=Math.imul(j,st))+Math.imul(U,ot)|0,o=Math.imul(U,st),n=n+Math.imul(L,ct)|0,i=(i=i+Math.imul(L,ut)|0)+Math.imul(B,ct)|0,o=o+Math.imul(B,ut)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,dt)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,dt)|0;var Pt=(u+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,gt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((o=o+Math.imul(O,gt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(j,ct),i=(i=Math.imul(j,ut))+Math.imul(U,ct)|0,o=Math.imul(U,ut),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,dt)|0)+Math.imul(B,ht)|0,o=o+Math.imul(B,dt)|0;var Rt=(u+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,gt)|0)+Math.imul(M,pt)|0))<<13)|0;u=((o=o+Math.imul(M,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(j,ht),i=(i=Math.imul(j,dt))+Math.imul(U,ht)|0,o=Math.imul(U,dt);var Mt=(u+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,gt)|0)+Math.imul(B,pt)|0))<<13)|0;u=((o=o+Math.imul(B,gt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863;var Nt=(u+(n=Math.imul(j,pt))|0)+((8191&(i=(i=Math.imul(j,gt))+Math.imul(U,pt)|0))<<13)|0;return u=((o=Math.imul(U,gt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,c[0]=yt,c[1]=mt,c[2]=bt,c[3]=wt,c[4]=vt,c[5]=_t,c[6]=Et,c[7]=St,c[8]=kt,c[9]=xt,c[10]=At,c[11]=It,c[12]=Tt,c[13]=Ct,c[14]=Ot,c[15]=Pt,c[16]=Rt,c[17]=Mt,c[18]=Nt,0!==u&&(c[19]=u,r.length++),r};function m(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,c=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=c;u++){var l=o-u,h=(0|t.words[l])*(0|e.words[u]),d=67108863&h;a=67108863&(d=d+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function b(t,e,r){return m(t,e,r)}function w(t,e){this.x=t,this.y=e}Math.imul||(y=g),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?y(this,t,e):r<63?g(this,t,e):r<1024?m(this,t,e):b(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},w.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},w.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},w.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=c,d=u,f=0;f<s;f++){var p=r[l+f],g=n[l+f],y=r[l+f+s],m=n[l+f+s],b=h*y-d*m;m=h*m+d*y,y=b,r[l+f]=p+y,n[l+f]=g+m,r[l+f+s]=p-y,n[l+f+s]=g-m,f!==a&&(b=c*h-u*d,d=c*d+u*h,h=b)}},w.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},w.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},w.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,u,n),this.transform(s,o,a,c,n,i),this.transform(u,o,l,h,n,i);for(var f=0;f<n;f++){var p=a[f]*l[f]-c[f]*h[f];c[f]=a[f]*h[f]+c[f]*l[f],a[f]=p}return this.conjugate(a,c,n),this.transform(a,c,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),b(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,c=(0|this.words[e])-a<<r;this.words[e]=c|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var h=0|this.words[u];this.words[u]=l<<26-o|h>>>o,l=h&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r||!(this.words[r]&i))},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var c=(0|t.words[i])*e;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!=(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==e){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,c);0===l.negative&&(n=l,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,g=1;0==(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(h)),a.iushrn(1),c.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(c)):(r.isub(e),a.isub(i),c.isub(s))}return{a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),c=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var h=0,d=1;0==(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new A(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function I(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(E,_),E.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},E.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(S,_),i(k,_),i(x,_),x.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new E;else if("p224"===t)e=new S;else if("p192"===t)e=new k;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return v[t]=e,e},A.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var h=this.pow(l,i),d=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=s;0!==f.cmp(a);){for(var g=f,y=0;0!==g.cmp(a);y++)g=g.redSqr();n(y<p);var m=this.pow(h,new o(1).iushln(p-y-1));d=d.redMul(m),h=m.redSqr(),f=f.redMul(h),p=y}return d},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=c-1;l>=0;l--){var h=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4==++a||0===n&&0===l)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}c=26}return i},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new I(t)},i(I,A),I.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},I.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},I.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},5532:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeUnchecked=e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;const c=a(r(3550)),u=a(r(7191)),l=s(r(1379)),h=new("function"!=typeof TextDecoder?l.TextDecoder:TextDecoder)("utf-8",{fatal:!0});e.baseEncode=function(t){return"string"==typeof t&&(t=Buffer.from(t,"utf8")),u.default.encode(Buffer.from(t))},e.baseDecode=function(t){return Buffer.from(u.default.decode(t))};const d=1024;class f extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}e.BorshError=f;class p{constructor(){this.buf=Buffer.alloc(d),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(d)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new c.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new c.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new c.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new c.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(d)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),e(r)}toArray(){return this.buf.subarray(0,this.length)}}function g(t,e,r){const n=r.value;r.value=function(...t){try{return n.apply(this,t)}catch(t){if(t instanceof RangeError){const e=t.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new f("Reached the end of buffer when deserializing")}throw t}}}e.BinaryWriter=p;class y{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new c.default(t,"le")}readU128(){const t=this.readBuffer(16);return new c.default(t,"le")}readU256(){const t=this.readBuffer(32);return new c.default(t,"le")}readU512(){const t=this.readBuffer(64);return new c.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new f(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return h.decode(e)}catch(t){throw new f(`Error decoding UTF-8 string: ${t}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),r=Array();for(let n=0;n<e;++n)r.push(t());return r}}function m(t){return t.charAt(0).toUpperCase()+t.slice(1)}function b(t,e,r,n,i){try{if("string"==typeof n)i[`write${m(n)}`](r);else if(n instanceof Array)if("number"==typeof n[0]){if(r.length!==n[0])throw new f(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new f(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let e=0;e<n[1];e++)b(t,null,r[e],n[0],i)}else i.writeArray(r,(r=>{b(t,e,r,n[0],i)}));else if(void 0!==n.kind)switch(n.kind){case"option":null==r?i.writeU8(0):(i.writeU8(1),b(t,e,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach(((r,o)=>{b(t,e,o,n.key,i),b(t,e,r,n.value,i)}));break;default:throw new f(`FieldType ${n} unrecognized`)}else w(t,r,i)}catch(t){throw t instanceof f&&t.addToFieldPath(e),t}}function w(t,e,r){if("function"==typeof e.borshSerialize)return void e.borshSerialize(r);const n=t.get(e.constructor);if(!n)throw new f(`Class ${e.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map((([n,i])=>{b(t,n,e[n],i,r)}));else{if("enum"!==n.kind)throw new f(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`);{const i=e[n.field];for(let o=0;o<n.values.length;++o){const[s,a]=n.values[o];if(s===i){r.writeU8(o),b(t,s,e[s],a,r);break}}}}}function v(t,e,r,n){try{if("string"==typeof r)return n[`read${m(r)}`]();if(r instanceof Array){if("number"==typeof r[0])return n.readFixedArray(r[0]);if("number"==typeof r[1]){const e=[];for(let i=0;i<r[1];i++)e.push(v(t,null,r[0],n));return e}return n.readArray((()=>v(t,e,r[0],n)))}if("option"===r.kind)return n.readU8()?v(t,e,r.type,n):void 0;if("map"===r.kind){let i=new Map;const o=n.readU32();for(let s=0;s<o;s++){const o=v(t,e,r.key,n),s=v(t,e,r.value,n);i.set(o,s)}return i}return _(t,r,n)}catch(t){throw t instanceof f&&t.addToFieldPath(e),t}}function _(t,e,r){if("function"==typeof e.borshDeserialize)return e.borshDeserialize(r);const n=t.get(e);if(!n)throw new f(`Class ${e.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[i,o]of t.get(e).fields)n[i]=v(t,i,o,r);return new e(n)}if("enum"===n.kind){const i=r.readU8();if(i>=n.values.length)throw new f(`Enum index: ${i} is out of range`);const[o,s]=n.values[i];return new e({[o]:v(t,o,s,r)})}throw new f(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}o([g],y.prototype,"readU8",null),o([g],y.prototype,"readU16",null),o([g],y.prototype,"readU32",null),o([g],y.prototype,"readU64",null),o([g],y.prototype,"readU128",null),o([g],y.prototype,"readU256",null),o([g],y.prototype,"readU512",null),o([g],y.prototype,"readString",null),o([g],y.prototype,"readFixedArray",null),o([g],y.prototype,"readArray",null),e.BinaryReader=y,e.serialize=function(t,e,r=p){const n=new r;return w(t,e,n),n.toArray()},e.deserialize=function(t,e,r,n=y){const i=new n(r),o=_(t,e,i);if(i.offset<r.length)throw new f(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o},e.deserializeUnchecked=function(t,e,r,n=y){return _(t,e,new n(r))}},7191:(t,e,r)=>{var n=r(8162);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},698:(t,e)=>{"use strict";class r{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,r){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function n(t,e){return e.property?t+"["+e.property+"]":t}e.Layout=r,e.nameWithProperty=n,e.bindConstructorLayout=function(t,e){if("function"!=typeof t)throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof r))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(t,"decode",{value:function(t,r){return e.decode(t,r)},writable:!0})};class i extends r{isCount(){throw new Error("ExternalLayout is abstract")}}class o extends i{constructor(t,e){if(void 0===t&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e){void 0===e&&(e=0);const r=t.length-e;return Math.floor(r/this.elementSpan)}encode(t,e,r){return 0}}class s extends i{constructor(t,e,n){if(!(t instanceof r))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof a||this.layout instanceof c}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,r){return void 0===r&&(r=0),this.layout.encode(t,e,r+this.offset)}}class a extends r{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntLE(t,r,this.span),this.span}}class c extends r{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntBE(t,r,this.span),this.span}}class u extends r{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntLE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeIntLE(t,r,this.span),this.span}}class l extends r{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntBE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeIntBE(t,r,this.span),this.span}}const h=Math.pow(2,32);function d(t){const e=Math.floor(t/h);return{hi32:e,lo32:t-e*h}}function f(t,e){return t*h+e}class p extends r{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32LE(e);return f(t.readUInt32LE(e+4),r)}encode(t,e,r){void 0===r&&(r=0);const n=d(t);return e.writeUInt32LE(n.lo32,r),e.writeUInt32LE(n.hi32,r+4),8}}class g extends r{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),f(t.readUInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,r){void 0===r&&(r=0);const n=d(t);return e.writeUInt32BE(n.hi32,r),e.writeUInt32BE(n.lo32,r+4),8}}class y extends r{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32LE(e);return f(t.readInt32LE(e+4),r)}encode(t,e,r){void 0===r&&(r=0);const n=d(t);return e.writeUInt32LE(n.lo32,r),e.writeInt32LE(n.hi32,r+4),8}}class m extends r{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),f(t.readInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,r){void 0===r&&(r=0);const n=d(t);return e.writeInt32BE(n.hi32,r),e.writeUInt32BE(n.lo32,r+4),8}}class b extends r{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatLE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeFloatLE(t,r),4}}class w extends r{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatBE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeFloatBE(t,r),4}}class v extends r{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleLE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeDoubleLE(t,r),8}}class _ extends r{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleBE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeDoubleBE(t,r),8}}class E extends r{constructor(t,e,n){if(!(t instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof i&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(e instanceof i)&&0<t.span&&(o=e*t.span),super(o,n),this.elementLayout=t,this.count=e}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0,n=this.count;if(n instanceof i&&(n=n.decode(t,e)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(t,e+r),++i}return r}decode(t,e){void 0===e&&(e=0);const r=[];let n=0,o=this.count;for(o instanceof i&&(o=o.decode(t,e));n<o;)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),n+=1;return r}encode(t,e,r){void 0===r&&(r=0);const n=this.elementLayout,o=t.reduce(((t,i)=>t+n.encode(i,e,r+t)),0);return this.count instanceof i&&this.count.encode(t.length,e,r),o}}class S extends r{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof r),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(i,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(t,e);return e+=i,r+i}),0)}catch(t){throw new RangeError("indeterminate span")}return r}decode(t,e){void 0===e&&(e=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(t,e)),e+=n.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r){void 0===r&&(r=0);const n=r;let i=0,o=0;for(const n of this.fields){let s=n.span;if(o=0<s?s:0,void 0!==n.property){const i=t[n.property];void 0!==i&&(o=n.encode(i,e,r),0>s&&(s=n.getSpan(e,r)))}i=r,r+=s}return i+o-n}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class k{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class x extends k{constructor(t,e){if(!(t instanceof i&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}}class A extends r{constructor(t,e,n){const o=t instanceof a||t instanceof c;if(o)t=new x(new s(t));else if(t instanceof i&&t.isCount())t=new x(t);else if(!(t instanceof k))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let u=-1;e&&(u=e.span,0<=u&&o&&(u+=t.layout.span)),super(u,n),this.discriminator=t,this.usesPrefixDiscriminator=o,this.defaultLayout=e,this.registry={};let l=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return l(t)},this.configGetSourceVariant=function(t){l=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const r=this.getVariant(t,e);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const r=this.registry[e];if(t.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(t,e){let r;void 0===e&&(e=0);const n=this.discriminator,i=n.decode(t,e);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=n.layout.span),r=this.makeDestinationObject(),r[n.property]=i,r[o.property]=this.defaultLayout.decode(t,e+s)}else r=o.decode(t,e);return r}encode(t,e,r){void 0===r&&(r=0);const n=this.getSourceVariant(t);if(void 0===n){const n=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=n.layout.span),n.encode(t[n.property],e,r),o+i.encode(t[i.property],e,r+o)}return n.encode(t,e,r)}addVariant(t,e,r){const n=new I(this,t,e,r);return this.registry[t]=n,n}getVariant(t,e){let r=t;return Buffer.isBuffer(t)&&(void 0===e&&(e=0),r=this.discriminator.decode(t,e)),this.registry[r]}}class I extends r{constructor(t,e,n,i){if(!(t instanceof A))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===i&&(i=n,n=null),n){if(!(n instanceof r))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof i)throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=n?n.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,i),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(t,e+r)}decode(t,e){const r=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let i=n;if(this.layout&&(this.layout.encode(t[this.property],e,r+n),i+=this.layout.getSpan(e,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function T(t){return 0>t&&(t+=4294967296),t}class C extends r{constructor(t,e,r){if(!(t instanceof a||t instanceof c))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof e&&void 0===r&&(r=e,e=void 0),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!e,this.fields=[];let n=0;this._packedSetValue=function(t){return n=T(t),this},this._packedGetValue=function(){return n}}decode(t,e){const r=this.makeDestinationObject();void 0===e&&(e=0);const n=this.word.decode(t,e);this._packedSetValue(n);for(const t of this.fields)void 0!==t.property&&(r[t.property]=t.decode(n));return r}encode(t,e,r){void 0===r&&(r=0);const n=this.word.decode(e,r);this._packedSetValue(n);for(const e of this.fields)if(void 0!==e.property){const r=t[e.property];void 0!==r&&e.encode(r)}return this.word.encode(this._packedGetValue(),e,r)}addField(t,e){const r=new O(this,t,e);return this.fields.push(r),r}addBoolean(t){const e=new P(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}class O{constructor(t,e,r){if(!(t instanceof C))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const n=8*t.span,i=t.fields.reduce(((t,e)=>t+e.bits),0);if(e+i>n)throw new Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-e),this.wordMask=T(this.valueMask<<this.start),this.property=r}decode(){return T(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if(!Number.isInteger(t)||t!==T(t&this.valueMask))throw new TypeError(n("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),r=T(t<<this.start);this.container._packedSetValue(T(e&~this.wordMask)|r)}}class P extends O{constructor(t,e){super(t,1,e)}decode(t,e){return!!O.prototype.decode.call(this,t,e)}encode(t){return"boolean"==typeof t&&(t=+t),O.prototype.encode.call(this,t)}}class R extends r{constructor(t,e){if(!(t instanceof i&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof i||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e){void 0===e&&(e=0);let r=this.span;return 0>r&&(r=this.length.decode(t,e)),t.slice(e,e+r)}encode(t,e,r){let o=this.length;if(this.length instanceof i&&(o=t.length),!Buffer.isBuffer(t)||o!==t.length)throw new TypeError(n("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(r+o>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),r,o,"hex"),this.length instanceof i&&this.length.encode(o,e,r),o}}class M extends r{constructor(t){super(-1,t)}getSpan(t,e){if(!Buffer.isBuffer(t))throw new TypeError("b must be a Buffer");void 0===e&&(e=0);let r=e;for(;r<t.length&&0!==t[r];)r+=1;return 1+r-e}decode(t,e,r){void 0===e&&(e=0);let n=this.getSpan(t,e);return t.slice(e,e+n-1).toString("utf-8")}encode(t,e,r){void 0===r&&(r=0),"string"!=typeof t&&(t=t.toString());const n=new Buffer(t,"utf8"),i=n.length;if(r+i>e.length)throw new RangeError("encoding overruns Buffer");return n.copy(e,r),e[r+i]=0,i+1}}class N extends r{constructor(t,e){if("string"==typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e){if(!Buffer.isBuffer(t))throw new TypeError("b must be a Buffer");return void 0===e&&(e=0),t.length-e}decode(t,e,r){void 0===e&&(e=0);let n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return t.slice(e,e+n).toString("utf-8")}encode(t,e,r){void 0===r&&(r=0),"string"!=typeof t&&(t=t.toString());const n=new Buffer(t,"utf8"),i=n.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>e.length)throw new RangeError("encoding overruns Buffer");return n.copy(e,r),i}}class L extends r{constructor(t,e){super(0,e),this.value=t}decode(t,e,r){return this.value}encode(t,e,r){return 0}}e.ExternalLayout=i,e.GreedyCount=o,e.OffsetLayout=s,e.UInt=a,e.UIntBE=c,e.Int=u,e.IntBE=l,e.Float=b,e.FloatBE=w,e.Double=v,e.DoubleBE=_,e.Sequence=E,e.Structure=S,e.UnionDiscriminator=k,e.UnionLayoutDiscriminator=x,e.Union=A,e.VariantLayout=I,e.BitStructure=C,e.BitField=O,e.Boolean=P,e.Blob=R,e.CString=M,e.UTF8=N,e.Constant=L,e.greedy=(t,e)=>new o(t,e),e.offset=(t,e,r)=>new s(t,e,r),e.u8=t=>new a(1,t),e.u16=t=>new a(2,t),e.u24=t=>new a(3,t),e.u32=t=>new a(4,t),e.u40=t=>new a(5,t),e.u48=t=>new a(6,t),e.nu64=t=>new p(t),e.u16be=t=>new c(2,t),e.u24be=t=>new c(3,t),e.u32be=t=>new c(4,t),e.u40be=t=>new c(5,t),e.u48be=t=>new c(6,t),e.nu64be=t=>new g(t),e.s8=t=>new u(1,t),e.s16=t=>new u(2,t),e.s24=t=>new u(3,t),e.s32=t=>new u(4,t),e.s40=t=>new u(5,t),e.s48=t=>new u(6,t),e.ns64=t=>new y(t),e.s16be=t=>new l(2,t),e.s24be=t=>new l(3,t),e.s32be=t=>new l(4,t),e.s40be=t=>new l(5,t),e.s48be=t=>new l(6,t),e.ns64be=t=>new m(t),e.f32=t=>new b(t),e.f32be=t=>new w(t),e.f64=t=>new v(t),e.f64be=t=>new _(t),e.struct=(t,e,r)=>new S(t,e,r),e.bits=(t,e,r)=>new C(t,e,r),e.seq=(t,e,r)=>new E(t,e,r),e.union=(t,e,r)=>new A(t,e,r),e.unionLayoutDiscriminator=(t,e)=>new x(t,e),e.blob=(t,e)=>new R(t,e),e.cstr=t=>new M(t),e.utf8=(t,e)=>new N(t,e),e.const=(t,e)=>new L(t,e)},8764:(t,e,r)=>{"use strict";const n=r(9742),i=r(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return u(t,e,r)}function u(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|g(t,e);let n=a(r);const i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Z(t,Uint8Array)){const e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Z(t,ArrayBuffer)||t&&Z(t.buffer,ArrayBuffer))return f(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(Z(t,SharedArrayBuffer)||t&&Z(t.buffer,SharedArrayBuffer)))return f(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return c.from(n,e,r);const i=function(t){if(c.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||Y(t.length)?a(0):d(t):"Buffer"===t.type&&Array.isArray(t.data)?d(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return l(t),a(t<0?0:0|p(t))}function d(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function f(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,c.prototype),n}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function g(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Z(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(t).length;default:if(i)return n?-1:V(t).length;e=(""+e).toLowerCase(),i=!0}}function y(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,r);case"utf8":case"utf-8":return A(this,e,r);case"ascii":return T(this,e,r);case"latin1":case"binary":return C(this,e,r);case"base64":return x(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function b(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Y(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:w(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):w(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,r,n,i){let o,s=1,a=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let n=-1;for(o=r;o<a;o++)if(u(t,o)===u(e,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(u(t,o+n)!==u(e,n)){r=!1;break}if(r)return o}return-1}function v(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=e.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(e.substr(2*s,2),16);if(Y(n))return s;t[r+s]=n}return s}function _(t,e,r,n){return G(V(e,t.length-r),t,r,n)}function E(t,e,r,n){return G(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function S(t,e,r,n){return G(K(e),t,r,n)}function k(t,e,r,n){return G(function(t,e){let r,n,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function x(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function A(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=r){let r,n,a,c;switch(s){case 1:e<128&&(o=e);break;case 2:r=t[i+1],128==(192&r)&&(c=(31&e)<<6|63&r,c>127&&(o=c));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(c=(15&e)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(t){const e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=I));return r}(n)}e.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},c.allocUnsafe=function(t){return h(t)},c.allocUnsafeSlow=function(t){return h(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(Z(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),Z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=c.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(Z(e,Uint8Array))i+e.length>n.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?A(this,0,t):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(t,e,r,n,i){if(Z(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0);const a=Math.min(o,s),u=this.slice(n,i),l=t.slice(e,r);for(let t=0;t<a;++t)if(u[t]!==l[t]){o=u[t],s=l[t];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},c.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return _(this,t,e,r);case"ascii":case"latin1":case"binary":return E(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function T(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function C(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function O(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=J[t[n]];return i}function P(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function R(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,r,n,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function N(t,e,r,n,i){W(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function L(t,e,r,n,i){W(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function B(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(t,e,r,n,o){return e=+e,r>>>=0,o||B(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function j(t,e,r,n,o){return e=+e,r>>>=0,o||B(t,0,r,8),i.write(t,e,r,n,52,8),r+8}c.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=X((function(t){$(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=X((function(t){$(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=e,i=1,o=this[t+--n];for(;n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=X((function(t){$(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=X((function(t){$(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||M(this,t,e,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||M(this,t,e,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||M(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||M(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||M(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||M(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||M(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=X((function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=X((function(t,e=0){return L(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);M(this,t,e,r,n-1,-n)}let i=0,o=1,s=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},c.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);M(this,t,e,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||M(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||M(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||M(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||M(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=X((function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=X((function(t,e=0){return L(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,r){return D(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return D(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return j(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return j(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,n){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},c.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const o=c.isBuffer(t)?t:c.from(t,n),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=o[i%s]}return this};const U={};function z(t,e,r){U[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function F(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function W(t,e,r,n,i,o){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new U.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){$(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||q(e,t.length-(r+1))}(n,i,o)}function $(t,e){if("number"!=typeof t)throw new U.ERR_INVALID_ARG_TYPE(e,"number",t)}function q(t,e,r){if(Math.floor(t)!==t)throw $(t,r),new U.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function V(t,e){let r;e=e||1/0;const n=t.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function K(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Z(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Y(t){return t!=t}const J=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function X(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},1924:(t,e,r)=>{"use strict";var n=r(210),i=r(5559),o=i(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&o(t,".prototype.")>-1?i(r):r}},5559:(t,e,r)=>{"use strict";var n=r(8612),i=r(210),o=r(7771),s=i("%TypeError%"),a=i("%Function.prototype.apply%"),c=i("%Function.prototype.call%"),u=i("%Reflect.apply%",!0)||n.call(c,a),l=i("%Object.defineProperty%",!0),h=i("%Math.max%");if(l)try{l({},"a",{value:1})}catch(t){l=null}t.exports=function(t){if("function"!=typeof t)throw new s("a function is required");var e=u(n,c,arguments);return o(e,1+h(0,t.length-(arguments.length-1)),!0)};var d=function(){return u(n,a,arguments)};l?l(t.exports,"apply",{value:d}):t.exports.apply=d},3204:t=>{"use strict";const e=/[\p{Lu}]/u,r=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,o=/[_.\- ]+/,s=new RegExp("^"+o.source),a=new RegExp(o.source+i.source,"gu"),c=new RegExp("\\d+"+i.source,"gu"),u=(t,i)=>{if("string"!=typeof t&&!Array.isArray(t))throw new TypeError("Expected the input to be `string | string[]`");if(i={pascalCase:!1,preserveConsecutiveUppercase:!1,...i},0===(t=Array.isArray(t)?t.map((t=>t.trim())).filter((t=>t.length)).join("-"):t.trim()).length)return"";const o=!1===i.locale?t=>t.toLowerCase():t=>t.toLocaleLowerCase(i.locale),u=!1===i.locale?t=>t.toUpperCase():t=>t.toLocaleUpperCase(i.locale);return 1===t.length?i.pascalCase?u(t):o(t):(t!==o(t)&&(t=((t,n,i)=>{let o=!1,s=!1,a=!1;for(let c=0;c<t.length;c++){const u=t[c];o&&e.test(u)?(t=t.slice(0,c)+"-"+t.slice(c),o=!1,a=s,s=!0,c++):s&&a&&r.test(u)?(t=t.slice(0,c-1)+"-"+t.slice(c-1),a=s,s=!1,o=!0):(o=n(u)===u&&i(u)!==u,a=s,s=i(u)===u&&n(u)!==u)}return t})(t,o,u)),t=t.replace(s,""),t=i.preserveConsecutiveUppercase?((t,e)=>(n.lastIndex=0,t.replace(n,(t=>e(t)))))(t,o):o(t),i.pascalCase&&(t=u(t.charAt(0))+t.slice(1)),((t,e)=>(a.lastIndex=0,c.lastIndex=0,t.replace(a,((t,r)=>e(r))).replace(c,(t=>e(t)))))(t,u))};t.exports=u,t.exports.default=u},6010:(t,e,r)=>{"use strict";function n(t){var e,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=n(t[e]))&&(i&&(i+=" "),i+=r);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function i(){for(var t,e,r=0,i="";r<arguments.length;)(t=arguments[r++])&&(e=n(t))&&(i&&(i+=" "),i+=e);return i}r.r(e),r.d(e,{clsx:()=>i,default:()=>o});const o=i},4098:function(t,e){var r="undefined"!=typeof self?self:this,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function g(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var t,e,r,n=f(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,r=p(e=new FileReader),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(t,e){t=u(t),e=l(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},d.prototype.delete=function(t){delete this.map[u(t)]},d.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},d.prototype.set=function(t,e){this.map[u(t)]=l(e)},d.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},d.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),h(t)},d.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},d.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),h(t)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var r,n,i=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(n=(r=e.method||this.method||"GET").toUpperCase(),b.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},m.call(w.prototype),m.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];_.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function S(t,r){return new Promise((function(n,o){var s=new w(t,r);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new d,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new _(i,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,t.fetch||(t.fetch=S,t.Headers=d,t.Request=w,t.Response=_),e.Headers=d,e.Request=w,e.Response=_,e.fetch=S,Object.defineProperty(e,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e},4020:t=>{"use strict";var e="%[a-f0-9]{2}",r=new RegExp("("+e+")|([^%]+?)","gi"),n=new RegExp("("+e+")+","gi");function i(t,e){try{return[decodeURIComponent(t.join(""))]}catch(t){}if(1===t.length)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],i(r),i(n))}function o(t){try{return decodeURIComponent(t)}catch(o){for(var e=t.match(r)||[],n=1;n<e.length;n++)e=(t=i(e,n).join("")).match(r)||[];return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"ï¿½ï¿½","%FF%FE":"ï¿½ï¿½"},r=n.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch(t){var i=o(r[0]);i!==r[0]&&(e[r[0]]=i)}r=n.exec(t)}e["%C2"]="ï¿½";for(var s=Object.keys(e),a=0;a<s.length;a++){var c=s[a];t=t.replace(new RegExp(c,"g"),e[c])}return t}(t)}}},2296:(t,e,r)=>{"use strict";var n=r(1044)(),i=r(210),o=n&&i("%Object.defineProperty%",!0);if(o)try{o({},"a",{value:1})}catch(t){o=!1}var s=i("%SyntaxError%"),a=i("%TypeError%"),c=r(7296);t.exports=function(t,e,r){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new a("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],h=!!c&&c(t,e);if(o)o(t,e,{configurable:null===u&&h?h.configurable:!u,enumerable:null===n&&h?h.enumerable:!n,value:r,writable:null===i&&h?h.writable:!i});else{if(!l&&(n||i||u))throw new s("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=r}}},5987:t=>{"use strict";var e={single_source_shortest_paths:function(t,r,n){var i={},o={};o[r]=0;var s,a,c,u,l,h,d,f=e.PriorityQueue.make();for(f.push(r,0);!f.empty();)for(c in a=(s=f.pop()).value,u=s.cost,l=t[a]||{})l.hasOwnProperty(c)&&(h=u+l[c],d=o[c],(void 0===o[c]||d>h)&&(o[c]=h,f.push(c,h),i[c]=a));if(void 0!==n&&void 0===o[n]){var p=["Could not find a path from ",r," to ",n,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(t,e){for(var r=[],n=e;n;)r.push(n),t[n],n=t[n];return r.reverse(),r},find_path:function(t,r,n){var i=e.single_source_shortest_paths(t,r,n);return e.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(t){var r,n=e.PriorityQueue,i={};for(r in t=t||{},n)n.hasOwnProperty(r)&&(i[r]=n[r]);return i.queue=[],i.sorter=t.sorter||n.default_sorter,i},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var r={value:t,cost:e};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=e},2378:t=>{"use strict";t.exports=function(t){for(var e=[],r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);if(i>=55296&&i<=56319&&r>n+1){var o=t.charCodeAt(n+1);o>=56320&&o<=57343&&(i=1024*(i-55296)+o-56320+65536,n+=1)}i<128?e.push(i):i<2048?(e.push(i>>6|192),e.push(63&i|128)):i<55296||i>=57344&&i<65536?(e.push(i>>12|224),e.push(i>>6&63|128),e.push(63&i|128)):i>=65536&&i<=1114111?(e.push(i>>18|240),e.push(i>>12&63|128),e.push(i>>6&63|128),e.push(63&i|128)):e.push(239,191,189)}return new Uint8Array(e).buffer}},2696:(t,e,r)=>{r(5682),r(2352);const n=r(7253),i=(t,e)=>t+e,o=["sync","latest"];function s(t){return Number.parseInt(t,16)}t.exports=class extends n{constructor(t={}){super(),this._blockResetDuration=t.blockResetDuration||2e4,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise((t=>this.once("latest",t)))}removeAllListeners(t){t?super.removeAllListeners(t):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(t,e){o.includes(t)&&this._maybeStart()}_onRemoveListener(t,e){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return o.map((t=>this.listenerCount(t))).reduce(i)}_newPotentialLatest(t){const e=this._currentBlock;e&&s(t)<=s(e)||this._setCurrentBlock(t)}_setCurrentBlock(t){const e=this._currentBlock;this._currentBlock=t,this.emit("latest",t),this.emit("sync",{oldBlock:e,newBlock:t})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}},5012:(t,e,r)=>{const n=r(2352),i=r(2696);function o(t,e){return new Promise((r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()}))}t.exports=class extends i{constructor(t={}){if(!t.provider)throw new Error("PollingBlockTracker - no provider specified.");const e=t.pollingInterval||2e4,r=t.retryTimeout||e/10,n=void 0===t.keepEventLoopActive||t.keepEventLoopActive,i=t.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:e},t)),this._provider=t.provider,this._pollingInterval=e,this._retryTimeout=r,this._keepEventLoopActive=n,this._setSkipCacheFlag=i}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch((t=>this.emit("error",t)))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await o(this._pollingInterval,!this._keepEventLoopActive)}catch(t){const e=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:\n${t.stack}`);try{this.emit("error",e)}catch(t){console.error(e)}await o(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const t=await this._fetchLatestBlock();this._newPotentialLatest(t)}async _fetchLatestBlock(){const t={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(t.skipCache=!0);const e=await n((e=>this._provider.sendAsync(t,e)))();if(e.error)throw new Error(`PollingBlockTracker - encountered error fetching block:\n${e.error}`);return e.result}}},3256:(t,e,r)=>{const n=r(6622);t.exports=class extends n{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(t){this.allResults=this.allResults.concat(t),super.addResults(t)}addInitialResults(t){this.allResults=this.allResults.concat(t),super.addInitialResults(t)}getAllResults(){return this.allResults}}},6622:(t,e,r)=>{const n=r(9394).default;t.exports=class extends n{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(t){this.updates=this.updates.concat(t),t.forEach((t=>this.emit("update",t)))}addInitialResults(t){}getChangesAndClear(){const t=this.updates;return this.updates=[],t}}},2785:(t,e,r)=>{const n=r(6622),i=r(207),{incrementHexInt:o}=r(8112);t.exports=class extends n{constructor({provider:t,params:e}){super(),this.type="block",this.provider=t}async update({oldBlock:t,newBlock:e}){const r=e,n=o(t),s=(await i({provider:this.provider,fromBlock:n,toBlock:r})).map((t=>t.hash));this.addResults(s)}}},207:t=>{function e(t){return null==t?t:Number.parseInt(t,16)}function r(t){return null==t?t:"0x"+t.toString(16)}t.exports=async function({provider:t,fromBlock:n,toBlock:i}){n||(n=i);const o=e(n),s=e(i),a=Array(s-o+1).fill().map(((t,e)=>o+e)).map(r);return await Promise.all(a.map((e=>function(t,e,r){return new Promise(((e,n)=>{t.sendAsync({id:1,jsonrpc:"2.0",method:"eth_getBlockByNumber",params:r},((t,r)=>{if(t)return n(t);e(r.result)}))}))}(t,0,[e,!1]))))}},8112:t=>{function e(t){return t.sort(((t,e)=>"latest"===t||"earliest"===e?1:"latest"===e||"earliest"===t?-1:r(t)-r(e)))}function r(t){return null==t?t:Number.parseInt(t,16)}function n(t){if(null==t)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function i(){return Math.floor(16*Math.random()).toString(16)}t.exports={minBlockRef:function(...t){return e(t)[0]},maxBlockRef:function(...t){const r=e(t);return r[r.length-1]},sortBlockRefs:e,bnToHex:function(t){return"0x"+t.toString(16)},blockRefIsNumber:function(t){return t&&!["earliest","latest","pending"].includes(t)},hexToInt:r,incrementHexInt:function(t){return null==t?t:n(r(t)+1)},intToHex:n,unsafeRandomBytes:function(t){let e="0x";for(let r=0;r<t;r++)e+=i(),e+=i();return e}}},8406:(t,e,r)=>{const n=r(7517).WU,{createAsyncMiddleware:i}=r(8625),o=r(7688),s=r(1663),a=r(2785),c=r(5792),{intToHex:u,hexToInt:l}=r(8112);function h(t){return d((async(...e)=>{const r=await t(...e);return u(r.id)}))}function d(t){return i((async(e,r)=>{const n=await t.apply(null,e.params);r.result=n}))}function f(t,e){const r=[];for(let e in t)r.push(t[e]);return r}t.exports=function({blockTracker:t,provider:e}){let r=0,i={};const p=new n,g=function({mutex:t}){return e=>async(r,n,i,o)=>{(await t.acquire())(),e(r,n,i,o)}}({mutex:p}),y=o({eth_newFilter:g(h(b)),eth_newBlockFilter:g(h(w)),eth_newPendingTransactionFilter:g(h(v)),eth_uninstallFilter:g(d(S)),eth_getFilterChanges:g(d(_)),eth_getFilterLogs:g(d(E))}),m=async({oldBlock:t,newBlock:e})=>{if(0===i.length)return;const r=await p.acquire();try{await Promise.all(f(i).map((async r=>{try{await r.update({oldBlock:t,newBlock:e})}catch(t){console.error(t)}})))}catch(t){console.error(t)}r()};return y.newLogFilter=b,y.newBlockFilter=w,y.newPendingTransactionFilter=v,y.uninstallFilter=S,y.getFilterChanges=_,y.getFilterLogs=E,y.destroy=()=>{!async function(){const t=f(i).length;i={},x({prevFilterCount:t,newFilterCount:0})}()},y;async function b(t){const r=new s({provider:e,params:t});return await k(r),r}async function w(){const t=new a({provider:e});return await k(t),t}async function v(){const t=new c({provider:e});return await k(t),t}async function _(t){const e=l(t),r=i[e];if(!r)throw new Error(`No filter for index "${e}"`);return r.getChangesAndClear()}async function E(t){const e=l(t),r=i[e];if(!r)throw new Error(`No filter for index "${e}"`);return"log"===r.type?results=r.getAllResults():results=[],results}async function S(t){const e=l(t),r=i[e],n=Boolean(r);return n&&await async function(t){const e=f(i).length;delete i[t];x({prevFilterCount:e,newFilterCount:f(i).length})}(e),n}async function k(e){const n=f(i).length,o=await t.getLatestBlock();return await e.initialize({currentBlock:o}),r++,i[r]=e,e.id=r,e.idHex=u(r),x({prevFilterCount:n,newFilterCount:f(i).length}),r}function x({prevFilterCount:e,newFilterCount:r}){0===e&&r>0?t.on("sync",m):e>0&&0===r&&t.removeListener("sync",m)}}},1663:(t,e,r)=>{const n=r(5682),i=r(6417),o=r(3256),{bnToHex:s,hexToInt:a,incrementHexInt:c,minBlockRef:u,blockRefIsNumber:l}=r(8112);t.exports=class extends o{constructor({provider:t,params:e}){super(),this.type="log",this.ethQuery=new n(t),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},e),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map((t=>t.toLowerCase())))}async initialize({currentBlock:t}){let e=this.params.fromBlock;["latest","pending"].includes(e)&&(e=t),"earliest"===e&&(e="0x0"),this.params.fromBlock=e;const r=u(this.params.toBlock,t),n=Object.assign({},this.params,{toBlock:r}),i=await this._fetchLogs(n);this.addInitialResults(i)}async update({oldBlock:t,newBlock:e}){const r=e;let n;n=t?c(t):e;const i=Object.assign({},this.params,{fromBlock:n,toBlock:r}),o=(await this._fetchLogs(i)).filter((t=>this.matchLog(t)));this.addResults(o)}async _fetchLogs(t){return await i((e=>this.ethQuery.getLogs(t,e)))()}matchLog(t){if(a(this.params.fromBlock)>=a(t.blockNumber))return!1;if(l(this.params.toBlock)&&a(this.params.toBlock)<=a(t.blockNumber))return!1;const e=t.address&&t.address.toLowerCase();return!(this.params.address&&e&&!this.params.address.includes(e))&&this.params.topics.every(((e,r)=>{let n=t.topics[r];if(!n)return!1;n=n.toLowerCase();let i=Array.isArray(e)?e:[e];return!!i.includes(null)||(i=i.map((t=>t.toLowerCase())),i.includes(n))}))}}},2707:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(7582),i=r(5995),o=function(){function t(){this._semaphore=new i.default(1)}return t.prototype.acquire=function(){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){switch(t.label){case 0:return[4,this._semaphore.acquire()];case 1:return[2,t.sent()[1]]}}))}))},t.prototype.runExclusive=function(t){return this._semaphore.runExclusive((function(){return t()}))},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();e.default=o},5995:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(7582),i=function(){function t(t){if(this._maxConcurrency=t,this._queue=[],t<=0)throw new Error("semaphore must be initialized to a positive value");this._value=t}return t.prototype.acquire=function(){var t=this,e=this.isLocked(),r=new Promise((function(e){return t._queue.push(e)}));return e||this._dispatch(),r},t.prototype.runExclusive=function(t){return n.__awaiter(this,void 0,void 0,(function(){var e,r,i;return n.__generator(this,(function(n){switch(n.label){case 0:return[4,this.acquire()];case 1:e=n.sent(),r=e[0],i=e[1],n.label=2;case 2:return n.trys.push([2,,4,5]),[4,t(r)];case 3:return[2,n.sent()];case 4:return i(),[7];case 5:return[2]}}))}))},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var t=this._currentReleaser;this._currentReleaser=void 0,t()}},t.prototype._dispatch=function(){var t=this,e=this._queue.shift();if(e){var r=!1;this._currentReleaser=function(){r||(r=!0,t._value++,t._dispatch())},e([this._value--,this._currentReleaser])}},t}();e.default=i},7517:(t,e,r)=>{"use strict";e.WU=void 0;var n=r(2707);Object.defineProperty(e,"WU",{enumerable:!0,get:function(){return n.default}});r(5995),r(3998)},3998:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.withTimeout=void 0;var n=r(7582);e.withTimeout=function(t,e,r){var i=this;return void 0===r&&(r=new Error("timeout")),{acquire:function(){return new Promise((function(o,s){return n.__awaiter(i,void 0,void 0,(function(){var i,a;return n.__generator(this,(function(n){switch(n.label){case 0:return i=!1,setTimeout((function(){i=!0,s(r)}),e),[4,t.acquire()];case 1:return a=n.sent(),i?(Array.isArray(a)?a[1]:a)():o(a),[2]}}))}))}))},runExclusive:function(t){return n.__awaiter(this,void 0,void 0,(function(){var e,r;return n.__generator(this,(function(n){switch(n.label){case 0:e=function(){},n.label=1;case 1:return n.trys.push([1,,7,8]),[4,this.acquire()];case 2:return r=n.sent(),Array.isArray(r)?(e=r[1],[4,t(r[0])]):[3,4];case 3:return[2,n.sent()];case 4:return e=r,[4,t()];case 5:return[2,n.sent()];case 6:return[3,8];case 7:return e(),[7];case 8:return[2]}}))}))},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}},6417:t=>{"use strict";const e=(t,e,r,n)=>function(...i){return new(0,e.promiseModule)(((o,s)=>{e.multiArgs?i.push(((...t)=>{e.errorFirst?t[0]?s(t):(t.shift(),o(t)):o(t)})):e.errorFirst?i.push(((t,e)=>{t?s(t):o(e)})):i.push(o);const a=this===r?n:this;Reflect.apply(t,a,i)}))},r=new WeakMap;t.exports=(t,n)=>{n={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...n};const i=typeof t;if(null===t||"object"!==i&&"function"!==i)throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===t?"null":i}\``);const o=new WeakMap,s=new Proxy(t,{apply(t,r,i){const a=o.get(t);if(a)return Reflect.apply(a,r,i);const c=n.excludeMain?t:e(t,n,s,t);return o.set(t,c),Reflect.apply(c,r,i)},get(t,i){const a=t[i];if(!((t,e)=>{let i=r.get(t);if(i||(i={},r.set(t,i)),e in i)return i[e];const o=t=>"string"==typeof t||"symbol"==typeof e?e===t:t.test(e),s=Reflect.getOwnPropertyDescriptor(t,e),a=void 0===s||s.writable||s.configurable,c=(n.include?n.include.some(o):!n.exclude.some(o))&&a;return i[e]=c,c})(t,i)||a===Function.prototype[i])return a;const c=o.get(a);if(c)return c;if("function"==typeof a){const r=e(a,n,s,t);return o.set(a,r),r}return a}});return s}},8961:(t,e,r)=>{const n=r(9394).default,i=r(7688),{createAsyncMiddleware:o}=r(8625),s=r(8406),{unsafeRandomBytes:a,incrementHexInt:c}=r(8112),u=r(207);function l(t){return{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}t.exports=function({blockTracker:t,provider:e}){const r={},h=s({blockTracker:t,provider:e});let d=!1;const f=new n,p=i({eth_subscribe:o((async function(n,i){if(d)throw new Error("SubscriptionManager - attempting to use after destroying");const o=n.params[0],s=a(16);let f;switch(o){case"newHeads":f=function({subId:r}){const n={type:o,destroy:async()=>{t.removeListener("sync",n.update)},update:async({oldBlock:t,newBlock:n})=>{const i=n,o=c(t);(await u({provider:e,fromBlock:o,toBlock:i})).map(l).forEach((t=>{g(r,t)}))}};return t.on("sync",n.update),n}({subId:s});break;case"logs":const r=n.params[1];f=function({subId:t,filter:e}){return e.on("update",(e=>g(t,e))),{type:o,destroy:async()=>await h.uninstallFilter(e.idHex)}}({subId:s,filter:await h.newLogFilter(r)});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${o}"`)}return r[s]=f,void(i.result=s)})),eth_unsubscribe:o((async function(t,e){if(d)throw new Error("SubscriptionManager - attempting to use after destroying");const n=t.params[0],i=r[n];i?(delete r[n],await i.destroy(),e.result=!0):e.result=!1}))});return p.destroy=function(){f.removeAllListeners();for(const t in r)r[t].destroy(),delete r[t];d=!0},{events:f,middleware:p};function g(t,e){f.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:t,result:e}})}}},5792:(t,e,r)=>{const n=r(6622),i=r(207),{incrementHexInt:o}=r(8112);t.exports=class extends n{constructor({provider:t}){super(),this.type="tx",this.provider=t}async update({oldBlock:t}){const e=t,r=o(t),n=await i({provider:this.provider,fromBlock:r,toBlock:e}),s=[];for(const t of n)s.push(...t.transactions);this.addResults(s)}}},9721:t=>{t.exports=function(t){return(e,r,n,i)=>{const o=t[e.method];return void 0===o?n():"function"==typeof o?o(e,r,n,i):(r.result=o,i())}}},7688:(t,e,r)=>{t.exports=r(9721)},5682:(t,e,r)=>{const n=r(7529),i=r(3420)();function o(t){this.currentProvider=t}function s(t){return function(){var e=[].slice.call(arguments),r=e.pop();this.sendAsync({method:t,params:e},r)}}function a(t,e){return function(){var r=[].slice.call(arguments),n=r.pop();r.length<t&&r.push("latest"),this.sendAsync({method:e,params:r},n)}}t.exports=o,o.prototype.getBalance=a(2,"eth_getBalance"),o.prototype.getCode=a(2,"eth_getCode"),o.prototype.getTransactionCount=a(2,"eth_getTransactionCount"),o.prototype.getStorageAt=a(3,"eth_getStorageAt"),o.prototype.call=a(2,"eth_call"),o.prototype.protocolVersion=s("eth_protocolVersion"),o.prototype.syncing=s("eth_syncing"),o.prototype.coinbase=s("eth_coinbase"),o.prototype.mining=s("eth_mining"),o.prototype.hashrate=s("eth_hashrate"),o.prototype.gasPrice=s("eth_gasPrice"),o.prototype.accounts=s("eth_accounts"),o.prototype.blockNumber=s("eth_blockNumber"),o.prototype.getBlockTransactionCountByHash=s("eth_getBlockTransactionCountByHash"),o.prototype.getBlockTransactionCountByNumber=s("eth_getBlockTransactionCountByNumber"),o.prototype.getUncleCountByBlockHash=s("eth_getUncleCountByBlockHash"),o.prototype.getUncleCountByBlockNumber=s("eth_getUncleCountByBlockNumber"),o.prototype.sign=s("eth_sign"),o.prototype.sendTransaction=s("eth_sendTransaction"),o.prototype.sendRawTransaction=s("eth_sendRawTransaction"),o.prototype.estimateGas=s("eth_estimateGas"),o.prototype.getBlockByHash=s("eth_getBlockByHash"),o.prototype.getBlockByNumber=s("eth_getBlockByNumber"),o.prototype.getTransactionByHash=s("eth_getTransactionByHash"),o.prototype.getTransactionByBlockHashAndIndex=s("eth_getTransactionByBlockHashAndIndex"),o.prototype.getTransactionByBlockNumberAndIndex=s("eth_getTransactionByBlockNumberAndIndex"),o.prototype.getTransactionReceipt=s("eth_getTransactionReceipt"),o.prototype.getUncleByBlockHashAndIndex=s("eth_getUncleByBlockHashAndIndex"),o.prototype.getUncleByBlockNumberAndIndex=s("eth_getUncleByBlockNumberAndIndex"),o.prototype.getCompilers=s("eth_getCompilers"),o.prototype.compileLLL=s("eth_compileLLL"),o.prototype.compileSolidity=s("eth_compileSolidity"),o.prototype.compileSerpent=s("eth_compileSerpent"),o.prototype.newFilter=s("eth_newFilter"),o.prototype.newBlockFilter=s("eth_newBlockFilter"),o.prototype.newPendingTransactionFilter=s("eth_newPendingTransactionFilter"),o.prototype.uninstallFilter=s("eth_uninstallFilter"),o.prototype.getFilterChanges=s("eth_getFilterChanges"),o.prototype.getFilterLogs=s("eth_getFilterLogs"),o.prototype.getLogs=s("eth_getLogs"),o.prototype.getWork=s("eth_getWork"),o.prototype.submitWork=s("eth_submitWork"),o.prototype.submitHashrate=s("eth_submitHashrate"),o.prototype.sendAsync=function(t,e){var r;this.currentProvider.sendAsync((r=t,n({id:i(),jsonrpc:"2.0",params:[]},r)),(function(t,r){if(!t&&r.error&&(t=new Error("EthQuery - RPC Error - "+r.error.message)),t)return e(t);e(null,r.result)}))}},2294:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EthereumProviderError=e.EthereumRpcError=void 0;const n=r(4445);class i extends Error{constructor(t,e,r){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!e||"string"!=typeof e)throw new Error('"message" must be a nonempty string.');super(e),this.code=t,void 0!==r&&(this.data=r)}serialize(){const t={code:this.code,message:this.message};return void 0!==this.data&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return n.default(this.serialize(),o,2)}}function o(t,e){if("[Circular]"!==e)return e}e.EthereumRpcError=i,e.EthereumProviderError=class extends i{constructor(t,e,r){if(!function(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,e,r)}}},2662:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.errorValues=e.errorCodes=void 0,e.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},e.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},8797:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ethErrors=void 0;const n=r(2294),i=r(8753),o=r(2662);function s(t,e){const[r,o]=c(e);return new n.EthereumRpcError(t,r||i.getMessageFromCode(t),o)}function a(t,e){const[r,o]=c(e);return new n.EthereumProviderError(t,r||i.getMessageFromCode(t),o)}function c(t){if(t){if("string"==typeof t)return[t];if("object"==typeof t&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&"string"!=typeof e)throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}e.ethErrors={rpc:{parse:t=>s(o.errorCodes.rpc.parse,t),invalidRequest:t=>s(o.errorCodes.rpc.invalidRequest,t),invalidParams:t=>s(o.errorCodes.rpc.invalidParams,t),methodNotFound:t=>s(o.errorCodes.rpc.methodNotFound,t),internal:t=>s(o.errorCodes.rpc.internal,t),server:t=>{if(!t||"object"!=typeof t||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return s(e,t)},invalidInput:t=>s(o.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>s(o.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>s(o.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>s(o.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>s(o.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>s(o.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>a(o.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>a(o.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>a(o.errorCodes.provider.unsupportedMethod,t),disconnected:t=>a(o.errorCodes.provider.disconnected,t),chainDisconnected:t=>a(o.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||"object"!=typeof t||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:i}=t;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new n.EthereumProviderError(e,r,i)}}}},9826:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const n=r(2294);Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});const i=r(8753);Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}});const o=r(8797);Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return o.ethErrors}});const s=r(2662);Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return s.errorCodes}})},8753:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const n=r(2662),i=r(2294),o=n.errorCodes.rpc.internal,s={code:o,message:a(o)};function a(t,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(t)){const r=t.toString();if(h(n.errorValues,r))return n.errorValues[r].message;if(u(t))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function c(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!n.errorValues[e]||!!u(t)}function u(t){return t>=-32099&&t<=-32e3}function l(t){return t&&"object"==typeof t&&!Array.isArray(t)?Object.assign({},t):t}function h(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",e.getMessageFromCode=a,e.isValidCode=c,e.serializeError=function(t,{fallbackError:e=s,shouldIncludeStack:r=!1}={}){var n,o;if(!e||!Number.isInteger(e.code)||"string"!=typeof e.message)throw new Error("Must provide fallback error with integer number code and string message.");if(t instanceof i.EthereumRpcError)return t.serialize();const u={};if(t&&"object"==typeof t&&!Array.isArray(t)&&h(t,"code")&&c(t.code)){const e=t;u.code=e.code,e.message&&"string"==typeof e.message?(u.message=e.message,h(e,"data")&&(u.data=e.data)):(u.message=a(u.code),u.data={originalError:l(t)})}else{u.code=e.code;const r=null===(n=t)||void 0===n?void 0:n.message;u.message=r&&"string"==typeof r?r:e.message,u.data={originalError:l(t)}}const d=null===(o=t)||void 0===o?void 0:o.stack;return r&&t&&d&&"string"==typeof d&&(u.stack=d),u}},6729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,n,o,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,o||t,s),c=r?r+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},a.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,i,o,s){var a=r?r+t:t;if(!this._events[a])return!1;var c,u,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,o),!0;case 6:return l.fn.call(l.context,e,n,i,o,s),!0}for(u=1,c=new Array(h-1);u<h;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),h){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,i);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||s(this,o);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==e||i&&!a[c].once||n&&a[c].context!==n)&&u.push(a[c]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&s(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},7187:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}g(t,e,o,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&g(t,"error",e,{once:!0})}(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function u(t,e,r,n){var i,o,s,u;if(a(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),void 0===s)s=o[e]=r,++t._eventsCount;else if("function"==typeof s?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=c(t))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=s.length,u=l,console&&console.warn&&console.warn(u)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function d(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):p(i,i.length)}function f(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function g(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){n.once&&t.removeEventListener(e,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[t];if(void 0===c)return!1;if("function"==typeof c)n(c,this,e);else{var u=c.length,l=p(c,u);for(r=0;r<u;++r)n(l[r],this,e)}return!0},o.prototype.addListener=function(t,e){return u(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return u(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,h(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,h(this,t,e)),this},o.prototype.removeListener=function(t,e){var r,n,i,o,s;if(a(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},o.prototype.listeners=function(t){return d(this,t,!0)},o.prototype.rawListeners=function(t){return d(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},4445:t=>{t.exports=s,s.default=s,s.stable=l,s.stableStringify=l;var e="[...]",r="[Circular]",n=[],i=[];function o(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function s(t,e,r,s){var a;void 0===s&&(s=o()),c(t,"",0,[],void 0,0,s);try{a=0===i.length?JSON.stringify(t,e,r):JSON.stringify(t,d(e),r)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var u=n.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return a}function a(t,e,r,o){var s=Object.getOwnPropertyDescriptor(o,r);void 0!==s.get?s.configurable?(Object.defineProperty(o,r,{value:t}),n.push([o,r,e,s])):i.push([e,r,t]):(o[r]=t,n.push([o,r,e]))}function c(t,n,i,o,s,u,l){var h;if(u+=1,"object"==typeof t&&null!==t){for(h=0;h<o.length;h++)if(o[h]===t)return void a(r,t,n,s);if(void 0!==l.depthLimit&&u>l.depthLimit)return void a(e,t,n,s);if(void 0!==l.edgesLimit&&i+1>l.edgesLimit)return void a(e,t,n,s);if(o.push(t),Array.isArray(t))for(h=0;h<t.length;h++)c(t[h],h,h,o,t,u,l);else{var d=Object.keys(t);for(h=0;h<d.length;h++){var f=d[h];c(t[f],f,h,o,t,u,l)}}o.pop()}}function u(t,e){return t<e?-1:t>e?1:0}function l(t,e,r,s){void 0===s&&(s=o());var a,c=h(t,"",0,[],void 0,0,s)||t;try{a=0===i.length?JSON.stringify(c,e,r):JSON.stringify(c,d(e),r)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var u=n.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return a}function h(t,i,o,s,c,l,d){var f;if(l+=1,"object"==typeof t&&null!==t){for(f=0;f<s.length;f++)if(s[f]===t)return void a(r,t,i,c);try{if("function"==typeof t.toJSON)return}catch(t){return}if(void 0!==d.depthLimit&&l>d.depthLimit)return void a(e,t,i,c);if(void 0!==d.edgesLimit&&o+1>d.edgesLimit)return void a(e,t,i,c);if(s.push(t),Array.isArray(t))for(f=0;f<t.length;f++)h(t[f],f,f,s,t,l,d);else{var p={},g=Object.keys(t).sort(u);for(f=0;f<g.length;f++){var y=g[f];h(t[y],y,f,s,t,l,d),p[y]=t[y]}if(void 0===c)return p;n.push([c,i,t]),c[i]=p}s.pop()}}function d(t){return t=void 0!==t?t:function(t,e){return e},function(e,r){if(i.length>0)for(var n=0;n<i.length;n++){var o=i[n];if(o[1]===e&&o[0]===r){r=o[2],i.splice(n,1);break}}return t.call(this,e,r)}}},2806:t=>{"use strict";t.exports=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),o=0;o<n.length;o++){var s=n[o],a=t[s];(i?-1!==e.indexOf(s):e(s,a,t))&&(r[s]=a)}return r}},4029:(t,e,r)=>{"use strict";var n=r(5320),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){if(!n(e))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=r),"[object Array]"===i.call(t)?function(t,e,r){for(var n=0,i=t.length;n<i;n++)o.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))}(t,e,s):"string"==typeof t?function(t,e,r){for(var n=0,i=t.length;n<i;n++)null==r?e(t.charAt(n),n,t):e.call(r,t.charAt(n),n,t)}(t,e,s):function(t,e,r){for(var n in t)o.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))}(t,e,s)}},7648:t=>{"use strict";var e=Object.prototype.toString,r=Math.max,n=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var i=0;i<e.length;i+=1)r[i+t.length]=e[i];return r};t.exports=function(t){var i=this;if("function"!=typeof i||"[object Function]"!==e.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,s=function(t,e){for(var r=[],n=1,i=0;n<t.length;n+=1,i+=1)r[i]=t[n];return r}(arguments),a=r(0,i.length-s.length),c=[],u=0;u<a;u++)c[u]="$"+u;if(o=Function("binder","return function ("+function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=",");return r}(c)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var e=i.apply(this,n(s,arguments));return Object(e)===e?e:this}return i.apply(t,n(s,arguments))})),i.prototype){var l=function(){};l.prototype=i.prototype,o.prototype=new l,l.prototype=null}return o}},8612:(t,e,r)=>{"use strict";var n=r(7648);t.exports=Function.prototype.bind||n},210:(t,e,r)=>{"use strict";var n,i=SyntaxError,o=Function,s=TypeError,a=function(t){try{return o('"use strict"; return ('+t+").constructor;")()}catch(t){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(t){c=null}var u=function(){throw new s},l=c?function(){try{return u}catch(t){try{return c(arguments,"callee").get}catch(t){return u}}}():u,h=r(1405)(),d=r(8185)(),f=Object.getPrototypeOf||(d?function(t){return t.__proto__}:null),p={},g="undefined"!=typeof Uint8Array&&f?f(Uint8Array):n,y={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":h&&f?f([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h&&f?f(f([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h&&f?f((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h&&f?f((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h&&f?f(""[Symbol.iterator]()):n,"%Symbol%":h?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":g,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(f)try{null.error}catch(t){var m=f(f(t));y["%Error.prototype%"]=m}var b=function t(e){var r;if("%AsyncFunction%"===e)r=a("async function () {}");else if("%GeneratorFunction%"===e)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=a("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&f&&(r=f(i.prototype))}return y[e]=r,r},w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=r(8612),_=r(8824),E=v.call(Function.call,Array.prototype.concat),S=v.call(Function.apply,Array.prototype.splice),k=v.call(Function.call,String.prototype.replace),x=v.call(Function.call,String.prototype.slice),A=v.call(Function.call,RegExp.prototype.exec),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,C=function(t,e){var r,n=t;if(_(w,n)&&(n="%"+(r=w[n])[0]+"%"),_(y,n)){var o=y[n];if(o===p&&(o=b(n)),void 0===o&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new s('"allowMissing" argument must be a boolean');if(null===A(/^%?[^%]*%?$/,t))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=x(t,0,1),r=x(t,-1);if("%"===e&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return k(t,I,(function(t,e,r,i){n[n.length]=r?k(i,T,"$1"):e||t})),n}(t),n=r.length>0?r[0]:"",o=C("%"+n+"%",e),a=o.name,u=o.value,l=!1,h=o.alias;h&&(n=h[0],S(r,E([0,1],h)));for(var d=1,f=!0;d<r.length;d+=1){var p=r[d],g=x(p,0,1),m=x(p,-1);if(('"'===g||"'"===g||"`"===g||'"'===m||"'"===m||"`"===m)&&g!==m)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&f||(l=!0),_(y,a="%"+(n+="."+p)+"%"))u=y[a];else if(null!=u){if(!(p in u)){if(!e)throw new s("base intrinsic for "+t+" exists, but the property is not available.");return}if(c&&d+1>=r.length){var b=c(u,p);u=(f=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:u[p]}else f=_(u,p),u=u[p];f&&!l&&(y[a]=u)}}return u}},7296:(t,e,r)=>{"use strict";var n=r(210)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(t){n=null}t.exports=n},1044:(t,e,r)=>{"use strict";var n=r(210)("%Object.defineProperty%",!0),i=function(){if(n)try{return n({},"a",{value:1}),!0}catch(t){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==n([],"length",{value:1}).length}catch(t){return!0}},t.exports=i},8185:t=>{"use strict";var e={foo:{}},r=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!({__proto__:null}instanceof r)}},1405:(t,e,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(5419);t.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},5419:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},6410:(t,e,r)=>{"use strict";var n=r(5419);t.exports=function(){return n()&&!!Symbol.toStringTag}},8824:(t,e,r)=>{"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r(8612);t.exports=o.call(n,i)},645:(t,e)=>{e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,h=r?i-1:0,d=r?-1:1,f=t[e+h];for(h+=d,o=f&(1<<-l)-1,f>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+t[e+h],h+=d,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),o-=u}return(f?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,h=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*c-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[r+f]=255&s,f+=p,s/=256,u-=8);t[r+f-p]|=128*g}},5717:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},2584:(t,e,r)=>{"use strict";var n=r(6410)(),i=r(1924)("Object.prototype.toString"),o=function(t){return!(n&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===i(t)},s=function(t){return!!o(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==i(t)&&"[object Function]"===i(t.callee)},a=function(){return o(arguments)}();o.isLegacyArguments=s,t.exports=a?o:s},5320:t=>{"use strict";var e,r,n=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw r}}),r={},i((function(){throw 42}),null,e)}catch(t){t!==r&&(i=null)}else i=null;var o=/^\s*class\b/,s=function(t){try{var e=n.call(t);return o.test(e)}catch(t){return!1}},a=function(t){try{return!s(t)&&(n.call(t),!0)}catch(t){return!1}},c=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,l=!(0 in[,]),h=function(){return!1};if("object"==typeof document){var d=document.all;c.call(d)===c.call(document.all)&&(h=function(t){if((l||!t)&&(void 0===t||"object"==typeof t))try{var e=c.call(t);return("[object HTMLAllCollection]"===e||"[object HTML document.all class]"===e||"[object HTMLCollection]"===e||"[object Object]"===e)&&null==t("")}catch(t){}return!1})}t.exports=i?function(t){if(h(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;try{i(t,null,e)}catch(t){if(t!==r)return!1}return!s(t)&&a(t)}:function(t){if(h(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(u)return a(t);if(s(t))return!1;var e=c.call(t);return!("[object Function]"!==e&&"[object GeneratorFunction]"!==e&&!/^\[object HTML/.test(e))&&a(t)}},8662:(t,e,r)=>{"use strict";var n,i=Object.prototype.toString,o=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=r(6410)(),c=Object.getPrototypeOf;t.exports=function(t){if("function"!=typeof t)return!1;if(s.test(o.call(t)))return!0;if(!a)return"[object GeneratorFunction]"===i.call(t);if(!c)return!1;if(void 0===n){var e=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(t){}}();n=!!e&&c(e)}return c(t)===n}},5692:(t,e,r)=>{"use strict";var n=r(6430);t.exports=function(t){return!!n(t)}},1198:(t,e,r)=>{"use strict";const n=r(4608).v4,i=r(7741),o=function(t,e){if(!(this instanceof o))return new o(t,e);e||(e={}),this.options={reviver:void 0!==e.reviver?e.reviver:null,replacer:void 0!==e.replacer?e.replacer:null,generator:void 0!==e.generator?e.generator:function(){return n()},version:void 0!==e.version?e.version:2,notificationIdNull:"boolean"==typeof e.notificationIdNull&&e.notificationIdNull},this.callServer=t};t.exports=o,o.prototype.request=function(t,e,r,n){const o=this;let s=null;const a=Array.isArray(t)&&"function"==typeof e;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&"object"==typeof t&&"function"==typeof e)n=e,s=t;else{"function"==typeof r&&(n=r,r=void 0);const o="function"==typeof n;try{s=i(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(t){if(o)return n(t);throw t}if(!o)return s}let c;try{c=JSON.stringify(s,this.options.replacer)}catch(t){return n(t)}return this.callServer(c,(function(t,e){o._parseResponse(t,e,n)})),s},o.prototype._parseResponse=function(t,e,r){if(t)return void r(t);if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(t){return r(t)}if(3===r.length){if(Array.isArray(n)){const t=function(t){return void 0!==t.error},e=function(e){return!t(e)};return r(null,n.filter(t),n.filter(e))}return r(null,n.error,n.result)}r(null,n)}},7741:(t,e,r)=>{"use strict";const n=r(4608).v4;t.exports=function(t,e,r,i){if("string"!=typeof t)throw new TypeError(t+" must be a string");const o="number"==typeof(i=i||{}).version?i.version:2;if(1!==o&&2!==o)throw new TypeError(o+" must be 1 or 2");const s={method:t};if(2===o&&(s.jsonrpc="2.0"),e){if("object"!=typeof e&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(void 0===r){const t="function"==typeof i.generator?i.generator:function(){return n()};s.id=t(s,i)}else 2===o&&null===r?i.notificationIdNull&&(s.id=null):s.id=r;return s}},2023:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(r){return new Sha256(e,!0).update(r)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(t){return e.create().update(t)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createOutputMethod(n,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if("string"==typeof t)return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(null==t)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(r,n){return new HmacSha256(r,e,!0).update(n)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(e){return new HmacSha256(e,t)},e.update=function(t,r){return e.create(t).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createHmacOutputMethod(n,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function HmacSha256(t,e,r){var n,i=typeof t;if("string"===i){var o,s=[],a=t.length,c=0;for(n=0;n<a;++n)(o=t.charCodeAt(n))<128?s[c++]=o:o<2048?(s[c++]=192|o>>6,s[c++]=128|63&o):o<55296||o>=57344?(s[c++]=224|o>>12,s[c++]=128|o>>6&63,s[c++]=128|63&o):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++n)),s[c++]=240|o>>18,s[c++]=128|o>>12&63,s[c++]=128|o>>6&63,s[c++]=128|63&o);t=s}else{if("object"!==i)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR)}t.length>64&&(t=new Sha256(e,!0).update(t).array());var u=[],l=[];for(n=0;n<64;++n){var h=t[n]||0;u[n]=92^h,l[n]=54^h}Sha256.call(this,e,r),this.update(l),this.oKeyPad=u,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(t){if(!this.finalized){var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR);e=!0}for(var n,i,o=0,s=t.length,a=this.blocks;o<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)for(i=this.start;o<s&&i<64;++o)a[i>>2]|=t[o]<<SHIFT[3&i++];else for(i=this.start;o<s&&i<64;++o)(n=t.charCodeAt(o))<128?a[i>>2]|=n<<SHIFT[3&i++]:n<2048?(a[i>>2]|=(192|n>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):n<55296||n>=57344?(a[i>>2]|=(224|n>>12)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++o)),a[i>>2]|=(240|n>>18)<<SHIFT[3&i++],a[i>>2]|=(128|n>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t,e,r,n,i,o,s,a,c,u=this.h0,l=this.h1,h=this.h2,d=this.h3,f=this.h4,p=this.h5,g=this.h6,y=this.h7,m=this.blocks;for(t=16;t<64;++t)e=((i=m[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,r=((i=m[t-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,m[t]=m[t-16]+e+m[t-7]+r<<0;for(c=l&h,t=0;t<64;t+=4)this.first?(this.is224?(o=300032,y=(i=m[0]-1413257819)-150054599<<0,d=i+24177077<<0):(o=704751109,y=(i=m[0]-210244248)-1521486534<<0,d=i+143694565<<0),this.first=!1):(e=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),n=(o=u&l)^u&h^c,y=d+(i=y+(r=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&p^~f&g)+K[t]+m[t])<<0,d=i+(e+n)<<0),e=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),n=(s=d&u)^d&l^o,g=h+(i=g+(r=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&f^~y&p)+K[t+1]+m[t+1])<<0,e=((h=i+(e+n)<<0)>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),n=(a=h&d)^h&u^s,p=l+(i=p+(r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&y^~g&f)+K[t+2]+m[t+2])<<0,e=((l=i+(e+n)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(c=l&h)^l&d^a,f=u+(i=f+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&g^~p&y)+K[t+3]+m[t+3])<<0,u=i+(e+n)<<0;this.h0=this.h0+u<<0,this.h1=this.h1+l<<0,this.h2=this.h2+h<<0,this.h3=this.h3+d<<0,this.h4=this.h4+f<<0,this.h5=this.h5+p<<0,this.h6=this.h6+g<<0,this.h7=this.h7+y<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,c=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];return this.is224||(c+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),c},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,c=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||c.push(a>>24&255,a>>16&255,a>>8&255,255&a),c},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},7398:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.JsonRpcEngine=void 0;const i=n(r(9394)),o=r(9826);class s extends i.default{constructor(){super(),this._middleware=[]}push(t){this._middleware.push(t)}handle(t,e){if(e&&"function"!=typeof e)throw new Error('"callback" must be a function if provided.');return Array.isArray(t)?e?this._handleBatch(t,e):this._handleBatch(t):e?this._handle(t,e):this._promiseHandle(t)}asMiddleware(){return async(t,e,r,n)=>{try{const[i,o,a]=await s._runAllMiddleware(t,e,this._middleware);return o?(await s._runReturnHandlers(a),n(i)):r((async t=>{try{await s._runReturnHandlers(a)}catch(e){return t(e)}return t()}))}catch(t){return n(t)}}}async _handleBatch(t,e){try{const r=await Promise.all(t.map(this._promiseHandle.bind(this)));return e?e(null,r):r}catch(t){if(e)return e(t);throw t}}_promiseHandle(t){return new Promise((e=>{this._handle(t,((t,r)=>{e(r)}))}))}async _handle(t,e){if(!t||Array.isArray(t)||"object"!=typeof t){const r=new o.EthereumRpcError(o.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof t,{request:t});return e(r,{id:void 0,jsonrpc:"2.0",error:r})}if("string"!=typeof t.method){const r=new o.EthereumRpcError(o.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof t.method,{request:t});return e(r,{id:t.id,jsonrpc:"2.0",error:r})}const r=Object.assign({},t),n={id:r.id,jsonrpc:r.jsonrpc};let i=null;try{await this._processRequest(r,n)}catch(t){i=t}return i&&(delete n.result,n.error||(n.error=o.serializeError(i))),e(i,n)}async _processRequest(t,e){const[r,n,i]=await s._runAllMiddleware(t,e,this._middleware);if(s._checkForCompletion(t,e,n),await s._runReturnHandlers(i),r)throw r}static async _runAllMiddleware(t,e,r){const n=[];let i=null,o=!1;for(const a of r)if([i,o]=await s._runMiddleware(t,e,a,n),o)break;return[i,o,n.reverse()]}static _runMiddleware(t,e,r,n){return new Promise((i=>{const s=t=>{const r=t||e.error;r&&(e.error=o.serializeError(r)),i([r,!0])},c=r=>{e.error?s(e.error):(r&&("function"!=typeof r&&s(new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${a(t)}`,{request:t})),n.push(r)),i([null,!1]))};try{r(t,e,c,s)}catch(t){s(t)}}))}static async _runReturnHandlers(t){for(const e of t)await new Promise(((t,r)=>{e((e=>e?r(e):t()))}))}static _checkForCompletion(t,e,r){if(!("result"in e)&&!("error"in e))throw new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${a(t)}`,{request:t});if(!r)throw new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${a(t)}`,{request:t})}}function a(t){return JSON.stringify(t,null,2)}e.JsonRpcEngine=s},1841:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createAsyncMiddleware=void 0,e.createAsyncMiddleware=function(t){return async(e,r,n,i)=>{let o;const s=new Promise((t=>{o=t}));let a=null,c=!1;const u=async()=>{c=!0,n((t=>{a=t,o()})),await s};try{await t(e,r,u),c?(await s,a(null)):i(null)}catch(t){a?a(t):i(t)}}}},8508:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createScaffoldMiddleware=void 0,e.createScaffoldMiddleware=function(t){return(e,r,n,i)=>{const o=t[e.method];return void 0===o?n():"function"==typeof o?o(e,r,n,i):(r.result=o,i())}}},3107:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUniqueId=void 0;const r=4294967295;let n=Math.floor(Math.random()*r);e.getUniqueId=function(){return n=(n+1)%r,n}},5086:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createIdRemapMiddleware=void 0;const n=r(3107);e.createIdRemapMiddleware=function(){return(t,e,r,i)=>{const o=t.id,s=n.getUniqueId();t.id=s,e.id=s,r((r=>{t.id=o,e.id=o,r()}))}}},8625:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(5086),e),i(r(1841),e),i(r(8508),e),i(r(3107),e),i(r(7398),e),i(r(9962),e)},9962:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeMiddleware=void 0;const n=r(7398);e.mergeMiddleware=function(t){const e=new n.JsonRpcEngine;return t.forEach((t=>e.push(t))),e.asMiddleware()}},3420:t=>{t.exports=function(t){var e=(t=t||{}).max||Number.MAX_SAFE_INTEGER,r=void 0!==t.start?t.start:Math.floor(Math.random()*e);return function(){return r%=e,r++}}},8598:(t,e,r)=>{t.exports=r(6066)(r(9653))},6066:(t,e,r)=>{const n=r(7016),i=r(5675);t.exports=function(t){const e=n(t),r=i(t);return function(t,n){switch("string"==typeof t?t.toLowerCase():t){case"keccak224":return new e(1152,448,null,224,n);case"keccak256":return new e(1088,512,null,256,n);case"keccak384":return new e(832,768,null,384,n);case"keccak512":return new e(576,1024,null,512,n);case"sha3-224":return new e(1152,448,6,224,n);case"sha3-256":return new e(1088,512,6,256,n);case"sha3-384":return new e(832,768,6,384,n);case"sha3-512":return new e(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+t)}}}},7016:(t,e,r)=>{const{Transform:n}=r(8473);t.exports=t=>class e extends n{constructor(e,r,n,i,o){super(o),this._rate=e,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=i,this._options=o,this._state=new t,this._state.initialize(e,r),this._finalized=!1}_transform(t,e,r){let n=null;try{this.update(t,e)}catch(t){n=t}r(n)}_flush(t){let e=null;try{this.push(this.digest())}catch(t){e=t}t(e)}update(t,e){if(!Buffer.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(t)||(t=Buffer.from(t,e)),this._state.absorb(t),this}digest(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let e=this._state.squeeze(this._hashBitLength/8);return void 0!==t&&(e=e.toString(t)),this._resetState(),e}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const t=new e(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t}}},5675:(t,e,r)=>{const{Transform:n}=r(8473);t.exports=t=>class e extends n{constructor(e,r,n,i){super(i),this._rate=e,this._capacity=r,this._delimitedSuffix=n,this._options=i,this._state=new t,this._state.initialize(e,r),this._finalized=!1}_transform(t,e,r){let n=null;try{this.update(t,e)}catch(t){n=t}r(n)}_flush(){}_read(t){this.push(this.squeeze(t))}update(t,e){if(!Buffer.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(t)||(t=Buffer.from(t,e)),this._state.absorb(t),this}squeeze(t,e){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let r=this._state.squeeze(t);return void 0!==e&&(r=r.toString(e)),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const t=new e(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t}}},4040:(t,e)=>{const r=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];e.p1600=function(t){for(let e=0;e<24;++e){const n=t[0]^t[10]^t[20]^t[30]^t[40],i=t[1]^t[11]^t[21]^t[31]^t[41],o=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],a=t[4]^t[14]^t[24]^t[34]^t[44],c=t[5]^t[15]^t[25]^t[35]^t[45],u=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],h=t[8]^t[18]^t[28]^t[38]^t[48],d=t[9]^t[19]^t[29]^t[39]^t[49];let f=h^(o<<1|s>>>31),p=d^(s<<1|o>>>31);const g=t[0]^f,y=t[1]^p,m=t[10]^f,b=t[11]^p,w=t[20]^f,v=t[21]^p,_=t[30]^f,E=t[31]^p,S=t[40]^f,k=t[41]^p;f=n^(a<<1|c>>>31),p=i^(c<<1|a>>>31);const x=t[2]^f,A=t[3]^p,I=t[12]^f,T=t[13]^p,C=t[22]^f,O=t[23]^p,P=t[32]^f,R=t[33]^p,M=t[42]^f,N=t[43]^p;f=o^(u<<1|l>>>31),p=s^(l<<1|u>>>31);const L=t[4]^f,B=t[5]^p,D=t[14]^f,j=t[15]^p,U=t[24]^f,z=t[25]^p,F=t[34]^f,W=t[35]^p,$=t[44]^f,q=t[45]^p;f=a^(h<<1|d>>>31),p=c^(d<<1|h>>>31);const H=t[6]^f,V=t[7]^p,K=t[16]^f,G=t[17]^p,Z=t[26]^f,Y=t[27]^p,J=t[36]^f,X=t[37]^p,Q=t[46]^f,tt=t[47]^p;f=u^(n<<1|i>>>31),p=l^(i<<1|n>>>31);const et=t[8]^f,rt=t[9]^p,nt=t[18]^f,it=t[19]^p,ot=t[28]^f,st=t[29]^p,at=t[38]^f,ct=t[39]^p,ut=t[48]^f,lt=t[49]^p,ht=g,dt=y,ft=b<<4|m>>>28,pt=m<<4|b>>>28,gt=w<<3|v>>>29,yt=v<<3|w>>>29,mt=E<<9|_>>>23,bt=_<<9|E>>>23,wt=S<<18|k>>>14,vt=k<<18|S>>>14,_t=x<<1|A>>>31,Et=A<<1|x>>>31,St=T<<12|I>>>20,kt=I<<12|T>>>20,xt=C<<10|O>>>22,At=O<<10|C>>>22,It=R<<13|P>>>19,Tt=P<<13|R>>>19,Ct=M<<2|N>>>30,Ot=N<<2|M>>>30,Pt=B<<30|L>>>2,Rt=L<<30|B>>>2,Mt=D<<6|j>>>26,Nt=j<<6|D>>>26,Lt=z<<11|U>>>21,Bt=U<<11|z>>>21,Dt=F<<15|W>>>17,jt=W<<15|F>>>17,Ut=q<<29|$>>>3,zt=$<<29|q>>>3,Ft=H<<28|V>>>4,Wt=V<<28|H>>>4,$t=G<<23|K>>>9,qt=K<<23|G>>>9,Ht=Z<<25|Y>>>7,Vt=Y<<25|Z>>>7,Kt=J<<21|X>>>11,Gt=X<<21|J>>>11,Zt=tt<<24|Q>>>8,Yt=Q<<24|tt>>>8,Jt=et<<27|rt>>>5,Xt=rt<<27|et>>>5,Qt=nt<<20|it>>>12,te=it<<20|nt>>>12,ee=st<<7|ot>>>25,re=ot<<7|st>>>25,ne=at<<8|ct>>>24,ie=ct<<8|at>>>24,oe=ut<<14|lt>>>18,se=lt<<14|ut>>>18;t[0]=ht^~St&Lt,t[1]=dt^~kt&Bt,t[10]=Ft^~Qt&gt,t[11]=Wt^~te&yt,t[20]=_t^~Mt&Ht,t[21]=Et^~Nt&Vt,t[30]=Jt^~ft&xt,t[31]=Xt^~pt&At,t[40]=Pt^~$t&ee,t[41]=Rt^~qt&re,t[2]=St^~Lt&Kt,t[3]=kt^~Bt&Gt,t[12]=Qt^~gt&It,t[13]=te^~yt&Tt,t[22]=Mt^~Ht&ne,t[23]=Nt^~Vt&ie,t[32]=ft^~xt&Dt,t[33]=pt^~At&jt,t[42]=$t^~ee&mt,t[43]=qt^~re&bt,t[4]=Lt^~Kt&oe,t[5]=Bt^~Gt&se,t[14]=gt^~It&Ut,t[15]=yt^~Tt&zt,t[24]=Ht^~ne&wt,t[25]=Vt^~ie&vt,t[34]=xt^~Dt&Zt,t[35]=At^~jt&Yt,t[44]=ee^~mt&Ct,t[45]=re^~bt&Ot,t[6]=Kt^~oe&ht,t[7]=Gt^~se&dt,t[16]=It^~Ut&Ft,t[17]=Tt^~zt&Wt,t[26]=ne^~wt&_t,t[27]=ie^~vt&Et,t[36]=Dt^~Zt&Jt,t[37]=jt^~Yt&Xt,t[46]=mt^~Ct&Pt,t[47]=bt^~Ot&Rt,t[8]=oe^~ht&St,t[9]=se^~dt&kt,t[18]=Ut^~Ft&Qt,t[19]=zt^~Wt&te,t[28]=wt^~_t&Mt,t[29]=vt^~Et&Nt,t[38]=Zt^~Jt&ft,t[39]=Yt^~Xt&pt,t[48]=Ct^~Pt&$t,t[49]=Ot^~Rt&qt,t[0]^=r[2*e],t[1]^=r[2*e+1]}}},9653:(t,e,r)=>{const n=r(4040);function i(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}i.prototype.initialize=function(t,e){for(let t=0;t<50;++t)this.state[t]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1},i.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(n.p1600(this.state),this.count=0)},i.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<this.count%4*8,0!=(128&t)&&this.count===this.blockSize-1&&n.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,n.p1600(this.state),this.count=0,this.squeezing=!0},i.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(n.p1600(this.state),this.count=0);return e},i.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing},t.exports=i},2307:(t,e,r)=>{t=r.nmd(t);var n="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",l="[object Boolean]",h="[object Date]",d="[object Error]",f="[object Function]",p="[object GeneratorFunction]",g="[object Map]",y="[object Number]",m="[object Null]",b="[object Object]",w="[object Promise]",v="[object Proxy]",_="[object RegExp]",E="[object Set]",S="[object String]",k="[object Undefined]",x="[object WeakMap]",A="[object ArrayBuffer]",I="[object DataView]",T=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,O={};O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O[a]=O[c]=O[A]=O[l]=O[I]=O[h]=O[d]=O[f]=O[g]=O[y]=O[b]=O[_]=O[E]=O[S]=O[x]=!1;var P="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,R="object"==typeof self&&self&&self.Object===Object&&self,M=P||R||Function("return this")(),N=e&&!e.nodeType&&e,L=N&&t&&!t.nodeType&&t,B=L&&L.exports===N,D=B&&P.process,j=function(){try{return D&&D.binding&&D.binding("util")}catch(t){}}(),U=j&&j.isTypedArray;function z(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function F(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function W(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var $,q,H,V=Array.prototype,K=Function.prototype,G=Object.prototype,Z=M["__core-js_shared__"],Y=K.toString,J=G.hasOwnProperty,X=($=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"",Q=G.toString,tt=RegExp("^"+Y.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=B?M.Buffer:void 0,rt=M.Symbol,nt=M.Uint8Array,it=G.propertyIsEnumerable,ot=V.splice,st=rt?rt.toStringTag:void 0,at=Object.getOwnPropertySymbols,ct=et?et.isBuffer:void 0,ut=(q=Object.keys,H=Object,function(t){return q(H(t))}),lt=Lt(M,"DataView"),ht=Lt(M,"Map"),dt=Lt(M,"Promise"),ft=Lt(M,"Set"),pt=Lt(M,"WeakMap"),gt=Lt(Object,"create"),yt=Ut(lt),mt=Ut(ht),bt=Ut(dt),wt=Ut(ft),vt=Ut(pt),_t=rt?rt.prototype:void 0,Et=_t?_t.valueOf:void 0;function St(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function kt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function xt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function At(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new xt;++e<r;)this.add(t[e])}function It(t){var e=this.__data__=new kt(t);this.size=e.size}function Tt(t,e){for(var r=t.length;r--;)if(zt(t[r][0],e))return r;return-1}function Ct(t){return null==t?void 0===t?k:m:st&&st in Object(t)?function(t){var e=J.call(t,st),r=t[st];try{t[st]=void 0;var n=!0}catch(t){}var i=Q.call(t);return n&&(e?t[st]=r:delete t[st]),i}(t):function(t){return Q.call(t)}(t)}function Ot(t){return Kt(t)&&Ct(t)==a}function Pt(t,e,r,n,s){return t===e||(null==t||null==e||!Kt(t)&&!Kt(e)?t!=t&&e!=e:function(t,e,r,n,s,u){var f=Wt(t),p=Wt(e),m=f?c:Dt(t),w=p?c:Dt(e),v=(m=m==a?b:m)==b,k=(w=w==a?b:w)==b,x=m==w;if(x&&$t(t)){if(!$t(e))return!1;f=!0,v=!1}if(x&&!v)return u||(u=new It),f||Gt(t)?Rt(t,e,r,n,s,u):function(t,e,r,n,s,a,c){switch(r){case I:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case A:return!(t.byteLength!=e.byteLength||!a(new nt(t),new nt(e)));case l:case h:case y:return zt(+t,+e);case d:return t.name==e.name&&t.message==e.message;case _:case S:return t==e+"";case g:var u=F;case E:var f=n&i;if(u||(u=W),t.size!=e.size&&!f)return!1;var p=c.get(t);if(p)return p==e;n|=o,c.set(t,e);var m=Rt(u(t),u(e),n,s,a,c);return c.delete(t),m;case"[object Symbol]":if(Et)return Et.call(t)==Et.call(e)}return!1}(t,e,m,r,n,s,u);if(!(r&i)){var T=v&&J.call(t,"__wrapped__"),C=k&&J.call(e,"__wrapped__");if(T||C){var O=T?t.value():t,P=C?e.value():e;return u||(u=new It),s(O,P,r,n,u)}}return!!x&&(u||(u=new It),function(t,e,r,n,o,s){var a=r&i,c=Mt(t),u=c.length;if(u!=Mt(e).length&&!a)return!1;for(var l=u;l--;){var h=c[l];if(!(a?h in e:J.call(e,h)))return!1}var d=s.get(t);if(d&&s.get(e))return d==e;var f=!0;s.set(t,e),s.set(e,t);for(var p=a;++l<u;){var g=t[h=c[l]],y=e[h];if(n)var m=a?n(y,g,h,e,t,s):n(g,y,h,t,e,s);if(!(void 0===m?g===y||o(g,y,r,n,s):m)){f=!1;break}p||(p="constructor"==h)}if(f&&!p){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(f=!1)}return s.delete(t),s.delete(e),f}(t,e,r,n,s,u))}(t,e,r,n,Pt,s))}function Rt(t,e,r,n,s,a){var c=r&i,u=t.length,l=e.length;if(u!=l&&!(c&&l>u))return!1;var h=a.get(t);if(h&&a.get(e))return h==e;var d=-1,f=!0,p=r&o?new At:void 0;for(a.set(t,e),a.set(e,t);++d<u;){var g=t[d],y=e[d];if(n)var m=c?n(y,g,d,e,t,a):n(g,y,d,t,e,a);if(void 0!==m){if(m)continue;f=!1;break}if(p){if(!z(e,(function(t,e){if(i=e,!p.has(i)&&(g===t||s(g,t,r,n,a)))return p.push(e);var i}))){f=!1;break}}else if(g!==y&&!s(g,y,r,n,a)){f=!1;break}}return a.delete(t),a.delete(e),f}function Mt(t){return function(t,e,r){var n=e(t);return Wt(t)?n:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(n,r(t))}(t,Zt,Bt)}function Nt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Lt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Vt(t)||function(t){return!!X&&X in t}(t))&&(qt(t)?tt:T).test(Ut(t))}(r)?r:void 0}St.prototype.clear=function(){this.__data__=gt?gt(null):{},this.size=0},St.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},St.prototype.get=function(t){var e=this.__data__;if(gt){var r=e[t];return r===n?void 0:r}return J.call(e,t)?e[t]:void 0},St.prototype.has=function(t){var e=this.__data__;return gt?void 0!==e[t]:J.call(e,t)},St.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=gt&&void 0===e?n:e,this},kt.prototype.clear=function(){this.__data__=[],this.size=0},kt.prototype.delete=function(t){var e=this.__data__,r=Tt(e,t);return!(r<0||(r==e.length-1?e.pop():ot.call(e,r,1),--this.size,0))},kt.prototype.get=function(t){var e=this.__data__,r=Tt(e,t);return r<0?void 0:e[r][1]},kt.prototype.has=function(t){return Tt(this.__data__,t)>-1},kt.prototype.set=function(t,e){var r=this.__data__,n=Tt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},xt.prototype.clear=function(){this.size=0,this.__data__={hash:new St,map:new(ht||kt),string:new St}},xt.prototype.delete=function(t){var e=Nt(this,t).delete(t);return this.size-=e?1:0,e},xt.prototype.get=function(t){return Nt(this,t).get(t)},xt.prototype.has=function(t){return Nt(this,t).has(t)},xt.prototype.set=function(t,e){var r=Nt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},At.prototype.add=At.prototype.push=function(t){return this.__data__.set(t,n),this},At.prototype.has=function(t){return this.__data__.has(t)},It.prototype.clear=function(){this.__data__=new kt,this.size=0},It.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},It.prototype.get=function(t){return this.__data__.get(t)},It.prototype.has=function(t){return this.__data__.has(t)},It.prototype.set=function(t,e){var r=this.__data__;if(r instanceof kt){var n=r.__data__;if(!ht||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new xt(n)}return r.set(t,e),this.size=r.size,this};var Bt=at?function(t){return null==t?[]:(t=Object(t),function(e,r){for(var n=-1,i=null==e?0:e.length,o=0,s=[];++n<i;){var a=e[n];c=a,it.call(t,c)&&(s[o++]=a)}var c;return s}(at(t)))}:function(){return[]},Dt=Ct;function jt(t,e){return!!(e=null==e?s:e)&&("number"==typeof t||C.test(t))&&t>-1&&t%1==0&&t<e}function Ut(t){if(null!=t){try{return Y.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function zt(t,e){return t===e||t!=t&&e!=e}(lt&&Dt(new lt(new ArrayBuffer(1)))!=I||ht&&Dt(new ht)!=g||dt&&Dt(dt.resolve())!=w||ft&&Dt(new ft)!=E||pt&&Dt(new pt)!=x)&&(Dt=function(t){var e=Ct(t),r=e==b?t.constructor:void 0,n=r?Ut(r):"";if(n)switch(n){case yt:return I;case mt:return g;case bt:return w;case wt:return E;case vt:return x}return e});var Ft=Ot(function(){return arguments}())?Ot:function(t){return Kt(t)&&J.call(t,"callee")&&!it.call(t,"callee")},Wt=Array.isArray,$t=ct||function(){return!1};function qt(t){if(!Vt(t))return!1;var e=Ct(t);return e==f||e==p||e==u||e==v}function Ht(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function Vt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Kt(t){return null!=t&&"object"==typeof t}var Gt=U?function(t){return function(e){return t(e)}}(U):function(t){return Kt(t)&&Ht(t.length)&&!!O[Ct(t)]};function Zt(t){return null!=(e=t)&&Ht(e.length)&&!qt(e)?function(t,e){var r=Wt(t),n=!r&&Ft(t),i=!r&&!n&&$t(t),o=!r&&!n&&!i&&Gt(t),s=r||n||i||o,a=s?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],c=a.length;for(var u in t)!e&&!J.call(t,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||jt(u,c))||a.push(u);return a}(t):function(t){if(r=(e=t)&&e.constructor,e!==("function"==typeof r&&r.prototype||G))return ut(t);var e,r,n=[];for(var i in Object(t))J.call(t,i)&&"constructor"!=i&&n.push(i);return n}(t);var e}t.exports=function(t,e){return Pt(t,e)}},2352:t=>{"use strict";const e=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let t=0;t<arguments.length;t++)n[t]=arguments[t];return new r(((r,i)=>{e.errorFirst?n.push((function(t,n){if(e.multiArgs){const e=new Array(arguments.length-1);for(let t=1;t<arguments.length;t++)e[t-1]=arguments[t];t?(e.unshift(t),i(e)):r(e)}else t?i(t):r(n)})):n.push((function(t){if(e.multiArgs){const t=new Array(arguments.length-1);for(let e=0;e<arguments.length;e++)t[e]=arguments[e];r(t)}else r(t)})),t.apply(this,n)}))};t.exports=(t,r)=>{r=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},r);const n=t=>{const e=e=>"string"==typeof e?t===e:e.test(t);return r.include?r.include.some(e):!r.exclude.some(e)};let i;i="function"==typeof t?function(){return r.excludeMain?t.apply(this,arguments):e(t,r).apply(this,arguments)}:Object.create(Object.getPrototypeOf(t));for(const o in t){const s=t[o];i[o]="function"==typeof s&&n(o)?e(s,r):s}return i}},6400:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Component:()=>E,Fragment:()=>_,cloneElement:()=>q,createContext:()=>H,createElement:()=>b,createRef:()=>v,h:()=>b,hydrate:()=>$,isValidElement:()=>s,options:()=>i,render:()=>W,toChildArray:()=>O});var n,i,o,s,a,c,u,l,h,d={},f=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,g=Array.isArray;function y(t,e){for(var r in e)t[r]=e[r];return t}function m(t){var e=t.parentNode;e&&e.removeChild(t)}function b(t,e,r){var i,o,s,a={};for(s in e)"key"==s?i=e[s]:"ref"==s?o=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?n.call(arguments,2):r),"function"==typeof t&&null!=t.defaultProps)for(s in t.defaultProps)void 0===a[s]&&(a[s]=t.defaultProps[s]);return w(t,a,i,o,null)}function w(t,e,r,n,s){var a={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==s?++o:s,__i:-1,__u:0};return null==s&&null!=i.vnode&&i.vnode(a),a}function v(){return{current:null}}function _(t){return t.children}function E(t,e){this.props=t,this.context=e}function S(t,e){if(null==e)return t.__?S(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if(null!=(r=t.__k[e])&&null!=r.__e)return r.__e;return"function"==typeof t.type?S(t):null}function k(t){var e,r;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(r=t.__k[e])&&null!=r.__e){t.__e=t.__c.base=r.__e;break}return k(t)}}function x(t){(!t.__d&&(t.__d=!0)&&a.push(t)&&!A.__r++||c!==i.debounceRendering)&&((c=i.debounceRendering)||u)(A)}function A(){var t,e,r,n,o,s,c,u,h;for(a.sort(l);t=a.shift();)t.__d&&(e=a.length,n=void 0,s=(o=(r=t).__v).__e,u=[],h=[],(c=r.__P)&&((n=y({},o)).__v=o.__v+1,i.vnode&&i.vnode(n),B(c,n,o,r.__n,void 0!==c.ownerSVGElement,32&o.__u?[s]:null,u,null==s?S(o):s,!!(32&o.__u),h),n.__.__k[n.__i]=n,D(u,n,h),n.__e!=s&&k(n)),a.length>e&&a.sort(l));A.__r=0}function I(t,e,r,n,i,o,s,a,c,u,l){var h,p,g,y,m,b=n&&n.__k||f,w=e.length;for(r.__d=c,T(r,e,b),c=r.__d,h=0;h<w;h++)null!=(g=r.__k[h])&&"boolean"!=typeof g&&"function"!=typeof g&&(p=-1===g.__i?d:b[g.__i]||d,g.__i=h,B(t,g,p,i,o,s,a,c,u,l),y=g.__e,g.ref&&p.ref!=g.ref&&(p.ref&&U(p.ref,null,g),l.push(g.ref,g.__c||y,g)),null==m&&null!=y&&(m=y),65536&g.__u||p.__k===g.__k?c=C(g,c,t):"function"==typeof g.type&&void 0!==g.__d?c=g.__d:y&&(c=y.nextSibling),g.__d=void 0,g.__u&=-196609);r.__d=c,r.__e=m}function T(t,e,r){var n,i,o,s,a,c=e.length,u=r.length,l=u,h=0;for(t.__k=[],n=0;n<c;n++)null!=(i=t.__k[n]=null==(i=e[n])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?w(null,i,null,null,i):g(i)?w(_,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?w(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=t,i.__b=t.__b+1,a=P(i,r,s=n+h,l),i.__i=a,o=null,-1!==a&&(l--,(o=r[a])&&(o.__u|=131072)),null==o||null===o.__v?(-1==a&&h--,"function"!=typeof i.type&&(i.__u|=65536)):a!==s&&(a===s+1?h++:a>s?l>c-s?h+=a-s:h--:h=a<s&&a==s-1?a-s:0,a!==n+h&&(i.__u|=65536))):(o=r[n])&&null==o.key&&o.__e&&(o.__e==t.__d&&(t.__d=S(o)),z(o,o,!1),r[n]=null,l--);if(l)for(n=0;n<u;n++)null!=(o=r[n])&&0==(131072&o.__u)&&(o.__e==t.__d&&(t.__d=S(o)),z(o,o))}function C(t,e,r){var n,i;if("function"==typeof t.type){for(n=t.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=t,e=C(n[i],e,r));return e}return t.__e!=e&&(r.insertBefore(t.__e,e||null),e=t.__e),e&&e.nextSibling}function O(t,e){return e=e||[],null==t||"boolean"==typeof t||(g(t)?t.some((function(t){O(t,e)})):e.push(t)),e}function P(t,e,r,n){var i=t.key,o=t.type,s=r-1,a=r+1,c=e[r];if(null===c||c&&i==c.key&&o===c.type)return r;if(n>(null!=c&&0==(131072&c.__u)?1:0))for(;s>=0||a<e.length;){if(s>=0){if((c=e[s])&&0==(131072&c.__u)&&i==c.key&&o===c.type)return s;s--}if(a<e.length){if((c=e[a])&&0==(131072&c.__u)&&i==c.key&&o===c.type)return a;a++}}return-1}function R(t,e,r){"-"===e[0]?t.setProperty(e,null==r?"":r):t[e]=null==r?"":"number"!=typeof r||p.test(e)?r:r+"px"}function M(t,e,r,n,i){var o;t:if("style"===e)if("string"==typeof r)t.style.cssText=r;else{if("string"==typeof n&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||R(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||R(t.style,e,r[e])}else if("o"===e[0]&&"n"===e[1])o=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?n?r.u=n.u:(r.u=Date.now(),t.addEventListener(e,o?L:N,o)):t.removeEventListener(e,o?L:N,o);else{if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==e&&"height"!==e&&"href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&"rowSpan"!==e&&"colSpan"!==e&&"role"!==e&&e in t)try{t[e]=null==r?"":r;break t}catch(t){}"function"==typeof r||(null==r||!1===r&&"-"!==e[4]?t.removeAttribute(e):t.setAttribute(e,r))}}function N(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(i.event?i.event(t):t)}function L(t){return this.l[t.type+!0](i.event?i.event(t):t)}function B(t,e,r,n,o,s,a,c,u,l){var h,d,f,p,m,b,w,v,S,k,x,A,T,C,O,P=e.type;if(void 0!==e.constructor)return null;128&r.__u&&(u=!!(32&r.__u),s=[c=e.__e=r.__e]),(h=i.__b)&&h(e);t:if("function"==typeof P)try{if(v=e.props,S=(h=P.contextType)&&n[h.__c],k=h?S?S.props.value:h.__:n,r.__c?w=(d=e.__c=r.__c).__=d.__E:("prototype"in P&&P.prototype.render?e.__c=d=new P(v,k):(e.__c=d=new E(v,k),d.constructor=P,d.render=F),S&&S.sub(d),d.props=v,d.state||(d.state={}),d.context=k,d.__n=n,f=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=P.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=y({},d.__s)),y(d.__s,P.getDerivedStateFromProps(v,d.__s))),p=d.props,m=d.state,d.__v=e,f)null==P.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==P.getDerivedStateFromProps&&v!==p&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(v,k),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(v,d.__s,k)||e.__v===r.__v)){for(e.__v!==r.__v&&(d.props=v,d.state=d.__s,d.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach((function(t){t&&(t.__=e)})),x=0;x<d._sb.length;x++)d.__h.push(d._sb[x]);d._sb=[],d.__h.length&&a.push(d);break t}null!=d.componentWillUpdate&&d.componentWillUpdate(v,d.__s,k),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(p,m,b)}))}if(d.context=k,d.props=v,d.__P=t,d.__e=!1,A=i.__r,T=0,"prototype"in P&&P.prototype.render){for(d.state=d.__s,d.__d=!1,A&&A(e),h=d.render(d.props,d.state,d.context),C=0;C<d._sb.length;C++)d.__h.push(d._sb[C]);d._sb=[]}else do{d.__d=!1,A&&A(e),h=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++T<25);d.state=d.__s,null!=d.getChildContext&&(n=y(y({},n),d.getChildContext())),f||null==d.getSnapshotBeforeUpdate||(b=d.getSnapshotBeforeUpdate(p,m)),I(t,g(O=null!=h&&h.type===_&&null==h.key?h.props.children:h)?O:[O],e,r,n,o,s,a,c,u,l),d.base=e.__e,e.__u&=-161,d.__h.length&&a.push(d),w&&(d.__E=d.__=null)}catch(t){e.__v=null,u||null!=s?(e.__e=c,e.__u|=u?160:32,s[s.indexOf(c)]=null):(e.__e=r.__e,e.__k=r.__k),i.__e(t,e,r)}else null==s&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=j(r.__e,e,r,n,o,s,a,u,l);(h=i.diffed)&&h(e)}function D(t,e,r){e.__d=void 0;for(var n=0;n<r.length;n++)U(r[n],r[++n],r[++n]);i.__c&&i.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){i.__e(t,e.__v)}}))}function j(t,e,r,i,o,s,a,c,u){var l,h,f,p,y,b,w,v=r.props,_=e.props,E=e.type;if("svg"===E&&(o=!0),null!=s)for(l=0;l<s.length;l++)if((y=s[l])&&"setAttribute"in y==!!E&&(E?y.localName===E:3===y.nodeType)){t=y,s[l]=null;break}if(null==t){if(null===E)return document.createTextNode(_);t=o?document.createElementNS("http://www.w3.org/2000/svg",E):document.createElement(E,_.is&&_),s=null,c=!1}if(null===E)v===_||c&&t.data===_||(t.data=_);else{if(s=s&&n.call(t.childNodes),v=r.props||d,!c&&null!=s)for(v={},l=0;l<t.attributes.length;l++)v[(y=t.attributes[l]).name]=y.value;for(l in v)y=v[l],"children"==l||("dangerouslySetInnerHTML"==l?f=y:"key"===l||l in _||M(t,l,null,y,o));for(l in _)y=_[l],"children"==l?p=y:"dangerouslySetInnerHTML"==l?h=y:"value"==l?b=y:"checked"==l?w=y:"key"===l||c&&"function"!=typeof y||v[l]===y||M(t,l,y,v[l],o);if(h)c||f&&(h.__html===f.__html||h.__html===t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(f&&(t.innerHTML=""),I(t,g(p)?p:[p],e,r,i,o&&"foreignObject"!==E,s,a,s?s[0]:r.__k&&S(r,0),c,u),null!=s)for(l=s.length;l--;)null!=s[l]&&m(s[l]);c||(l="value",void 0!==b&&(b!==t[l]||"progress"===E&&!b||"option"===E&&b!==v[l])&&M(t,l,b,v[l],!1),l="checked",void 0!==w&&w!==t[l]&&M(t,l,w,v[l],!1))}return t}function U(t,e,r){try{"function"==typeof t?t(e):t.current=e}catch(t){i.__e(t,r)}}function z(t,e,r){var n,o;if(i.unmount&&i.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||U(n,null,e)),null!=(n=t.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(t){i.__e(t,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(o=0;o<n.length;o++)n[o]&&z(n[o],e,r||"function"!=typeof t.type);r||null==t.__e||m(t.__e),t.__=t.__e=t.__d=void 0}function F(t,e,r){return this.constructor(t,r)}function W(t,e,r){var o,s,a,c;i.__&&i.__(t,e),s=(o="function"==typeof r)?null:r&&r.__k||e.__k,a=[],c=[],B(e,t=(!o&&r||e).__k=b(_,null,[t]),s||d,d,void 0!==e.ownerSVGElement,!o&&r?[r]:s?null:e.firstChild?n.call(e.childNodes):null,a,!o&&r?r:s?s.__e:e.firstChild,o,c),D(a,t,c)}function $(t,e){W(t,e,$)}function q(t,e,r){var i,o,s,a,c=y({},t.props);for(s in t.type&&t.type.defaultProps&&(a=t.type.defaultProps),e)"key"==s?i=e[s]:"ref"==s?o=e[s]:c[s]=void 0===e[s]&&void 0!==a?a[s]:e[s];return arguments.length>2&&(c.children=arguments.length>3?n.call(arguments,2):r),w(t.type,c,i||t.key,o||t.ref,null)}function H(t,e){var r={__c:e="__cC"+h++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var r,n;return this.getChildContext||(r=[],(n={})[e]=this,this.getChildContext=function(){return n},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&r.some((function(t){t.__e=!0,x(t)}))},this.sub=function(t){r.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){r.splice(r.indexOf(t),1),e&&e.call(t)}}),t.children}};return r.Provider.__=r.Consumer.contextType=r}n=f.slice,i={__e:function(t,e,r,n){for(var i,o,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(t)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(t,n||{}),s=i.__d),s)return i.__E=i}catch(e){t=e}throw t}},o=0,s=function(t){return null!=t&&null==t.constructor},E.prototype.setState=function(t,e){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=y({},this.state),"function"==typeof t&&(t=t(y({},r),this.props)),t&&y(r,t),null!=t&&this.__v&&(e&&this._sb.push(e),x(this))},E.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),x(this))},E.prototype.render=_,a=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,l=function(t,e){return t.__v.__b-e.__v.__b},A.__r=0,h=0},396:(t,e,r)=>{"use strict";r.r(e),r.d(e,{useCallback:()=>k,useContext:()=>x,useDebugValue:()=>A,useEffect:()=>w,useErrorBoundary:()=>I,useId:()=>T,useImperativeHandle:()=>E,useLayoutEffect:()=>v,useMemo:()=>S,useReducer:()=>b,useRef:()=>_,useState:()=>m});var n,i,o,s,a=r(6400),c=0,u=[],l=[],h=a.options.__b,d=a.options.__r,f=a.options.diffed,p=a.options.__c,g=a.options.unmount;function y(t,e){a.options.__h&&a.options.__h(i,t,c||e),c=0;var r=i.__H||(i.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:l}),r.__[t]}function m(t){return c=1,b(L,t)}function b(t,e,r){var o=y(n++,2);if(o.t=t,!o.__c&&(o.__=[r?r(e):L(void 0,e),function(t){var e=o.__N?o.__N[0]:o.__[0],r=o.t(e,t);e!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=i,!i.u)){var s=function(t,e,r){if(!o.__c.__H)return!0;var n=o.__c.__H.__.filter((function(t){return t.__c}));if(n.every((function(t){return!t.__N})))return!a||a.call(this,t,e,r);var i=!1;return n.forEach((function(t){if(t.__N){var e=t.__[0];t.__=t.__N,t.__N=void 0,e!==t.__[0]&&(i=!0)}})),!(!i&&o.__c.props===t)&&(!a||a.call(this,t,e,r))};i.u=!0;var a=i.shouldComponentUpdate,c=i.componentWillUpdate;i.componentWillUpdate=function(t,e,r){if(this.__e){var n=a;a=void 0,s(t,e,r),a=n}c&&c.call(this,t,e,r)},i.shouldComponentUpdate=s}return o.__N||o.__}function w(t,e){var r=y(n++,3);!a.options.__s&&N(r.__H,e)&&(r.__=t,r.i=e,i.__H.__h.push(r))}function v(t,e){var r=y(n++,4);!a.options.__s&&N(r.__H,e)&&(r.__=t,r.i=e,i.__h.push(r))}function _(t){return c=5,S((function(){return{current:t}}),[])}function E(t,e,r){c=6,v((function(){return"function"==typeof t?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0}),null==r?r:r.concat(t))}function S(t,e){var r=y(n++,7);return N(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function k(t,e){return c=8,S((function(){return t}),e)}function x(t){var e=i.context[t.__c],r=y(n++,9);return r.c=t,e?(null==r.__&&(r.__=!0,e.sub(i)),e.props.value):t.__}function A(t,e){a.options.useDebugValue&&a.options.useDebugValue(e?e(t):t)}function I(t){var e=y(n++,10),r=m();return e.__=t,i.componentDidCatch||(i.componentDidCatch=function(t,n){e.__&&e.__(t,n),r[1](t)}),[r[0],function(){r[1](void 0)}]}function T(){var t=y(n++,11);if(!t.__){for(var e=i.__v;null!==e&&!e.__m&&null!==e.__;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function C(){for(var t;t=u.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(R),t.__H.__h.forEach(M),t.__H.__h=[]}catch(e){t.__H.__h=[],a.options.__e(e,t.__v)}}a.options.__b=function(t){i=null,h&&h(t)},a.options.__r=function(t){d&&d(t),n=0;var e=(i=t.__c).__H;e&&(o===i?(e.__h=[],i.__h=[],e.__.forEach((function(t){t.__N&&(t.__=t.__N),t.__V=l,t.__N=t.i=void 0}))):(e.__h.forEach(R),e.__h.forEach(M),e.__h=[],n=0)),o=i},a.options.diffed=function(t){f&&f(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(1!==u.push(e)&&s===a.options.requestAnimationFrame||((s=a.options.requestAnimationFrame)||P)(C)),e.__H.__.forEach((function(t){t.i&&(t.__H=t.i),t.__V!==l&&(t.__=t.__V),t.i=void 0,t.__V=l}))),o=i=null},a.options.__c=function(t,e){e.some((function(t){try{t.__h.forEach(R),t.__h=t.__h.filter((function(t){return!t.__||M(t)}))}catch(r){e.some((function(t){t.__h&&(t.__h=[])})),e=[],a.options.__e(r,t.__v)}})),p&&p(t,e)},a.options.unmount=function(t){g&&g(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach((function(t){try{R(t)}catch(t){e=t}})),r.__H=void 0,e&&a.options.__e(e,r.__v))};var O="function"==typeof requestAnimationFrame;function P(t){var e,r=function(){clearTimeout(n),O&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);O&&(e=requestAnimationFrame(r))}function R(t){var e=i,r=t.__c;"function"==typeof r&&(t.__c=void 0,r()),i=e}function M(t){var e=i;t.__c=t.__(),i=e}function N(t,e){return!t||t.length!==e.length||e.some((function(e,r){return e!==t[r]}))}function L(t,e){return"function"==typeof e?e(t):e}},4155:t=>{var e,r,n=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var a,c=[],u=!1,l=-1;function h(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&d())}function d(){if(!u){var t=s(h);u=!0;for(var e=c.length;e;){for(a=c,c=[];++l<e;)a&&a[l].run();l=-1,e=c.length}a=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new f(t,e)),1!==c.length||u||s(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},2592:(t,e,r)=>{const n=r(7138),i=r(5115),o=r(6907),s=r(3776);function a(t,e,r,o,s){const a=[].slice.call(arguments,1),c=a.length,u="function"==typeof a[c-1];if(!u&&!n())throw new Error("Callback required as last argument");if(!u){if(c<1)throw new Error("Too few arguments provided");return 1===c?(r=e,e=o=void 0):2!==c||e.getContext||(o=r,r=e,e=void 0),new Promise((function(n,s){try{const s=i.create(r,o);n(t(s,e,o))}catch(t){s(t)}}))}if(c<2)throw new Error("Too few arguments provided");2===c?(s=r,r=e,e=o=void 0):3===c&&(e.getContext&&void 0===s?(s=o,o=void 0):(s=o,o=r,r=e,e=void 0));try{const n=i.create(r,o);s(null,t(n,e,o))}catch(t){s(t)}}e.create=i.create,e.toCanvas=a.bind(null,o.render),e.toDataURL=a.bind(null,o.renderToDataURL),e.toString=a.bind(null,(function(t,e,r){return s.render(t,r)}))},7138:t=>{t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},1845:(t,e,r)=>{const n=r(242).getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];const e=Math.floor(t/7)+2,r=n(t),i=145===r?26:2*Math.ceil((r-13)/(2*e-2)),o=[r-7];for(let t=1;t<e-1;t++)o[t]=o[t-1]-i;return o.push(6),o.reverse()},e.getPositions=function(t){const r=[],n=e.getRowColCoords(t),i=n.length;for(let t=0;t<i;t++)for(let e=0;e<i;e++)0===t&&0===e||0===t&&e===i-1||t===i-1&&0===e||r.push([n[t],n[e]]);return r}},8260:(t,e,r)=>{const n=r(6910),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(t){this.mode=n.ALPHANUMERIC,this.data=t}o.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let r=45*i.indexOf(this.data[e]);r+=i.indexOf(this.data[e+1]),t.put(r,11)}this.data.length%2&&t.put(i.indexOf(this.data[e]),6)},t.exports=o},7245:t=>{function e(){this.buffer=[],this.length=0}e.prototype={get:function(t){const e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(let r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=e},3280:t=>{function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}e.prototype.set=function(t,e,r,n){const i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)},e.prototype.get=function(t,e){return this.data[t*this.size+e]},e.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r},e.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=e},3424:(t,e,r)=>{const n=r(2378),i=r(6910);function o(t){this.mode=i.BYTE,"string"==typeof t&&(t=n(t)),this.data=new Uint8Array(t)}o.getBitsLength=function(t){return 8*t},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)},t.exports=o},5393:(t,e,r)=>{const n=r(4908),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case n.L:return i[4*(t-1)+0];case n.M:return i[4*(t-1)+1];case n.Q:return i[4*(t-1)+2];case n.H:return i[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case n.L:return o[4*(t-1)+0];case n.M:return o[4*(t-1)+1];case n.Q:return o[4*(t-1)+2];case n.H:return o[4*(t-1)+3];default:return}}},4908:(t,e)=>{e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(t){return r}}},6526:(t,e,r)=>{const n=r(242).getSymbolSize;e.getPositions=function(t){const e=n(t);return[[0,0],[e-7,0],[0,e-7]]}},1642:(t,e,r)=>{const n=r(242),i=n.getBCHDigit(1335);e.getEncodedBits=function(t,e){const r=t.bit<<3|e;let o=r<<10;for(;n.getBCHDigit(o)-i>=0;)o^=1335<<n.getBCHDigit(o)-i;return 21522^(r<<10|o)}},9729:(t,e)=>{const r=new Uint8Array(512),n=new Uint8Array(256);!function(){let t=1;for(let e=0;e<255;e++)r[e]=t,n[t]=e,t<<=1,256&t&&(t^=285);for(let t=255;t<512;t++)r[t]=r[t-255]}(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return n[t]},e.exp=function(t){return r[t]},e.mul=function(t,e){return 0===t||0===e?0:r[n[t]+n[e]]}},5442:(t,e,r)=>{const n=r(6910),i=r(242);function o(t){this.mode=n.KANJI,this.data=t}o.getBitsLength=function(t){return 13*t},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=i.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),t.put(r,13)}},t.exports=o},7126:(t,e)=>{e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function r(t,r,n){switch(t){case e.Patterns.PATTERN000:return(r+n)%2==0;case e.Patterns.PATTERN001:return r%2==0;case e.Patterns.PATTERN010:return n%3==0;case e.Patterns.PATTERN011:return(r+n)%3==0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2==0;case e.Patterns.PATTERN101:return r*n%2+r*n%3==0;case e.Patterns.PATTERN110:return(r*n%2+r*n%3)%2==0;case e.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){const e=t.size;let r=0,n=0,i=0,o=null,s=null;for(let a=0;a<e;a++){n=i=0,o=s=null;for(let c=0;c<e;c++){let e=t.get(a,c);e===o?n++:(n>=5&&(r+=n-5+3),o=e,n=1),e=t.get(c,a),e===s?i++:(i>=5&&(r+=i-5+3),s=e,i=1)}n>=5&&(r+=n-5+3),i>=5&&(r+=i-5+3)}return r},e.getPenaltyN2=function(t){const e=t.size;let r=0;for(let n=0;n<e-1;n++)for(let i=0;i<e-1;i++){const e=t.get(n,i)+t.get(n,i+1)+t.get(n+1,i)+t.get(n+1,i+1);4!==e&&0!==e||r++}return 3*r},e.getPenaltyN3=function(t){const e=t.size;let r=0,n=0,i=0;for(let o=0;o<e;o++){n=i=0;for(let s=0;s<e;s++)n=n<<1&2047|t.get(o,s),s>=10&&(1488===n||93===n)&&r++,i=i<<1&2047|t.get(s,o),s>=10&&(1488===i||93===i)&&r++}return 40*r},e.getPenaltyN4=function(t){let e=0;const r=t.data.length;for(let n=0;n<r;n++)e+=t.data[n];return 10*Math.abs(Math.ceil(100*e/r/5)-10)},e.applyMask=function(t,e){const n=e.size;for(let i=0;i<n;i++)for(let o=0;o<n;o++)e.isReserved(o,i)||e.xor(o,i,r(t,o,i))},e.getBestMask=function(t,r){const n=Object.keys(e.Patterns).length;let i=0,o=1/0;for(let s=0;s<n;s++){r(s),e.applyMask(s,t);const n=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(s,t),n<o&&(o=n,i=s)}return i}},6910:(t,e,r)=>{const n=r(3114),i=r(7007);e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!n.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return i.testNumeric(t)?e.NUMERIC:i.testAlphanumeric(t)?e.ALPHANUMERIC:i.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(t){return r}}},1085:(t,e,r)=>{const n=r(6910);function i(t){this.mode=n.NUMERIC,this.data=t.toString()}i.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){let e,r,n;for(e=0;e+3<=this.data.length;e+=3)r=this.data.substr(e,3),n=parseInt(r,10),t.put(n,10);const i=this.data.length-e;i>0&&(r=this.data.substr(e),n=parseInt(r,10),t.put(n,3*i+1))},t.exports=i},6143:(t,e,r)=>{const n=r(9729);e.mul=function(t,e){const r=new Uint8Array(t.length+e.length-1);for(let i=0;i<t.length;i++)for(let o=0;o<e.length;o++)r[i+o]^=n.mul(t[i],e[o]);return r},e.mod=function(t,e){let r=new Uint8Array(t);for(;r.length-e.length>=0;){const t=r[0];for(let i=0;i<e.length;i++)r[i]^=n.mul(e[i],t);let i=0;for(;i<r.length&&0===r[i];)i++;r=r.slice(i)}return r},e.generateECPolynomial=function(t){let r=new Uint8Array([1]);for(let i=0;i<t;i++)r=e.mul(r,new Uint8Array([1,n.exp(i)]));return r}},5115:(t,e,r)=>{const n=r(242),i=r(4908),o=r(7245),s=r(3280),a=r(1845),c=r(6526),u=r(7126),l=r(5393),h=r(2882),d=r(3103),f=r(1642),p=r(6910),g=r(6130);function y(t,e,r){const n=t.size,i=f.getEncodedBits(e,r);let o,s;for(o=0;o<15;o++)s=1==(i>>o&1),o<6?t.set(o,8,s,!0):o<8?t.set(o+1,8,s,!0):t.set(n-15+o,8,s,!0),o<8?t.set(8,n-o-1,s,!0):o<9?t.set(8,15-o-1+1,s,!0):t.set(8,15-o-1,s,!0);t.set(n-8,8,1,!0)}function m(t,e,r,i){let f;if(Array.isArray(t))f=g.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");{let n=e;if(!n){const e=g.rawSplit(t);n=d.getBestVersionForData(e,r)}f=g.fromString(t,n||40)}}const m=d.getBestVersionForData(f,r);if(!m)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<m)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+m+".\n")}else e=m;const b=function(t,e,r){const i=new o;r.forEach((function(e){i.put(e.mode.bit,4),i.put(e.getLength(),p.getCharCountIndicator(e.mode,t)),e.write(i)}));const s=8*(n.getSymbolTotalCodewords(t)-l.getTotalCodewordsCount(t,e));for(i.getLengthInBits()+4<=s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);const a=(s-i.getLengthInBits())/8;for(let t=0;t<a;t++)i.put(t%2?17:236,8);return function(t,e,r){const i=n.getSymbolTotalCodewords(e),o=i-l.getTotalCodewordsCount(e,r),s=l.getBlocksCount(e,r),a=s-i%s,c=Math.floor(i/s),u=Math.floor(o/s),d=u+1,f=c-u,p=new h(f);let g=0;const y=new Array(s),m=new Array(s);let b=0;const w=new Uint8Array(t.buffer);for(let t=0;t<s;t++){const e=t<a?u:d;y[t]=w.slice(g,g+e),m[t]=p.encode(y[t]),g+=e,b=Math.max(b,e)}const v=new Uint8Array(i);let _,E,S=0;for(_=0;_<b;_++)for(E=0;E<s;E++)_<y[E].length&&(v[S++]=y[E][_]);for(_=0;_<f;_++)for(E=0;E<s;E++)v[S++]=m[E][_];return v}(i,t,e)}(e,r,f),w=n.getSymbolSize(e),v=new s(w);return function(t,e){const r=t.size,n=c.getPositions(e);for(let e=0;e<n.length;e++){const i=n[e][0],o=n[e][1];for(let e=-1;e<=7;e++)if(!(i+e<=-1||r<=i+e))for(let n=-1;n<=7;n++)o+n<=-1||r<=o+n||(e>=0&&e<=6&&(0===n||6===n)||n>=0&&n<=6&&(0===e||6===e)||e>=2&&e<=4&&n>=2&&n<=4?t.set(i+e,o+n,!0,!0):t.set(i+e,o+n,!1,!0))}}(v,e),function(t){const e=t.size;for(let r=8;r<e-8;r++){const e=r%2==0;t.set(r,6,e,!0),t.set(6,r,e,!0)}}(v),function(t,e){const r=a.getPositions(e);for(let e=0;e<r.length;e++){const n=r[e][0],i=r[e][1];for(let e=-2;e<=2;e++)for(let r=-2;r<=2;r++)-2===e||2===e||-2===r||2===r||0===e&&0===r?t.set(n+e,i+r,!0,!0):t.set(n+e,i+r,!1,!0)}}(v,e),y(v,r,0),e>=7&&function(t,e){const r=t.size,n=d.getEncodedBits(e);let i,o,s;for(let e=0;e<18;e++)i=Math.floor(e/3),o=e%3+r-8-3,s=1==(n>>e&1),t.set(i,o,s,!0),t.set(o,i,s,!0)}(v,e),function(t,e){const r=t.size;let n=-1,i=r-1,o=7,s=0;for(let a=r-1;a>0;a-=2)for(6===a&&a--;;){for(let r=0;r<2;r++)if(!t.isReserved(i,a-r)){let n=!1;s<e.length&&(n=1==(e[s]>>>o&1)),t.set(i,a-r,n),o--,-1===o&&(s++,o=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}(v,b),isNaN(i)&&(i=u.getBestMask(v,y.bind(null,v,r))),u.applyMask(i,v),y(v,r,i),{modules:v,version:e,errorCorrectionLevel:r,maskPattern:i,segments:f}}e.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");let r,o,s=i.M;return void 0!==e&&(s=i.from(e.errorCorrectionLevel,i.M),r=d.from(e.version),o=u.from(e.maskPattern),e.toSJISFunc&&n.setToSJISFunction(e.toSJISFunc)),m(t,r,s,o)}},2882:(t,e,r)=>{const n=r(6143);function i(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(t){this.degree=t,this.genPoly=n.generateECPolynomial(this.degree)},i.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const r=n.mod(e,this.genPoly),i=this.degree-r.length;if(i>0){const t=new Uint8Array(this.degree);return t.set(r,i),t}return r},t.exports=i},7007:(t,e)=>{const r="[0-9]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+")(?:.|[\r\n]))+";e.KANJI=new RegExp(n,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(i,"g"),e.NUMERIC=new RegExp(r,"g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const o=new RegExp("^"+n+"$"),s=new RegExp("^"+r+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return o.test(t)},e.testNumeric=function(t){return s.test(t)},e.testAlphanumeric=function(t){return a.test(t)}},6130:(t,e,r)=>{const n=r(6910),i=r(1085),o=r(8260),s=r(3424),a=r(5442),c=r(7007),u=r(242),l=r(5987);function h(t){return unescape(encodeURIComponent(t)).length}function d(t,e,r){const n=[];let i;for(;null!==(i=t.exec(r));)n.push({data:i[0],index:i.index,mode:e,length:i[0].length});return n}function f(t){const e=d(c.NUMERIC,n.NUMERIC,t),r=d(c.ALPHANUMERIC,n.ALPHANUMERIC,t);let i,o;return u.isKanjiModeEnabled()?(i=d(c.BYTE,n.BYTE,t),o=d(c.KANJI,n.KANJI,t)):(i=d(c.BYTE_KANJI,n.BYTE,t),o=[]),e.concat(r,i,o).sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function p(t,e){switch(e){case n.NUMERIC:return i.getBitsLength(t);case n.ALPHANUMERIC:return o.getBitsLength(t);case n.KANJI:return a.getBitsLength(t);case n.BYTE:return s.getBitsLength(t)}}function g(t,e){let r;const c=n.getBestModeForData(t);if(r=n.from(e,c),r!==n.BYTE&&r.bit<c.bit)throw new Error('"'+t+'" cannot be encoded with mode '+n.toString(r)+".\n Suggested mode is: "+n.toString(c));switch(r!==n.KANJI||u.isKanjiModeEnabled()||(r=n.BYTE),r){case n.NUMERIC:return new i(t);case n.ALPHANUMERIC:return new o(t);case n.KANJI:return new a(t);case n.BYTE:return new s(t)}}e.fromArray=function(t){return t.reduce((function(t,e){return"string"==typeof e?t.push(g(e,null)):e.data&&t.push(g(e.data,e.mode)),t}),[])},e.fromString=function(t,r){const i=function(t){const e=[];for(let r=0;r<t.length;r++){const i=t[r];switch(i.mode){case n.NUMERIC:e.push([i,{data:i.data,mode:n.ALPHANUMERIC,length:i.length},{data:i.data,mode:n.BYTE,length:i.length}]);break;case n.ALPHANUMERIC:e.push([i,{data:i.data,mode:n.BYTE,length:i.length}]);break;case n.KANJI:e.push([i,{data:i.data,mode:n.BYTE,length:h(i.data)}]);break;case n.BYTE:e.push([{data:i.data,mode:n.BYTE,length:h(i.data)}])}}return e}(f(t,u.isKanjiModeEnabled())),o=function(t,e){const r={},i={start:{}};let o=["start"];for(let s=0;s<t.length;s++){const a=t[s],c=[];for(let t=0;t<a.length;t++){const u=a[t],l=""+s+t;c.push(l),r[l]={node:u,lastCount:0},i[l]={};for(let t=0;t<o.length;t++){const s=o[t];r[s]&&r[s].node.mode===u.mode?(i[s][l]=p(r[s].lastCount+u.length,u.mode)-p(r[s].lastCount,u.mode),r[s].lastCount+=u.length):(r[s]&&(r[s].lastCount=u.length),i[s][l]=p(u.length,u.mode)+4+n.getCharCountIndicator(u.mode,e))}}o=c}for(let t=0;t<o.length;t++)i[o[t]].end=0;return{map:i,table:r}}(i,r),s=l.find_path(o.map,"start","end"),a=[];for(let t=1;t<s.length-1;t++)a.push(o.table[s[t]].node);return e.fromArray(a.reduce((function(t,e){const r=t.length-1>=0?t[t.length-1]:null;return r&&r.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[]))},e.rawSplit=function(t){return e.fromArray(f(t,u.isKanjiModeEnabled()))}},242:(t,e)=>{let r;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return n[t]},e.getBCHDigit=function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');r=t},e.isKanjiModeEnabled=function(){return void 0!==r},e.toSJIS=function(t){return r(t)}},3114:(t,e)=>{e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},3103:(t,e,r)=>{const n=r(242),i=r(5393),o=r(4908),s=r(6910),a=r(3114),c=n.getBCHDigit(7973);function u(t,e){return s.getCharCountIndicator(t,e)+4}function l(t,e){let r=0;return t.forEach((function(t){const n=u(t.mode,e);r+=n+t.getBitsLength()})),r}e.from=function(t,e){return a.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,r){if(!a.isValid(t))throw new Error("Invalid QR Code version");void 0===r&&(r=s.BYTE);const o=8*(n.getSymbolTotalCodewords(t)-i.getTotalCodewordsCount(t,e));if(r===s.MIXED)return o;const c=o-u(r,t);switch(r){case s.NUMERIC:return Math.floor(c/10*3);case s.ALPHANUMERIC:return Math.floor(c/11*2);case s.KANJI:return Math.floor(c/13);case s.BYTE:default:return Math.floor(c/8)}},e.getBestVersionForData=function(t,r){let n;const i=o.from(r,o.M);if(Array.isArray(t)){if(t.length>1)return function(t,r){for(let n=1;n<=40;n++)if(l(t,n)<=e.getCapacity(n,r,s.MIXED))return n}(t,i);if(0===t.length)return 1;n=t[0]}else n=t;return function(t,r,n){for(let i=1;i<=40;i++)if(r<=e.getCapacity(i,n,t))return i}(n.mode,n.getLength(),i)},e.getEncodedBits=function(t){if(!a.isValid(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;for(;n.getBCHDigit(e)-c>=0;)e^=7973<<n.getBCHDigit(e)-c;return t<<12|e}},6907:(t,e,r)=>{const n=r(5169);e.render=function(t,e,r){let i=r,o=e;void 0!==i||e&&e.getContext||(i=e,e=void 0),e||(o=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),i=n.getOptions(i);const s=n.getImageWidth(t.modules.size,i),a=o.getContext("2d"),c=a.createImageData(s,s);return n.qrToImageData(c.data,t,i),function(t,e,r){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=r,e.width=r,e.style.height=r+"px",e.style.width=r+"px"}(a,o,s),a.putImageData(c,0,0),o},e.renderToDataURL=function(t,r,n){let i=n;void 0!==i||r&&r.getContext||(i=r,r=void 0),i||(i={});const o=e.render(t,r,i),s=i.type||"image/png",a=i.rendererOpts||{};return o.toDataURL(s,a.quality)}},3776:(t,e,r)=>{const n=r(5169);function i(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function o(t,e,r){let n=t+e;return void 0!==r&&(n+=" "+r),n}e.render=function(t,e,r){const s=n.getOptions(e),a=t.modules.size,c=t.modules.data,u=a+2*s.margin,l=s.color.light.a?"<path "+i(s.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",h="<path "+i(s.color.dark,"stroke")+' d="'+function(t,e,r){let n="",i=0,s=!1,a=0;for(let c=0;c<t.length;c++){const u=Math.floor(c%e),l=Math.floor(c/e);u||s||(s=!0),t[c]?(a++,c>0&&u>0&&t[c-1]||(n+=s?o("M",u+r,.5+l+r):o("m",i,0),i=0,s=!1),u+1<e&&t[c+1]||(n+=o("h",a),a=0)):i++}return n}(c,a,s.margin)+'"/>',d='viewBox="0 0 '+u+" "+u+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+h+"</svg>\n";return"function"==typeof r&&r(null,f),f}},5169:(t,e)=>{function r(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push("F","F");const r=parseInt(e.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});const e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,n=t.width&&t.width>=21?t.width:void 0,i=t.scale||4;return{width:n,scale:n?4:i,margin:e,color:{dark:r(t.color.dark||"#000000ff"),light:r(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,r){const n=e.getScale(t,r);return Math.floor((t+2*r.margin)*n)},e.qrToImageData=function(t,r,n){const i=r.modules.size,o=r.modules.data,s=e.getScale(i,n),a=Math.floor((i+2*n.margin)*s),c=n.margin*s,u=[n.color.light,n.color.dark];for(let e=0;e<a;e++)for(let r=0;r<a;r++){let l=4*(e*a+r),h=n.color.light;e>=c&&r>=c&&e<a-c&&r<a-c&&(h=u[o[Math.floor((e-c)/s)*i+Math.floor((r-c)/s)]?1:0]),t[l++]=h.r,t[l++]=h.g,t[l++]=h.b,t[l]=h.a}}},7563:(t,e,r)=>{"use strict";const n=r(610),i=r(4020),o=r(500),s=r(2806),a=Symbol("encodeFragmentIdentifier");function c(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(t,e){return e.encode?e.strict?n(t):encodeURIComponent(t):t}function l(t,e){return e.decode?i(t):t}function h(t){return Array.isArray(t)?t.sort():"object"==typeof t?h(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function d(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function f(t){const e=(t=d(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function p(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function g(t,e){c((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,n)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case"bracket":return(t,r,n)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"colon-list-separator":return(t,r,n)=>{e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"comma":case"separator":return(e,r,n)=>{const i="string"==typeof r&&r.includes(t.arrayFormatSeparator),o="string"==typeof r&&!i&&l(r,t).includes(t.arrayFormatSeparator);r=o?l(r,t):r;const s=i||o?r.split(t.arrayFormatSeparator).map((e=>l(e,t))):null===r?r:l(r,t);n[e]=s};case"bracket-separator":return(e,r,n)=>{const i=/(\[\])$/.test(e);if(e=e.replace(/\[\]$/,""),!i)return void(n[e]=r?l(r,t):r);const o=null===r?[]:r.split(t.arrayFormatSeparator).map((e=>l(e,t)));void 0!==n[e]?n[e]=[].concat(n[e],o):n[e]=o};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e),n=Object.create(null);if("string"!=typeof t)return n;if(!(t=t.trim().replace(/^[?#&]/,"")))return n;for(const i of t.split("&")){if(""===i)continue;let[t,s]=o(e.decode?i.replace(/\+/g," "):i,"=");s=void 0===s?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?s:l(s,e),r(l(t,e),s,n)}for(const t of Object.keys(n)){const r=n[t];if("object"==typeof r&&null!==r)for(const t of Object.keys(r))r[t]=p(r[t],e);else n[t]=p(r,e)}return!1===e.sort?n:(!0===e.sort?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce(((t,e)=>{const r=n[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=h(r):t[e]=r,t}),Object.create(null))}e.extract=f,e.parse=g,e.stringify=(t,e)=>{if(!t)return"";c((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const r=r=>e.skipNull&&null==t[r]||e.skipEmptyString&&""===t[r],n=function(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{const i=r.length;return void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),"[",i,"]"].join("")]:[...r,[u(e,t),"[",u(i,t),"]=",u(n,t)].join("")]};case"bracket":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),"[]"].join("")]:[...r,[u(e,t),"[]=",u(n,t)].join("")];case"colon-list-separator":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),":list="].join("")]:[...r,[u(e,t),":list=",u(n,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===t.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length?[[u(r,t),e,u(i,t)].join("")]:[[n,u(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,u(e,t)]:[...r,[u(e,t),"=",u(n,t)].join("")]}}(e),i={};for(const e of Object.keys(t))r(e)||(i[e]=t[e]);const o=Object.keys(i);return!1!==e.sort&&o.sort(e.sort),o.map((r=>{const i=t[r];return void 0===i?"":null===i?u(r,e):Array.isArray(i)?0===i.length&&"bracket-separator"===e.arrayFormat?u(r,e)+"[]":i.reduce(n(r),[]).join("&"):u(r,e)+"="+u(i,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[r,n]=o(t,"#");return Object.assign({url:r.split("?")[0]||"",query:g(f(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:l(n,e)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0,[a]:!0},r);const n=d(t.url).split("?")[0]||"",i=e.extract(t.url),o=e.parse(i,{sort:!1}),s=Object.assign(o,t.query);let c=e.stringify(s,r);c&&(c=`?${c}`);let l=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(t.url);return t.fragmentIdentifier&&(l=`#${r[a]?u(t.fragmentIdentifier,r):t.fragmentIdentifier}`),`${n}${c}${l}`},e.pick=(t,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[a]:!1},n);const{url:i,query:o,fragmentIdentifier:c}=e.parseUrl(t,n);return e.stringifyUrl({url:i,query:s(o,r),fragmentIdentifier:c},n)},e.exclude=(t,r,n)=>{const i=Array.isArray(r)?t=>!r.includes(t):(t,e)=>!r(t,e);return e.pick(t,i,n)}},5346:t=>{"use strict";function e(t){try{return JSON.stringify(t)}catch(t){return'"[Circular]"'}}t.exports=function(t,r,n){var i=n&&n.stringify||e;if("object"==typeof t&&null!==t){var o=r.length+1;if(1===o)return t;var s=new Array(o);s[0]=i(t);for(var a=1;a<o;a++)s[a]=i(r[a]);return s.join(" ")}if("string"!=typeof t)return t;var c=r.length;if(0===c)return t;for(var u="",l=0,h=-1,d=t&&t.length||0,f=0;f<d;){if(37===t.charCodeAt(f)&&f+1<d){switch(h=h>-1?h:0,t.charCodeAt(f+1)){case 100:case 102:if(l>=c)break;if(null==r[l])break;h<f&&(u+=t.slice(h,f)),u+=Number(r[l]),h=f+2,f++;break;case 105:if(l>=c)break;if(null==r[l])break;h<f&&(u+=t.slice(h,f)),u+=Math.floor(Number(r[l])),h=f+2,f++;break;case 79:case 111:case 106:if(l>=c)break;if(void 0===r[l])break;h<f&&(u+=t.slice(h,f));var p=typeof r[l];if("string"===p){u+="'"+r[l]+"'",h=f+2,f++;break}if("function"===p){u+=r[l].name||"<anonymous>",h=f+2,f++;break}u+=i(r[l]),h=f+2,f++;break;case 115:if(l>=c)break;h<f&&(u+=t.slice(h,f)),u+=String(r[l]),h=f+2,f++;break;case 37:h<f&&(u+=t.slice(h,f)),u+="%",h=f+2,f++,l--}++l}++f}return-1===h?t:(h<d&&(u+=t.slice(h)),u)}},4281:t=>{"use strict";var e={};function r(t,r,n){n||(n=Error);var i=function(t){var e,n;function i(e,n,i){return t.call(this,function(t,e,n){return"string"==typeof r?r:r(t,e,n)}(e,n,i))||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=t,e[t]=i}function n(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}r("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(t,e,r){var i,o,s,a,c;if("string"==typeof e&&(o="not ",e.substr(0,4)===o)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-9,r)===e}(t," argument"))s="The ".concat(t," ").concat(i," ").concat(n(e,"type"));else{var u=("number"!=typeof c&&(c=0),c+1>(a=t).length||-1===a.indexOf(".",c)?"argument":"property");s='The "'.concat(t,'" ').concat(u," ").concat(i," ").concat(n(e,"type"))}return s+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.q=e},6753:(t,e,r)=>{"use strict";var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=u;var i=r(9481),o=r(4229);r(5717)(u,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(t){if(!(this instanceof u))return new u(t);i.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},2725:(t,e,r)=>{"use strict";t.exports=i;var n=r(4605);function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}r(5717)(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},9481:(t,e,r)=>{"use strict";var n;t.exports=k,k.ReadableState=S,r(7187).EventEmitter;var i,o=function(t,e){return t.listeners(e).length},s=r(2503),a=r(8764).Buffer,c=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},u=r(4616);i=u&&u.debuglog?u.debuglog("stream"):function(){};var l,h,d,f=r(7327),p=r(860),g=r(2457).getHighWaterMark,y=r(4281).q,m=y.ERR_INVALID_ARG_TYPE,b=y.ERR_STREAM_PUSH_AFTER_EOF,w=y.ERR_METHOD_NOT_IMPLEMENTED,v=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(5717)(k,s);var _=p.errorOrDestroy,E=["error","close","destroy","pause","resume"];function S(t,e,i){n=n||r(6753),t=t||{},"boolean"!=typeof i&&(i=e instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=r(2553).s),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function k(t){if(n=n||r(6753),!(this instanceof k))return new k(t);var e=this instanceof n;this._readableState=new S(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function x(t,e,r,n,o){i("readableAddChunk",e);var s,u=t._readableState;if(null===e)u.reading=!1,function(t,e){if(i("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?C(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,O(t)))}}(t,u);else if(o||(s=function(t,e){var r,n;return n=e,a.isBuffer(n)||n instanceof c||"string"==typeof e||void 0===e||t.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],e)),r}(u,e)),s)_(t,s);else if(u.objectMode||e&&e.length>0)if("string"==typeof e||u.objectMode||Object.getPrototypeOf(e)===a.prototype||(e=function(t){return a.from(t)}(e)),n)u.endEmitted?_(t,new v):A(t,u,e,!0);else if(u.ended)_(t,new b);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(e=u.decoder.write(e),u.objectMode||0!==e.length?A(t,u,e,!1):P(t,u)):A(t,u,e,!1)}else n||(u.reading=!1,P(t,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function A(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&C(t)),P(t,e)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),k.prototype.destroy=p.destroy,k.prototype._undestroy=p.undestroy,k.prototype._destroy=function(t,e){e(t)},k.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=a.from(t,e),e=""),r=!0),x(this,t,e,!1,r)},k.prototype.unshift=function(t){return x(this,t,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(t){l||(l=r(2553).s);var e=new l(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var I=1073741824;function T(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=I?t=I:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function C(t){var e=t._readableState;i("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(i("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(O,t))}function O(t){var e=t._readableState;i("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,B(t)}function P(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(R,t,e))}function R(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(i("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function M(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function N(t){i("readable nexttick read 0"),t.read(0)}function L(t,e){i("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),B(t),e.flowing&&!e.reading&&t.read(0)}function B(t){var e=t._readableState;for(i("flow",e.flowing);e.flowing&&null!==t.read(););}function D(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function j(t){var e=t._readableState;i("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(U,e,t))}function U(t,e){if(i("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function z(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}k.prototype.read=function(t){i("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return i("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?j(this):C(this),null;if(0===(t=T(t,e))&&e.ended)return 0===e.length&&j(this),null;var n,o=e.needReadable;return i("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&i("length less than watermark",o=!0),e.ended||e.reading?i("reading or ended",o=!1):o&&(i("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=T(r,e))),null===(n=t>0?D(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&j(this)),null!==n&&this.emit("data",n),n},k.prototype._read=function(t){_(this,new w("_read()"))},k.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,e);var s=e&&!1===e.end||t===process.stdout||t===process.stderr?p:a;function a(){i("onend"),t.end()}n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",(function e(o,s){i("onunpipe"),o===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,i("cleanup"),t.removeListener("close",d),t.removeListener("finish",f),t.removeListener("drain",c),t.removeListener("error",h),t.removeListener("unpipe",e),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",l),u=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||c())}));var c=function(t){return function(){var e=t._readableState;i("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,B(t))}}(r);t.on("drain",c);var u=!1;function l(e){i("ondata");var o=t.write(e);i("dest.write",o),!1===o&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==z(n.pipes,t))&&!u&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(e){i("onerror",e),p(),t.removeListener("error",h),0===o(t,"error")&&_(t,e)}function d(){t.removeListener("finish",f),p()}function f(){i("onfinish"),t.removeListener("close",d),p()}function p(){i("unpipe"),r.unpipe(t)}return r.on("data",l),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",h),t.once("close",d),t.once("finish",f),t.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),t},k.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=z(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},k.prototype.on=function(t,e){var r=s.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?C(this):n.reading||process.nextTick(N,this))),r},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(t,e){var r=s.prototype.removeListener.call(this,t,e);return"readable"===t&&process.nextTick(M,this),r},k.prototype.removeAllListeners=function(t){var e=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||process.nextTick(M,this),e},k.prototype.resume=function(){var t=this._readableState;return t.flowing||(i("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(L,t,e))}(this,t)),t.paused=!1,this},k.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var o in t.on("end",(function(){if(i("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(o){i("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||(r.objectMode||o&&o.length)&&(e.push(o)||(n=!0,t.pause()))})),t)void 0===this[o]&&"function"==typeof t[o]&&(this[o]=function(e){return function(){return t[e].apply(t,arguments)}}(o));for(var s=0;s<E.length;s++)t.on(E[s],this.emit.bind(this,E[s]));return this._read=function(e){i("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(5850)),h(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),k._fromList=D,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(k.from=function(t,e){return void 0===d&&(d=r(5167)),d(k,t,e)})},4605:(t,e,r)=>{"use strict";t.exports=l;var n=r(4281).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(6753);function u(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);c.call(this,t),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(e,r){d(t,e,r)}))}function d(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new a;if(t._transformState.transforming)throw new s;return t.push(null)}r(5717)(l,c),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,c.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,r){r(new i("_transform()"))},l.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){c.prototype._destroy.call(this,t,(function(t){e(t)}))}},4229:(t,e,r)=>{"use strict";function n(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(undefined),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}var i;t.exports=k,k.WritableState=S;var o,s={deprecate:r(4927)},a=r(2503),c=r(8764).Buffer,u=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},l=r(860),h=r(2457).getHighWaterMark,d=r(4281).q,f=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,g=d.ERR_MULTIPLE_CALLBACK,y=d.ERR_STREAM_CANNOT_PIPE,m=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,v=d.ERR_UNKNOWN_ENCODING,_=l.errorOrDestroy;function E(){}function S(t,e,o){i=i||r(6753),t=t||{},"boolean"!=typeof o&&(o=e instanceof i),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new g;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(O,t,e),t._writableState.errorEmitted=!0,_(t,n)):(i(n),t._writableState.errorEmitted=!0,_(t,n),O(t,e))}(t,r,n,e,i);else{var o=T(r)||t.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||I(t,r),n?process.nextTick(A,t,r,o,i):A(t,r,o,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function k(t){var e=this instanceof(i=i||r(6753));if(!e&&!o.call(k,this))return new k(t);this._writableState=new S(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function x(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new m("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function A(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),O(t,e)}function I(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,o=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,x(t,e,!0,e.length,o,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new n(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,h=r.callback;if(x(t,e,!1,e.objectMode?1:u.length,u,l,h),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function T(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function C(t,e){t._final((function(r){e.pendingcb--,r&&_(t,r),e.prefinished=!0,t.emit("prefinish"),O(t,e)}))}function O(t,e){var r=T(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,process.nextTick(C,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}r(5717)(k,a),S.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(S.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(t){return!!o.call(this,t)||this===k&&t&&t._writableState instanceof S}})):o=function(t){return t instanceof this},k.prototype.pipe=function(){_(this,new y)},k.prototype.write=function(t,e,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=t,c.isBuffer(n)||n instanceof u);return s&&!c.isBuffer(t)&&(t=function(t){return c.from(t)}(t)),"function"==typeof e&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=E),i.ending?function(t,e){var r=new w;_(t,r),process.nextTick(e,r)}(this,r):(s||function(t,e,r,n){var i;return null===r?i=new b:"string"==typeof r||e.objectMode||(i=new f("chunk",["string","Buffer"],r)),!i||(_(t,i),process.nextTick(n,i),!1)}(this,i,t,r))&&(i.pendingcb++,o=function(t,e,r,n,i,o){if(!r){var s=function(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,r)),e}(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else x(t,e,!1,a,n,i,o);return u}(this,i,s,t,e,r)),o},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||I(this,t))},k.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new v(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(t,e,r){r(new p("_write()"))},k.prototype._writev=null,k.prototype.end=function(t,e,r){var n=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,r){e.ending=!0,O(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}(this,n,r),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),k.prototype.destroy=l.destroy,k.prototype._undestroy=l.undestroy,k.prototype._destroy=function(t,e){e(t)}},5850:(t,e,r)=>{"use strict";var n;function i(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var o=r(8610),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function f(t,e){return{value:t,done:e}}function p(t){var e=t[s];if(null!==e){var r=t[d].read();null!==r&&(t[l]=null,t[s]=null,t[a]=null,e(f(r,!1)))}}function g(t){process.nextTick(p,t)}var y=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((i(n={get stream(){return this[d]},next:function(){var t=this,e=this[c];if(null!==e)return Promise.reject(e);if(this[u])return Promise.resolve(f(void 0,!0));if(this[d].destroyed)return new Promise((function(e,r){process.nextTick((function(){t[c]?r(t[c]):e(f(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(t,e){return function(r,n){t.then((function(){e[u]?r(f(void 0,!0)):e[h](r,n)}),n)}}(n,this));else{var i=this[d].read();if(null!==i)return Promise.resolve(f(i,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var t=this;return new Promise((function(e,r){t[d].destroy(null,(function(t){t?r(t):e(f(void 0,!0))}))}))})),n),y);t.exports=function(t){var e,r=Object.create(m,(i(e={},d,{value:t,writable:!0}),i(e,s,{value:null,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,c,{value:null,writable:!0}),i(e,u,{value:t._readableState.endEmitted,writable:!0}),i(e,h,{value:function(t,e){var n=r[d].read();n?(r[l]=null,r[s]=null,r[a]=null,t(f(n,!1))):(r[s]=t,r[a]=e)},writable:!0}),e));return r[l]=null,o(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[a];return null!==e&&(r[l]=null,r[s]=null,r[a]=null,e(t)),void(r[c]=t)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[a]=null,n(f(void 0,!0))),r[u]=!0})),t.on("readable",g.bind(null,r)),r}},7327:(t,e,r)=>{"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e,r){return(e=a(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}var c=r(8764).Buffer,u=r(2361).inspect,l=u&&u.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,r;return e=t,(r=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return c.alloc(0);for(var e,r,n,i=c.allocUnsafe(t>>>0),o=this.head,s=0;o;)e=o.data,r=i,n=s,c.prototype.copy.call(e,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?n+=i:n+=i.slice(0,t),0==(t-=o)){o===i.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=c.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,e}},{key:l,value:function(t,e){return u(this,i(i({},e),{},{depth:0,customInspect:!1}))}}])&&s(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},860:t=>{"use strict";function e(t,e){n(t,e),r(t)}function r(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function n(t,e){t.emit("error",e)}t.exports={destroy:function(t,i){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(i?i(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,t)):process.nextTick(n,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!i&&t?o._writableState?o._writableState.errorEmitted?process.nextTick(r,o):(o._writableState.errorEmitted=!0,process.nextTick(e,o,t)):process.nextTick(e,o,t):i?(process.nextTick(r,o),i(t)):process.nextTick(r,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}},8610:(t,e,r)=>{"use strict";var n=r(4281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,r,o){if("function"==typeof r)return t(e,null,r);r||(r={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&e.readable,a=r.writable||!1!==r.writable&&e.writable,c=function(){e.writable||l()},u=e._writableState&&e._writableState.finished,l=function(){a=!1,u=!0,s||o.call(e)},h=e._readableState&&e._readableState.endEmitted,d=function(){s=!1,h=!0,a||o.call(e)},f=function(t){o.call(e,t)},p=function(){var t;return s&&!h?(e._readableState&&e._readableState.ended||(t=new n),o.call(e,t)):a&&!u?(e._writableState&&e._writableState.ended||(t=new n),o.call(e,t)):void 0},g=function(){e.req.on("finish",l)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",l),e.on("abort",p),e.req?g():e.on("request",g)):a&&!e._writableState&&(e.on("end",c),e.on("close",c)),e.on("end",d),e.on("finish",l),!1!==r.error&&e.on("error",f),e.on("close",p),function(){e.removeListener("complete",l),e.removeListener("abort",p),e.removeListener("request",g),e.req&&e.req.removeListener("finish",l),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",l),e.removeListener("end",d),e.removeListener("error",f),e.removeListener("close",p)}}},5167:t=>{t.exports=function(){throw new Error("Readable.from is not available in the browser")}},9946:(t,e,r)=>{"use strict";var n,i=r(4281).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function c(t){t()}function u(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var l,h=function(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var d=e.map((function(t,i){var o=i<e.length-1;return function(t,e,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var a=!1;t.on("close",(function(){a=!0})),void 0===n&&(n=r(8610)),n(t,{readable:e,writable:i},(function(t){if(t)return o(t);a=!0,o()}));var c=!1;return function(e){if(!a&&!c)return c=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new s("pipe"))}}(t,o,i>0,(function(t){l||(l=t),t&&d.forEach(c),o||(d.forEach(c),h(l))}))}));return e.reduce(u)}},2457:(t,e,r)=>{"use strict";var n=r(4281).q.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,i){var o=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},2503:(t,e,r)=>{t.exports=r(7187).EventEmitter},8473:(t,e,r)=>{(e=t.exports=r(9481)).Stream=e,e.Readable=e,e.Writable=r(4229),e.Duplex=r(6753),e.Transform=r(4605),e.PassThrough=r(2725),e.finished=r(8610),e.pipeline=r(9946)},6855:(t,e,r)=>{"use strict";var n=r(4836);e.Z=void 0;var i=n(r(4687)),o=n(r(7156)),s=n(r(8698)),a=n(r(6690)),c=n(r(9728)),u=n(r(1655)),l=n(r(4993)),h=n(r(3808)),d=r(6729),f=r(395);var p=function(t){(0,u.default)(m,t);var e,r,n,d,p,g,y=(p=m,g=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,h.default)(p);if(g){var r=(0,h.default)(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return(0,l.default)(this,t)});function m(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;(0,a.default)(this,m);var s=n.autoconnect,c=void 0===s||s,u=n.reconnect,l=void 0===u||u,h=n.reconnect_interval,d=void 0===h?1e3:h,p=n.max_reconnects,g=void 0===p?5:p,b=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}(n,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return(e=y.call(this)).webSocketFactory=t,e.queue={},e.rpc_id=0,e.address=r,e.autoconnect=c,e.ready=!1,e.reconnect=l,e.reconnect_timer_id=void 0,e.reconnect_interval=d,e.max_reconnects=g,e.rest_options=b,e.current_reconnects=0,e.generate_request_id=i||function(){return++e.rpc_id},e.dataPack=o||new f.DefaultDataPack,e.autoconnect&&e._connect(e.address,Object.assign({autoconnect:e.autoconnect,reconnect:e.reconnect,reconnect_interval:e.reconnect_interval,max_reconnects:e.max_reconnects},e.rest_options)),e}return(0,c.default)(m,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(t,e,r,n){var i=this;return n||"object"!==(0,s.default)(r)||(n=r,r=null),new Promise((function(o,s){if(!i.ready)return s(new Error("socket not ready"));var a=i.generate_request_id(t,e),c={jsonrpc:"2.0",method:t,params:e||void 0,id:a};i.socket.send(i.dataPack.encode(c),n,(function(t){if(t)return s(t);i.queue[a]={promise:[o,s]},r&&(i.queue[a].timeout=setTimeout((function(){delete i.queue[a],s(new Error("reply timeout"))}),r))}))}))}},{key:"login",value:(d=(0,o.default)(i.default.mark((function t(e){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("rpc.login",e);case 2:if(r=t.sent){t.next=5;break}throw new Error("authentication failed");case 5:return t.abrupt("return",r);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"listMethods",value:(n=(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("__listMethods");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"notify",value:function(t,e){var r=this;return new Promise((function(n,i){if(!r.ready)return i(new Error("socket not ready"));var o={jsonrpc:"2.0",method:t,params:e};r.socket.send(r.dataPack.encode(o),(function(t){if(t)return i(t);n()}))}))}},{key:"subscribe",value:(r=(0,o.default)(i.default.mark((function t(e){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"==typeof e&&(e=[e]),t.next=3,this.call("rpc.on",e);case 3:if(r=t.sent,"string"!=typeof e||"ok"===r[e]){t.next=6;break}throw new Error("Failed subscribing to an event '"+e+"' with: "+r[e]);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"unsubscribe",value:(e=(0,o.default)(i.default.mark((function t(e){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"==typeof e&&(e=[e]),t.next=3,this.call("rpc.off",e);case 3:if(r=t.sent,"string"!=typeof e||"ok"===r[e]){t.next=6;break}throw new Error("Failed unsubscribing from an event with: "+r);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"close",value:function(t,e){this.socket.close(t||1e3,e)}},{key:"_connect",value:function(t,e){var r=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",(function(){r.ready=!0,r.emit("open"),r.current_reconnects=0})),this.socket.addEventListener("message",(function(t){var e=t.data;e instanceof ArrayBuffer&&(e=Buffer.from(e).toString());try{e=r.dataPack.decode(e)}catch(t){return}if(e.notification&&r.listeners(e.notification).length){if(!Object.keys(e.params).length)return r.emit(e.notification);var n=[e.notification];if(e.params.constructor===Object)n.push(e.params);else for(var i=0;i<e.params.length;i++)n.push(e.params[i]);return Promise.resolve().then((function(){r.emit.apply(r,n)}))}if(!r.queue[e.id])return e.method?Promise.resolve().then((function(){r.emit(e.method,null==e?void 0:e.params)})):void 0;"error"in e=="result"in e&&r.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),r.queue[e.id].timeout&&clearTimeout(r.queue[e.id].timeout),e.error?r.queue[e.id].promise[1](e.error):r.queue[e.id].promise[0](e.result),delete r.queue[e.id]})),this.socket.addEventListener("error",(function(t){return r.emit("error",t)})),this.socket.addEventListener("close",(function(n){var i=n.code,o=n.reason;r.ready&&setTimeout((function(){return r.emit("close",i,o)}),0),r.ready=!1,r.socket=void 0,1e3!==i&&(r.current_reconnects++,r.reconnect&&(r.max_reconnects>r.current_reconnects||0===r.max_reconnects)&&(r.reconnect_timer_id=setTimeout((function(){return r._connect(t,e)}),r.reconnect_interval)))}))}}]),m}(d.EventEmitter);e.Z=p},9062:(t,e,r)=>{"use strict";var n=r(4836);e.Z=function(t,e){return new u(t,e)};var i=n(r(6690)),o=n(r(9728)),s=n(r(1655)),a=n(r(4993)),c=n(r(3808));var u=function(t){(0,s.default)(u,t);var e,r,n=(e=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,c.default)(e);if(r){var i=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function u(t,e,r){var o;return(0,i.default)(this,u),(o=n.call(this)).socket=new window.WebSocket(t,r),o.socket.onopen=function(){return o.emit("open")},o.socket.onmessage=function(t){return o.emit("message",t.data)},o.socket.onerror=function(t){return o.emit("error",t)},o.socket.onclose=function(t){o.emit("close",t.code,t.reason)},o}return(0,o.default)(u,[{key:"send",value:function(t,e,r){var n=r||e;try{this.socket.send(t),n()}catch(t){n(t)}}},{key:"close",value:function(t,e){this.socket.close(t,e)}},{key:"addEventListener",value:function(t,e,r){this.socket.addEventListener(t,e,r)}}]),u}(r(6729).EventEmitter)},395:(t,e,r)=>{"use strict";var n=r(4836);Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultDataPack=void 0,e.createError=function(t,e){var r={code:t,message:s.get(t)||"Internal Server Error"};return e&&(r.data=e),r};var i=n(r(6690)),o=n(r(9728)),s=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]),a=function(){function t(){(0,i.default)(this,t)}return(0,o.default)(t,[{key:"encode",value:function(t){return JSON.stringify(t)}},{key:"decode",value:function(t){return JSON.parse(t)}}]),t}();e.DefaultDataPack=a},9509:(t,e,r)=>{var n=r(8764),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},7253:(t,e,r)=>{const n=r(9539),i=r(7187);var o="object"==typeof Reflect?Reflect:null,s=o&&"function"==typeof o.apply?o.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};function a(){i.call(this)}function c(t,e,r){try{s(t,e,r)}catch(t){setTimeout((()=>{throw t}))}}t.exports=a,n.inherits(a,i),a.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[t];if(void 0===a)return!1;if("function"==typeof a)c(a,this,e);else{var u=a.length,l=function(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}(a,u);for(r=0;r<u;++r)c(l[r],this,e)}return!0}},7771:(t,e,r)=>{"use strict";var n=r(210),i=r(2296),o=r(1044)(),s=r(7296),a=n("%TypeError%"),c=n("%Math.floor%");t.exports=function(t,e){if("function"!=typeof t)throw new a("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||c(e)!==e)throw new a("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,u=!0;if("length"in t&&s){var l=s(t,"length");l&&!l.configurable&&(n=!1),l&&!l.writable&&(u=!1)}return(n||u||!r)&&(o?i(t,"length",e,!0,!0):i(t,"length",e)),t}},500:t=>{"use strict";t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const r=t.indexOf(e);return-1===r?[t]:[t.slice(0,r),t.slice(r+e.length)]}},610:t=>{"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))},2553:(t,e,r)=>{"use strict";var n=r(9509).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"ï¿½";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"ï¿½";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"ï¿½"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function l(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(t){return t.toString(this.encoding)}function f(t){return t&&t.length?this.write(t):""}e.s=o,o.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"ï¿½":e},o.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=s(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(e[n]))>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(e[n]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},1379:(t,e)=>{"use strict";function r(t,e,r){return e<=t&&t<=r}function n(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function i(t){this.tokens=[].slice.call(t)}i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var o=-1;function s(t,e){if(t)throw TypeError("Decoder error");return e||65533}var a="utf-8";function c(t,e){if(!(this instanceof c))return new c(t,e);if((t=void 0!==t?String(t).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");e=n(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function u(t,e){if(!(this instanceof u))return new u(t,e);if((t=void 0!==t?String(t).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");e=n(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function l(t){var e=t.fatal,n=0,i=0,a=0,c=128,u=191;this.handler=function(t,l){if(-1===l&&0!==a)return a=0,s(e);if(-1===l)return o;if(0===a){if(r(l,0,127))return l;if(r(l,194,223))a=1,n=l-192;else if(r(l,224,239))224===l&&(c=160),237===l&&(u=159),a=2,n=l-224;else{if(!r(l,240,244))return s(e);240===l&&(c=144),244===l&&(u=143),a=3,n=l-240}return n<<=6*a,null}if(!r(l,c,u))return n=a=i=0,c=128,u=191,t.prepend(l),s(e);if(c=128,u=191,n+=l-128<<6*(a-(i+=1)),i!==a)return null;var h=n;return n=a=i=0,h}}function h(t){t.fatal,this.handler=function(t,e){if(-1===e)return o;if(r(e,0,127))return e;var n,i;r(e,128,2047)?(n=1,i=192):r(e,2048,65535)?(n=2,i=224):r(e,65536,1114111)&&(n=3,i=240);for(var s=[(e>>6*n)+i];n>0;){var a=e>>6*(n-1);s.push(128|63&a),n-=1}return s}}c.prototype={decode:function(t,e){var r;r="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=n(e),this._streaming||(this._decoder=new l({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var s,a=new i(r),c=[];!a.endOfStream()&&(s=this._decoder.handler(a,a.read()))!==o;)null!==s&&(Array.isArray(s)?c.push.apply(c,s):c.push(s));if(!this._streaming){do{if((s=this._decoder.handler(a,a.read()))===o)break;null!==s&&(Array.isArray(s)?c.push.apply(c,s):c.push(s))}while(!a.endOfStream());this._decoder=null}return c.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===c[0]?(this._BOMseen=!0,c.shift()):this._BOMseen=!0)),function(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return e}(c)}},u.prototype={encode:function(t,e){t=t?String(t):"",e=n(e),this._streaming||(this._encoder=new h(this._options)),this._streaming=Boolean(e.stream);for(var r,s=[],a=new i(function(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var o=e.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var s=t.charCodeAt(n+1);if(56320<=s&&s<=57343){var a=1023&o,c=1023&s;i.push(65536+(a<<10)+c),n+=1}else i.push(65533)}n+=1}return i}(t));!a.endOfStream()&&(r=this._encoder.handler(a,a.read()))!==o;)Array.isArray(r)?s.push.apply(s,r):s.push(r);if(!this._streaming){for(;(r=this._encoder.handler(a,a.read()))!==o;)Array.isArray(r)?s.push.apply(s,r):s.push(r);this._encoder=null}return new Uint8Array(s)}},e.TextEncoder=u,e.TextDecoder=c},4927:(t,e,r)=>{function n(t){try{if(!r.g.localStorage)return!1}catch(t){return!1}var e=r.g.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}},384:t=>{t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},5955:(t,e,r)=>{"use strict";var n=r(2584),i=r(8662),o=r(6430),s=r(5692);function a(t){return t.call.bind(t)}var c="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,l=a(Object.prototype.toString),h=a(Number.prototype.valueOf),d=a(String.prototype.valueOf),f=a(Boolean.prototype.valueOf);if(c)var p=a(BigInt.prototype.valueOf);if(u)var g=a(Symbol.prototype.valueOf);function y(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function m(t){return"[object Map]"===l(t)}function b(t){return"[object Set]"===l(t)}function w(t){return"[object WeakMap]"===l(t)}function v(t){return"[object WeakSet]"===l(t)}function _(t){return"[object ArrayBuffer]"===l(t)}function E(t){return"undefined"!=typeof ArrayBuffer&&(_.working?_(t):t instanceof ArrayBuffer)}function S(t){return"[object DataView]"===l(t)}function k(t){return"undefined"!=typeof DataView&&(S.working?S(t):t instanceof DataView)}e.isArgumentsObject=n,e.isGeneratorFunction=i,e.isTypedArray=s,e.isPromise=function(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch},e.isArrayBufferView=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):s(t)||k(t)},e.isUint8Array=function(t){return"Uint8Array"===o(t)},e.isUint8ClampedArray=function(t){return"Uint8ClampedArray"===o(t)},e.isUint16Array=function(t){return"Uint16Array"===o(t)},e.isUint32Array=function(t){return"Uint32Array"===o(t)},e.isInt8Array=function(t){return"Int8Array"===o(t)},e.isInt16Array=function(t){return"Int16Array"===o(t)},e.isInt32Array=function(t){return"Int32Array"===o(t)},e.isFloat32Array=function(t){return"Float32Array"===o(t)},e.isFloat64Array=function(t){return"Float64Array"===o(t)},e.isBigInt64Array=function(t){return"BigInt64Array"===o(t)},e.isBigUint64Array=function(t){return"BigUint64Array"===o(t)},m.working="undefined"!=typeof Map&&m(new Map),e.isMap=function(t){return"undefined"!=typeof Map&&(m.working?m(t):t instanceof Map)},b.working="undefined"!=typeof Set&&b(new Set),e.isSet=function(t){return"undefined"!=typeof Set&&(b.working?b(t):t instanceof Set)},w.working="undefined"!=typeof WeakMap&&w(new WeakMap),e.isWeakMap=function(t){return"undefined"!=typeof WeakMap&&(w.working?w(t):t instanceof WeakMap)},v.working="undefined"!=typeof WeakSet&&v(new WeakSet),e.isWeakSet=function(t){return v(t)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),e.isArrayBuffer=E,S.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&S(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=k;var x="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function A(t){return"[object SharedArrayBuffer]"===l(t)}function I(t){return void 0!==x&&(void 0===A.working&&(A.working=A(new x)),A.working?A(t):t instanceof x)}function T(t){return y(t,h)}function C(t){return y(t,d)}function O(t){return y(t,f)}function P(t){return c&&y(t,p)}function R(t){return u&&y(t,g)}e.isSharedArrayBuffer=I,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===l(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===l(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===l(t)},e.isGeneratorObject=function(t){return"[object Generator]"===l(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===l(t)},e.isNumberObject=T,e.isStringObject=C,e.isBooleanObject=O,e.isBigIntObject=P,e.isSymbolObject=R,e.isBoxedPrimitive=function(t){return T(t)||C(t)||O(t)||P(t)||R(t)},e.isAnyArrayBuffer=function(t){return"undefined"!=typeof Uint8Array&&(E(t)||I(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))},9539:(t,e,r)=>{var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},i=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(c(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,o=n.length,s=String(t).replace(i,(function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),a=n[r];r<o;a=n[++r])y(a)||!_(a)?s+=" "+a:s+=" "+c(a);return s},e.deprecate=function(t,r){if("undefined"!=typeof process&&!0===process.noDeprecation)return t;if("undefined"==typeof process)return function(){return e.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var o={},s=/^$/;if(process.env.NODE_DEBUG){var a=process.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+a+"$","i")}function c(t,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&e._extend(n,r),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),h(n,t,n.depth)}function u(t,e){var r=c.styles[e];return r?"["+c.colors[r][0]+"m"+t+"["+c.colors[r][1]+"m":t}function l(t,e){return t}function h(t,r,n){if(t.customInspect&&r&&k(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return b(i)||(i=h(t,i,n)),i}var o=function(t,e){if(w(e))return t.stylize("undefined","undefined");if(b(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return m(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}(t,r);if(o)return o;var s=Object.keys(r),a=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(r)),S(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return d(r);if(0===s.length){if(k(r)){var c=r.name?": "+r.name:"";return t.stylize("[Function"+c+"]","special")}if(v(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(E(r))return t.stylize(Date.prototype.toString.call(r),"date");if(S(r))return d(r)}var u,l="",_=!1,x=["{","}"];return p(r)&&(_=!0,x=["[","]"]),k(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),v(r)&&(l=" "+RegExp.prototype.toString.call(r)),E(r)&&(l=" "+Date.prototype.toUTCString.call(r)),S(r)&&(l=" "+d(r)),0!==s.length||_&&0!=r.length?n<0?v(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),u=_?function(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)T(e,String(s))?o.push(f(t,e,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(t,e,r,n,i,!0))})),o}(t,r,n,a,s):s.map((function(e){return f(t,r,n,a,e,_)})),t.seen.pop(),function(t,e,r){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}(u,l,x)):x[0]+l+x[1]}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,r,n,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),T(n,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=y(r)?h(t,c.value,null):h(t,c.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").slice(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),w(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function y(t){return null===t}function m(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return void 0===t}function v(t){return _(t)&&"[object RegExp]"===x(t)}function _(t){return"object"==typeof t&&null!==t}function E(t){return _(t)&&"[object Date]"===x(t)}function S(t){return _(t)&&("[object Error]"===x(t)||t instanceof Error)}function k(t){return"function"==typeof t}function x(t){return Object.prototype.toString.call(t)}function A(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!o[t])if(s.test(t)){var r=process.pid;o[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else o[t]=function(){};return o[t]},e.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=r(5955),e.isArray=p,e.isBoolean=g,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=b,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=w,e.isRegExp=v,e.types.isRegExp=v,e.isObject=_,e.isDate=E,e.types.isDate=E,e.isError=S,e.types.isNativeError=S,e.isFunction=k,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(384);var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,r;console.log("%s - %s",(r=[A((t=new Date).getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":"),[t.getDate(),I[t.getMonth()],r].join(" ")),e.format.apply(e,arguments))},e.inherits=r(5717),e._extend=function(t,e){if(!e||!_(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function O(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(C&&t[C]){var e;if("function"!=typeof(e=t[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,C,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,n=new Promise((function(t,n){e=t,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,n){t?r(t):e(n)}));try{t.apply(this,i)}catch(t){r(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),C&&Object.defineProperty(e,C,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.promisify.custom=C,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);var n=e.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return n.apply(i,arguments)};t.apply(this,e).then((function(t){process.nextTick(o.bind(null,null,t))}),(function(t){process.nextTick(O.bind(null,t,o))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,n(t)),e}},4608:(t,e,r)=>{"use strict";var n;r.d(e,{v4:()=>l});var i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=[],c=0;c<256;++c)a.push((c+256).toString(16).substr(1));const u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(a[t[e+0]]+a[t[e+1]]+a[t[e+2]]+a[t[e+3]]+"-"+a[t[e+4]]+a[t[e+5]]+"-"+a[t[e+6]]+a[t[e+7]]+"-"+a[t[e+8]]+a[t[e+9]]+"-"+a[t[e+10]]+a[t[e+11]]+a[t[e+12]]+a[t[e+13]]+a[t[e+14]]+a[t[e+15]]).toLowerCase();if(!function(t){return"string"==typeof t&&s.test(t)}(r))throw TypeError("Stringified UUID is invalid");return r},l=function(t,e,r){var n=(t=t||{}).random||(t.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return u(n)}},6430:(t,e,r)=>{"use strict";var n=r(4029),i=r(3083),o=r(5559),s=r(1924),a=r(7296),c=s("Object.prototype.toString"),u=r(6410)(),l="undefined"==typeof globalThis?r.g:globalThis,h=i(),d=s("String.prototype.slice"),f=Object.getPrototypeOf,p=s("Array.prototype.indexOf",!0)||function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},g={__proto__:null};n(h,u&&a&&f?function(t){var e=new l[t];if(Symbol.toStringTag in e){var r=f(e),n=a(r,Symbol.toStringTag);if(!n){var i=f(r);n=a(i,Symbol.toStringTag)}g["$"+t]=o(n.get)}}:function(t){var e=new l[t],r=e.slice||e.set;r&&(g["$"+t]=o(r))}),t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!u){var e=d(c(t),8,-1);return p(h,e)>-1?e:"Object"===e&&function(t){var e=!1;return n(g,(function(r,n){if(!e)try{r(t),e=d(n,1)}catch(t){}})),e}(t)}return a?function(t){var e=!1;return n(g,(function(r,n){if(!e)try{"$"+r(t)===n&&(e=d(n,1))}catch(t){}})),e}(t):null}},7529:t=>{t.exports=function(){for(var t={},r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n)e.call(n,i)&&(t[i]=n[i])}return t};var e=Object.prototype.hasOwnProperty},6037:(t,e,r)=>{"use strict";!function(t){const e=t.performance;function r(t){e&&e.mark&&e.mark(t)}function n(t,r){e&&e.measure&&e.measure(t,r)}r("Zone");const i=t.__Zone_symbol_prefix||"__zone_symbol__";function o(t){return i+t}const s=!0===t[o("forceDuplicateZoneCheck")];if(t.Zone){if(s||"function"!=typeof t.Zone.__symbol__)throw new Error("Zone already loaded.");return t.Zone}class a{constructor(t,e){this._parent=t,this._name=e?e.name||"unnamed":"<root>",this._properties=e&&e.properties||{},this._zoneDelegate=new u(this,this._parent&&this._parent._zoneDelegate,e)}static assertZonePatched(){if(t.Promise!==O.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=a.current;for(;t.parent;)t=t.parent;return t}static get current(){return R.zone}static get currentTask(){return M}static __load_patch(e,i,o=!1){if(O.hasOwnProperty(e)){if(!o&&s)throw Error("Already loaded patch: "+e)}else if(!t["__Zone_disable_"+e]){const o="Zone:"+e;r(o),O[e]=i(t,a,P),n(o,o)}}get parent(){return this._parent}get name(){return this._name}get(t){const e=this.getZoneWith(t);if(e)return e._properties[t]}getZoneWith(t){let e=this;for(;e;){if(e._properties.hasOwnProperty(t))return e;e=e._parent}return null}fork(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}wrap(t,e){if("function"!=typeof t)throw new Error("Expecting function got: "+t);const r=this._zoneDelegate.intercept(this,t,e),n=this;return function(){return n.runGuarded(r,this,arguments,e)}}run(t,e,r,n){R={parent:R,zone:this};try{return this._zoneDelegate.invoke(this,t,e,r,n)}finally{R=R.parent}}runGuarded(t,e=null,r,n){R={parent:R,zone:this};try{try{return this._zoneDelegate.invoke(this,t,e,r,n)}catch(t){if(this._zoneDelegate.handleError(this,t))throw t}}finally{R=R.parent}}runTask(t,e,r){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||v).name+"; Execution: "+this.name+")");if(t.state===_&&(t.type===C||t.type===T))return;const n=t.state!=k;n&&t._transitionTo(k,S),t.runCount++;const i=M;M=t,R={parent:R,zone:this};try{t.type==T&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,e,r)}catch(t){if(this._zoneDelegate.handleError(this,t))throw t}}finally{t.state!==_&&t.state!==A&&(t.type==C||t.data&&t.data.isPeriodic?n&&t._transitionTo(S,k):(t.runCount=0,this._updateTaskCount(t,-1),n&&t._transitionTo(_,k,_))),R=R.parent,M=i}}scheduleTask(t){if(t.zone&&t.zone!==this){let e=this;for(;e;){if(e===t.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${t.zone.name}`);e=e.parent}}t._transitionTo(E,_);const e=[];t._zoneDelegates=e,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(e){throw t._transitionTo(A,E,_),this._zoneDelegate.handleError(this,e),e}return t._zoneDelegates===e&&this._updateTaskCount(t,1),t.state==E&&t._transitionTo(S,E),t}scheduleMicroTask(t,e,r,n){return this.scheduleTask(new l(I,t,e,r,n,void 0))}scheduleMacroTask(t,e,r,n,i){return this.scheduleTask(new l(T,t,e,r,n,i))}scheduleEventTask(t,e,r,n,i){return this.scheduleTask(new l(C,t,e,r,n,i))}cancelTask(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||v).name+"; Execution: "+this.name+")");if(t.state===S||t.state===k){t._transitionTo(x,S,k);try{this._zoneDelegate.cancelTask(this,t)}catch(e){throw t._transitionTo(A,x),this._zoneDelegate.handleError(this,e),e}return this._updateTaskCount(t,-1),t._transitionTo(_,x),t.runCount=0,t}}_updateTaskCount(t,e){const r=t._zoneDelegates;-1==e&&(t._zoneDelegates=null);for(let n=0;n<r.length;n++)r[n]._updateTaskCount(t.type,e)}}a.__symbol__=o;const c={name:"",onHasTask:(t,e,r,n)=>t.hasTask(r,n),onScheduleTask:(t,e,r,n)=>t.scheduleTask(r,n),onInvokeTask:(t,e,r,n,i,o)=>t.invokeTask(r,n,i,o),onCancelTask:(t,e,r,n)=>t.cancelTask(r,n)};class u{constructor(t,e,r){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=t,this._parentDelegate=e,this._forkZS=r&&(r&&r.onFork?r:e._forkZS),this._forkDlgt=r&&(r.onFork?e:e._forkDlgt),this._forkCurrZone=r&&(r.onFork?this.zone:e._forkCurrZone),this._interceptZS=r&&(r.onIntercept?r:e._interceptZS),this._interceptDlgt=r&&(r.onIntercept?e:e._interceptDlgt),this._interceptCurrZone=r&&(r.onIntercept?this.zone:e._interceptCurrZone),this._invokeZS=r&&(r.onInvoke?r:e._invokeZS),this._invokeDlgt=r&&(r.onInvoke?e:e._invokeDlgt),this._invokeCurrZone=r&&(r.onInvoke?this.zone:e._invokeCurrZone),this._handleErrorZS=r&&(r.onHandleError?r:e._handleErrorZS),this._handleErrorDlgt=r&&(r.onHandleError?e:e._handleErrorDlgt),this._handleErrorCurrZone=r&&(r.onHandleError?this.zone:e._handleErrorCurrZone),this._scheduleTaskZS=r&&(r.onScheduleTask?r:e._scheduleTaskZS),this._scheduleTaskDlgt=r&&(r.onScheduleTask?e:e._scheduleTaskDlgt),this._scheduleTaskCurrZone=r&&(r.onScheduleTask?this.zone:e._scheduleTaskCurrZone),this._invokeTaskZS=r&&(r.onInvokeTask?r:e._invokeTaskZS),this._invokeTaskDlgt=r&&(r.onInvokeTask?e:e._invokeTaskDlgt),this._invokeTaskCurrZone=r&&(r.onInvokeTask?this.zone:e._invokeTaskCurrZone),this._cancelTaskZS=r&&(r.onCancelTask?r:e._cancelTaskZS),this._cancelTaskDlgt=r&&(r.onCancelTask?e:e._cancelTaskDlgt),this._cancelTaskCurrZone=r&&(r.onCancelTask?this.zone:e._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const n=r&&r.onHasTask,i=e&&e._hasTaskZS;(n||i)&&(this._hasTaskZS=n?r:c,this._hasTaskDlgt=e,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=t,r.onScheduleTask||(this._scheduleTaskZS=c,this._scheduleTaskDlgt=e,this._scheduleTaskCurrZone=this.zone),r.onInvokeTask||(this._invokeTaskZS=c,this._invokeTaskDlgt=e,this._invokeTaskCurrZone=this.zone),r.onCancelTask||(this._cancelTaskZS=c,this._cancelTaskDlgt=e,this._cancelTaskCurrZone=this.zone))}fork(t,e){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,t,e):new a(t,e)}intercept(t,e,r){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,t,e,r):e}invoke(t,e,r,n,i){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,t,e,r,n,i):e.apply(r,n)}handleError(t,e){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,t,e)}scheduleTask(t,e){let r=e;if(this._scheduleTaskZS)this._hasTaskZS&&r._zoneDelegates.push(this._hasTaskDlgtOwner),r=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,t,e),r||(r=e);else if(e.scheduleFn)e.scheduleFn(e);else{if(e.type!=I)throw new Error("Task is missing scheduleFn.");b(e)}return r}invokeTask(t,e,r,n){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,t,e,r,n):e.callback.apply(r,n)}cancelTask(t,e){let r;if(this._cancelTaskZS)r=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,t,e);else{if(!e.cancelFn)throw Error("Task is not cancelable");r=e.cancelFn(e)}return r}hasTask(t,e){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,t,e)}catch(e){this.handleError(t,e)}}_updateTaskCount(t,e){const r=this._taskCounts,n=r[t],i=r[t]=n+e;if(i<0)throw new Error("More tasks executed then were scheduled.");if(0==n||0==i){const e={microTask:r.microTask>0,macroTask:r.macroTask>0,eventTask:r.eventTask>0,change:t};this.hasTask(this.zone,e)}}}class l{constructor(e,r,n,i,o,s){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=e,this.source=r,this.data=i,this.scheduleFn=o,this.cancelFn=s,!n)throw new Error("callback is not defined");this.callback=n;const a=this;e===C&&i&&i.useG?this.invoke=l.invokeTask:this.invoke=function(){return l.invokeTask.call(t,a,this,arguments)}}static invokeTask(t,e,r){t||(t=this),N++;try{return t.runCount++,t.zone.runTask(t,e,r)}finally{1==N&&w(),N--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(_,E)}_transitionTo(t,e,r){if(this._state!==e&&this._state!==r)throw new Error(`${this.type} '${this.source}': can not transition to '${t}', expecting state '${e}'${r?" or '"+r+"'":""}, was '${this._state}'.`);this._state=t,t==_&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const h=o("setTimeout"),d=o("Promise"),f=o("then");let p,g=[],y=!1;function m(e){if(p||t[d]&&(p=t[d].resolve(0)),p){let t=p[f];t||(t=p.then),t.call(p,e)}else t[h](e,0)}function b(t){0===N&&0===g.length&&m(w),t&&g.push(t)}function w(){if(!y){for(y=!0;g.length;){const t=g;g=[];for(let e=0;e<t.length;e++){const r=t[e];try{r.zone.runTask(r,null,null)}catch(t){P.onUnhandledError(t)}}}P.microtaskDrainDone(),y=!1}}const v={name:"NO ZONE"},_="notScheduled",E="scheduling",S="scheduled",k="running",x="canceling",A="unknown",I="microTask",T="macroTask",C="eventTask",O={},P={symbol:o,currentZoneFrame:()=>R,onUnhandledError:L,microtaskDrainDone:L,scheduleMicroTask:b,showUncaughtError:()=>!a[o("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:L,patchMethod:()=>L,bindArguments:()=>[],patchThen:()=>L,patchMacroTask:()=>L,patchEventPrototype:()=>L,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>L,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>L,wrapWithCurrentZone:()=>L,filterProperties:()=>[],attachOriginToPatched:()=>L,_redefineProperty:()=>L,patchCallbacks:()=>L,nativeScheduleMicroTask:m};let R={parent:null,zone:new a(null,null)},M=null,N=0;function L(){}n("Zone","Zone"),t.Zone=a}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||r.g);const n=Object.getOwnPropertyDescriptor,i=Object.defineProperty,o=Object.getPrototypeOf,s=Object.create,a=Array.prototype.slice,c="addEventListener",u="removeEventListener",l=Zone.__symbol__(c),h=Zone.__symbol__(u),d="true",f="false",p=Zone.__symbol__("");function g(t,e){return Zone.current.wrap(t,e)}function y(t,e,r,n,i){return Zone.current.scheduleMacroTask(t,e,r,n,i)}const m=Zone.__symbol__,b="undefined"!=typeof window,w=b?window:void 0,v=b&&w||"object"==typeof self&&self||r.g,_="removeAttribute";function E(t,e){for(let r=t.length-1;r>=0;r--)"function"==typeof t[r]&&(t[r]=g(t[r],e+"_"+r));return t}function S(t){return!t||!1!==t.writable&&!("function"==typeof t.get&&void 0===t.set)}const k="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,x=!("nw"in v)&&void 0!==v.process&&"[object process]"==={}.toString.call(v.process),A=!x&&!k&&!(!b||!w.HTMLElement),I=void 0!==v.process&&"[object process]"==={}.toString.call(v.process)&&!k&&!(!b||!w.HTMLElement),T={},C=function(t){if(!(t=t||v.event))return;let e=T[t.type];e||(e=T[t.type]=m("ON_PROPERTY"+t.type));const r=this||t.target||v,n=r[e];let i;if(A&&r===w&&"error"===t.type){const e=t;i=n&&n.call(this,e.message,e.filename,e.lineno,e.colno,e.error),!0===i&&t.preventDefault()}else i=n&&n.apply(this,arguments),null==i||i||t.preventDefault();return i};function O(t,e,r){let o=n(t,e);if(!o&&r&&n(r,e)&&(o={enumerable:!0,configurable:!0}),!o||!o.configurable)return;const s=m("on"+e+"patched");if(t.hasOwnProperty(s)&&t[s])return;delete o.writable,delete o.value;const a=o.get,c=o.set,u=e.slice(2);let l=T[u];l||(l=T[u]=m("ON_PROPERTY"+u)),o.set=function(e){let r=this;r||t!==v||(r=v),r&&("function"==typeof r[l]&&r.removeEventListener(u,C),c&&c.call(r,null),r[l]=e,"function"==typeof e&&r.addEventListener(u,C,!1))},o.get=function(){let r=this;if(r||t!==v||(r=v),!r)return null;const n=r[l];if(n)return n;if(a){let t=a.call(this);if(t)return o.set.call(this,t),"function"==typeof r[_]&&r.removeAttribute(e),t}return null},i(t,e,o),t[s]=!0}function P(t,e,r){if(e)for(let n=0;n<e.length;n++)O(t,"on"+e[n],r);else{const e=[];for(const r in t)"on"==r.slice(0,2)&&e.push(r);for(let n=0;n<e.length;n++)O(t,e[n],r)}}const R=m("originalInstance");function M(t){const e=v[t];if(!e)return;v[m(t)]=e,v[t]=function(){const r=E(arguments,t);switch(r.length){case 0:this[R]=new e;break;case 1:this[R]=new e(r[0]);break;case 2:this[R]=new e(r[0],r[1]);break;case 3:this[R]=new e(r[0],r[1],r[2]);break;case 4:this[R]=new e(r[0],r[1],r[2],r[3]);break;default:throw new Error("Arg list too long.")}},B(v[t],e);const r=new e((function(){}));let n;for(n in r)"XMLHttpRequest"===t&&"responseBlob"===n||function(e){"function"==typeof r[e]?v[t].prototype[e]=function(){return this[R][e].apply(this[R],arguments)}:i(v[t].prototype,e,{set:function(r){"function"==typeof r?(this[R][e]=g(r,t+"."+e),B(this[R][e],r)):this[R][e]=r},get:function(){return this[R][e]}})}(n);for(n in e)"prototype"!==n&&e.hasOwnProperty(n)&&(v[t][n]=e[n])}function N(t,e,r){let i=t;for(;i&&!i.hasOwnProperty(e);)i=o(i);!i&&t[e]&&(i=t);const s=m(e);let a=null;if(i&&(!(a=i[s])||!i.hasOwnProperty(s))&&(a=i[s]=i[e],S(i&&n(i,e)))){const t=r(a,s,e);i[e]=function(){return t(this,arguments)},B(i[e],a)}return a}function L(t,e,r){let n=null;function i(t){const e=t.data;return e.args[e.cbIdx]=function(){t.invoke.apply(this,arguments)},n.apply(e.target,e.args),t}n=N(t,e,(t=>function(e,n){const o=r(e,n);return o.cbIdx>=0&&"function"==typeof n[o.cbIdx]?y(o.name,n[o.cbIdx],o,i):t.apply(e,n)}))}function B(t,e){t[m("OriginalDelegate")]=e}let D=!1,j=!1;function U(){try{const t=w.navigator.userAgent;if(-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/"))return!0}catch(t){}return!1}function z(){if(D)return j;D=!0;try{const t=w.navigator.userAgent;-1===t.indexOf("MSIE ")&&-1===t.indexOf("Trident/")&&-1===t.indexOf("Edge/")||(j=!0)}catch(t){}return j}Zone.__load_patch("ZoneAwarePromise",((t,e,r)=>{const n=Object.getOwnPropertyDescriptor,i=Object.defineProperty,o=r.symbol,s=[],a=!0===t[o("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],c=o("Promise"),u=o("then"),l="__creationTrace__";r.onUnhandledError=t=>{if(r.showUncaughtError()){const e=t&&t.rejection;e?console.error("Unhandled Promise rejection:",e instanceof Error?e.message:e,"; Zone:",t.zone.name,"; Task:",t.task&&t.task.source,"; Value:",e,e instanceof Error?e.stack:void 0):console.error(t)}},r.microtaskDrainDone=()=>{for(;s.length;){const t=s.shift();try{t.zone.runGuarded((()=>{if(t.throwOriginal)throw t.rejection;throw t}))}catch(t){d(t)}}};const h=o("unhandledPromiseRejectionHandler");function d(t){r.onUnhandledError(t);try{const r=e[h];"function"==typeof r&&r.call(this,t)}catch(t){}}function f(t){return t&&t.then}function p(t){return t}function g(t){return D.reject(t)}const y=o("state"),m=o("value"),b=o("finally"),w=o("parentPromiseValue"),v=o("parentPromiseState"),_="Promise.then",E=null,S=!0,k=!1,x=0;function A(t,e){return r=>{try{O(t,e,r)}catch(e){O(t,!1,e)}}}const I=function(){let t=!1;return function(e){return function(){t||(t=!0,e.apply(null,arguments))}}},T="Promise resolved with itself",C=o("currentTaskTrace");function O(t,n,o){const c=I();if(t===o)throw new TypeError(T);if(t[y]===E){let h=null;try{"object"!=typeof o&&"function"!=typeof o||(h=o&&o.then)}catch(e){return c((()=>{O(t,!1,e)}))(),t}if(n!==k&&o instanceof D&&o.hasOwnProperty(y)&&o.hasOwnProperty(m)&&o[y]!==E)R(o),O(t,o[y],o[m]);else if(n!==k&&"function"==typeof h)try{h.call(o,c(A(t,n)),c(A(t,!1)))}catch(e){c((()=>{O(t,!1,e)}))()}else{t[y]=n;const c=t[m];if(t[m]=o,t[b]===b&&n===S&&(t[y]=t[v],t[m]=t[w]),n===k&&o instanceof Error){const t=e.currentTask&&e.currentTask.data&&e.currentTask.data[l];t&&i(o,C,{configurable:!0,enumerable:!1,writable:!0,value:t})}for(let e=0;e<c.length;)M(t,c[e++],c[e++],c[e++],c[e++]);if(0==c.length&&n==k){t[y]=x;let n=o;try{throw new Error("Uncaught (in promise): "+((u=o)&&u.toString===Object.prototype.toString?(u.constructor&&u.constructor.name||"")+": "+JSON.stringify(u):u?u.toString():Object.prototype.toString.call(u))+(o&&o.stack?"\n"+o.stack:""))}catch(t){n=t}a&&(n.throwOriginal=!0),n.rejection=o,n.promise=t,n.zone=e.current,n.task=e.currentTask,s.push(n),r.scheduleMicroTask()}}}var u;return t}const P=o("rejectionHandledHandler");function R(t){if(t[y]===x){try{const r=e[P];r&&"function"==typeof r&&r.call(this,{rejection:t[m],promise:t})}catch(t){}t[y]=k;for(let e=0;e<s.length;e++)t===s[e].promise&&s.splice(e,1)}}function M(t,e,r,n,i){R(t);const o=t[y],s=o?"function"==typeof n?n:p:"function"==typeof i?i:g;e.scheduleMicroTask(_,(()=>{try{const n=t[m],i=!!r&&b===r[b];i&&(r[w]=n,r[v]=o);const a=e.run(s,void 0,i&&s!==g&&s!==p?[]:[n]);O(r,!0,a)}catch(t){O(r,!1,t)}}),r)}const L=function(){},B=t.AggregateError;class D{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(t){return O(new this(null),S,t)}static reject(t){return O(new this(null),k,t)}static any(t){if(!t||"function"!=typeof t[Symbol.iterator])return Promise.reject(new B([],"All promises were rejected"));const e=[];let r=0;try{for(let n of t)r++,e.push(D.resolve(n))}catch(t){return Promise.reject(new B([],"All promises were rejected"))}if(0===r)return Promise.reject(new B([],"All promises were rejected"));let n=!1;const i=[];return new D(((t,o)=>{for(let s=0;s<e.length;s++)e[s].then((e=>{n||(n=!0,t(e))}),(t=>{i.push(t),r--,0===r&&(n=!0,o(new B(i,"All promises were rejected")))}))}))}static race(t){let e,r,n=new this(((t,n)=>{e=t,r=n}));function i(t){e(t)}function o(t){r(t)}for(let e of t)f(e)||(e=this.resolve(e)),e.then(i,o);return n}static all(t){return D.allWithCallback(t)}static allSettled(t){return(this&&this.prototype instanceof D?this:D).allWithCallback(t,{thenCallback:t=>({status:"fulfilled",value:t}),errorCallback:t=>({status:"rejected",reason:t})})}static allWithCallback(t,e){let r,n,i=new this(((t,e)=>{r=t,n=e})),o=2,s=0;const a=[];for(let i of t){f(i)||(i=this.resolve(i));const t=s;try{i.then((n=>{a[t]=e?e.thenCallback(n):n,o--,0===o&&r(a)}),(i=>{e?(a[t]=e.errorCallback(i),o--,0===o&&r(a)):n(i)}))}catch(t){n(t)}o++,s++}return o-=2,0===o&&r(a),i}constructor(t){const e=this;if(!(e instanceof D))throw new Error("Must be an instanceof Promise.");e[y]=E,e[m]=[];try{const r=I();t&&t(r(A(e,S)),r(A(e,k)))}catch(t){O(e,!1,t)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return D}then(t,r){var n;let i=null===(n=this.constructor)||void 0===n?void 0:n[Symbol.species];i&&"function"==typeof i||(i=this.constructor||D);const o=new i(L),s=e.current;return this[y]==E?this[m].push(s,o,t,r):M(this,s,o,t,r),o}catch(t){return this.then(null,t)}finally(t){var r;let n=null===(r=this.constructor)||void 0===r?void 0:r[Symbol.species];n&&"function"==typeof n||(n=D);const i=new n(L);i[b]=b;const o=e.current;return this[y]==E?this[m].push(o,i,t,t):M(this,o,i,t,t),i}}D.resolve=D.resolve,D.reject=D.reject,D.race=D.race,D.all=D.all;const j=t[c]=t.Promise;t.Promise=D;const U=o("thenPatched");function z(t){const e=t.prototype,r=n(e,"then");if(r&&(!1===r.writable||!r.configurable))return;const i=e.then;e[u]=i,t.prototype.then=function(t,e){return new D(((t,e)=>{i.call(this,t,e)})).then(t,e)},t[U]=!0}return r.patchThen=z,j&&(z(j),N(t,"fetch",(t=>{return e=t,function(t,r){let n=e.apply(t,r);if(n instanceof D)return n;let i=n.constructor;return i[U]||z(i),n};var e}))),Promise[e.__symbol__("uncaughtPromiseErrors")]=s,D})),Zone.__load_patch("toString",(t=>{const e=Function.prototype.toString,r=m("OriginalDelegate"),n=m("Promise"),i=m("Error"),o=function(){if("function"==typeof this){const o=this[r];if(o)return"function"==typeof o?e.call(o):Object.prototype.toString.call(o);if(this===Promise){const r=t[n];if(r)return e.call(r)}if(this===Error){const r=t[i];if(r)return e.call(r)}}return e.call(this)};o[r]=e,Function.prototype.toString=o;const s=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":s.call(this)}}));let F=!1;if("undefined"!=typeof window)try{const t=Object.defineProperty({},"passive",{get:function(){F=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){F=!1}const W={useG:!0},$={},q={},H=new RegExp("^"+p+"(\\w+)(true|false)$"),V=m("propagationStopped");function K(t,e){const r=(e?e(t):t)+f,n=(e?e(t):t)+d,i=p+r,o=p+n;$[t]={},$[t][f]=i,$[t][d]=o}function G(t,e,r,n){const i=n&&n.add||c,s=n&&n.rm||u,a=n&&n.listeners||"eventListeners",l=n&&n.rmAll||"removeAllListeners",h=m(i),g="."+i+":",y="prependListener",b="."+y+":",w=function(t,e,r){if(t.isRemoved)return;const n=t.callback;let i;"object"==typeof n&&n.handleEvent&&(t.callback=t=>n.handleEvent(t),t.originalDelegate=n);try{t.invoke(t,e,[r])}catch(t){i=t}const o=t.options;if(o&&"object"==typeof o&&o.once){const n=t.originalDelegate?t.originalDelegate:t.callback;e[s].call(e,r.type,n,o)}return i};function v(r,n,i){if(!(n=n||t.event))return;const o=r||n.target||t,s=o[$[n.type][i?d:f]];if(s){const t=[];if(1===s.length){const e=w(s[0],o,n);e&&t.push(e)}else{const e=s.slice();for(let r=0;r<e.length&&(!n||!0!==n[V]);r++){const i=w(e[r],o,n);i&&t.push(i)}}if(1===t.length)throw t[0];for(let r=0;r<t.length;r++){const n=t[r];e.nativeScheduleMicroTask((()=>{throw n}))}}}const _=function(t){return v(this,t,!1)},E=function(t){return v(this,t,!0)};function S(e,r){if(!e)return!1;let n=!0;r&&void 0!==r.useG&&(n=r.useG);const c=r&&r.vh;let u=!0;r&&void 0!==r.chkDup&&(u=r.chkDup);let w=!1;r&&void 0!==r.rt&&(w=r.rt);let v=e;for(;v&&!v.hasOwnProperty(i);)v=o(v);if(!v&&e[i]&&(v=e),!v)return!1;if(v[h])return!1;const S=r&&r.eventNameToString,k={},A=v[h]=v[i],I=v[m(s)]=v[s],T=v[m(a)]=v[a],C=v[m(l)]=v[l];let O;r&&r.prepend&&(O=v[m(r.prepend)]=v[r.prepend]);const P=n?function(t){if(!k.isExisting)return A.call(k.target,k.eventName,k.capture?E:_,k.options)}:function(t){return A.call(k.target,k.eventName,t.invoke,k.options)},R=n?function(t){if(!t.isRemoved){const e=$[t.eventName];let r;e&&(r=e[t.capture?d:f]);const n=r&&t.target[r];if(n)for(let e=0;e<n.length;e++)if(n[e]===t){n.splice(e,1),t.isRemoved=!0,0===n.length&&(t.allRemoved=!0,t.target[r]=null);break}}if(t.allRemoved)return I.call(t.target,t.eventName,t.capture?E:_,t.options)}:function(t){return I.call(t.target,t.eventName,t.invoke,t.options)},M=r&&r.diff?r.diff:function(t,e){const r=typeof e;return"function"===r&&t.callback===e||"object"===r&&t.originalDelegate===e},N=Zone[m("UNPATCHED_EVENTS")],L=t[m("PASSIVE_EVENTS")],D=function(e,i,o,s,a=!1,l=!1){return function(){const h=this||t;let p=arguments[0];r&&r.transferEventName&&(p=r.transferEventName(p));let g=arguments[1];if(!g)return e.apply(this,arguments);if(x&&"uncaughtException"===p)return e.apply(this,arguments);let y=!1;if("function"!=typeof g){if(!g.handleEvent)return e.apply(this,arguments);y=!0}if(c&&!c(e,g,h,arguments))return;const m=F&&!!L&&-1!==L.indexOf(p),b=function(t,e){return!F&&"object"==typeof t&&t?!!t.capture:F&&e?"boolean"==typeof t?{capture:t,passive:!0}:t?"object"==typeof t&&!1!==t.passive?Object.assign(Object.assign({},t),{passive:!0}):t:{passive:!0}:t}(arguments[2],m);if(N)for(let t=0;t<N.length;t++)if(p===N[t])return m?e.call(h,p,g,b):e.apply(this,arguments);const w=!!b&&("boolean"==typeof b||b.capture),v=!(!b||"object"!=typeof b)&&b.once,_=Zone.current;let E=$[p];E||(K(p,S),E=$[p]);const A=E[w?d:f];let I,T=h[A],C=!1;if(T){if(C=!0,u)for(let t=0;t<T.length;t++)if(M(T[t],g))return}else T=h[A]=[];const O=h.constructor.name,P=q[O];P&&(I=P[p]),I||(I=O+i+(S?S(p):p)),k.options=b,v&&(k.options.once=!1),k.target=h,k.capture=w,k.eventName=p,k.isExisting=C;const R=n?W:void 0;R&&(R.taskData=k);const B=_.scheduleEventTask(I,g,R,o,s);return k.target=null,R&&(R.taskData=null),v&&(b.once=!0),(F||"boolean"!=typeof B.options)&&(B.options=b),B.target=h,B.capture=w,B.eventName=p,y&&(B.originalDelegate=g),l?T.unshift(B):T.push(B),a?h:void 0}};return v[i]=D(A,g,P,R,w),O&&(v[y]=D(O,b,(function(t){return O.call(k.target,k.eventName,t.invoke,k.options)}),R,w,!0)),v[s]=function(){const e=this||t;let n=arguments[0];r&&r.transferEventName&&(n=r.transferEventName(n));const i=arguments[2],o=!!i&&("boolean"==typeof i||i.capture),s=arguments[1];if(!s)return I.apply(this,arguments);if(c&&!c(I,s,e,arguments))return;const a=$[n];let u;a&&(u=a[o?d:f]);const l=u&&e[u];if(l)for(let t=0;t<l.length;t++){const r=l[t];if(M(r,s))return l.splice(t,1),r.isRemoved=!0,0===l.length&&(r.allRemoved=!0,e[u]=null,"string"==typeof n)&&(e[p+"ON_PROPERTY"+n]=null),r.zone.cancelTask(r),w?e:void 0}return I.apply(this,arguments)},v[a]=function(){const e=this||t;let n=arguments[0];r&&r.transferEventName&&(n=r.transferEventName(n));const i=[],o=Z(e,S?S(n):n);for(let t=0;t<o.length;t++){const e=o[t];let r=e.originalDelegate?e.originalDelegate:e.callback;i.push(r)}return i},v[l]=function(){const e=this||t;let n=arguments[0];if(n){r&&r.transferEventName&&(n=r.transferEventName(n));const t=$[n];if(t){const r=t[f],i=t[d],o=e[r],a=e[i];if(o){const t=o.slice();for(let e=0;e<t.length;e++){const r=t[e];let i=r.originalDelegate?r.originalDelegate:r.callback;this[s].call(this,n,i,r.options)}}if(a){const t=a.slice();for(let e=0;e<t.length;e++){const r=t[e];let i=r.originalDelegate?r.originalDelegate:r.callback;this[s].call(this,n,i,r.options)}}}}else{const t=Object.keys(e);for(let e=0;e<t.length;e++){const r=t[e],n=H.exec(r);let i=n&&n[1];i&&"removeListener"!==i&&this[l].call(this,i)}this[l].call(this,"removeListener")}if(w)return this},B(v[i],A),B(v[s],I),C&&B(v[l],C),T&&B(v[a],T),!0}let k=[];for(let t=0;t<r.length;t++)k[t]=S(r[t],n);return k}function Z(t,e){if(!e){const r=[];for(let n in t){const i=H.exec(n);let o=i&&i[1];if(o&&(!e||o===e)){const e=t[n];if(e)for(let t=0;t<e.length;t++)r.push(e[t])}}return r}let r=$[e];r||(K(e),r=$[e]);const n=t[r[f]],i=t[r[d]];return n?i?n.concat(i):n.slice():i?i.slice():[]}function Y(t,e){const r=t.Event;r&&r.prototype&&e.patchMethod(r.prototype,"stopImmediatePropagation",(t=>function(e,r){e[V]=!0,t&&t.apply(e,r)}))}function J(t,e,r,n,i){const o=Zone.__symbol__(n);if(e[o])return;const s=e[o]=e[n];e[n]=function(o,a,c){return a&&a.prototype&&i.forEach((function(e){const i=`${r}.${n}::`+e,o=a.prototype;try{if(o.hasOwnProperty(e)){const r=t.ObjectGetOwnPropertyDescriptor(o,e);r&&r.value?(r.value=t.wrapWithCurrentZone(r.value,i),t._redefineProperty(a.prototype,e,r)):o[e]&&(o[e]=t.wrapWithCurrentZone(o[e],i))}else o[e]&&(o[e]=t.wrapWithCurrentZone(o[e],i))}catch(t){}})),s.call(e,o,a,c)},t.attachOriginToPatched(e[n],s)}function X(t,e,r){if(!r||0===r.length)return e;const n=r.filter((e=>e.target===t));if(!n||0===n.length)return e;const i=n[0].ignoreProperties;return e.filter((t=>-1===i.indexOf(t)))}function Q(t,e,r,n){t&&P(t,X(t,e,r),n)}function tt(t){return Object.getOwnPropertyNames(t).filter((t=>t.startsWith("on")&&t.length>2)).map((t=>t.substring(2)))}function et(t,e){if(x&&!I)return;if(Zone[t.symbol("patchEvents")])return;const r=e.__Zone_ignore_on_properties;let n=[];if(A){const t=window;n=n.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const e=U()?[{target:t,ignoreProperties:["error"]}]:[];Q(t,tt(t),r?r.concat(e):r,o(t))}n=n.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let t=0;t<n.length;t++){const i=e[n[t]];i&&i.prototype&&Q(i.prototype,tt(i.prototype),r)}}Zone.__load_patch("util",((t,e,r)=>{const o=tt(t);r.patchOnProperties=P,r.patchMethod=N,r.bindArguments=E,r.patchMacroTask=L;const l=e.__symbol__("BLACK_LISTED_EVENTS"),h=e.__symbol__("UNPATCHED_EVENTS");t[h]&&(t[l]=t[h]),t[l]&&(e[l]=e[h]=t[l]),r.patchEventPrototype=Y,r.patchEventTarget=G,r.isIEOrEdge=z,r.ObjectDefineProperty=i,r.ObjectGetOwnPropertyDescriptor=n,r.ObjectCreate=s,r.ArraySlice=a,r.patchClass=M,r.wrapWithCurrentZone=g,r.filterProperties=X,r.attachOriginToPatched=B,r._redefineProperty=Object.defineProperty,r.patchCallbacks=J,r.getGlobalObjects=()=>({globalSources:q,zoneSymbolEventNames:$,eventNames:o,isBrowser:A,isMix:I,isNode:x,TRUE_STR:d,FALSE_STR:f,ZONE_SYMBOL_PREFIX:p,ADD_EVENT_LISTENER_STR:c,REMOVE_EVENT_LISTENER_STR:u})}));const rt=m("zoneTask");function nt(t,e,r,n){let i=null,o=null;r+=n;const s={};function a(e){const r=e.data;return r.args[0]=function(){return e.invoke.apply(this,arguments)},r.handleId=i.apply(t,r.args),e}function c(e){return o.call(t,e.data.handleId)}i=N(t,e+=n,(r=>function(i,o){if("function"==typeof o[0]){const t={isPeriodic:"Interval"===n,delay:"Timeout"===n||"Interval"===n?o[1]||0:void 0,args:o},r=o[0];o[0]=function(){try{return r.apply(this,arguments)}finally{t.isPeriodic||("number"==typeof t.handleId?delete s[t.handleId]:t.handleId&&(t.handleId[rt]=null))}};const i=y(e,o[0],t,a,c);if(!i)return i;const u=i.data.handleId;return"number"==typeof u?s[u]=i:u&&(u[rt]=i),u&&u.ref&&u.unref&&"function"==typeof u.ref&&"function"==typeof u.unref&&(i.ref=u.ref.bind(u),i.unref=u.unref.bind(u)),"number"==typeof u||u?u:i}return r.apply(t,o)})),o=N(t,r,(e=>function(r,n){const i=n[0];let o;"number"==typeof i?o=s[i]:(o=i&&i[rt],o||(o=i)),o&&"string"==typeof o.type?"notScheduled"!==o.state&&(o.cancelFn&&o.data.isPeriodic||0===o.runCount)&&("number"==typeof i?delete s[i]:i&&(i[rt]=null),o.zone.cancelTask(o)):e.apply(t,n)}))}function it(t,e){if(Zone[e.symbol("patchEventTarget")])return;const{eventNames:r,zoneSymbolEventNames:n,TRUE_STR:i,FALSE_STR:o,ZONE_SYMBOL_PREFIX:s}=e.getGlobalObjects();for(let t=0;t<r.length;t++){const e=r[t],a=s+(e+o),c=s+(e+i);n[e]={},n[e][o]=a,n[e][i]=c}const a=t.EventTarget;return a&&a.prototype?(e.patchEventTarget(t,e,[a&&a.prototype]),!0):void 0}Zone.__load_patch("legacy",(t=>{const e=t[Zone.__symbol__("legacyPatch")];e&&e()})),Zone.__load_patch("queueMicrotask",((t,e,r)=>{r.patchMethod(t,"queueMicrotask",(t=>function(t,r){e.current.scheduleMicroTask("queueMicrotask",r[0])}))})),Zone.__load_patch("timers",(t=>{const e="set",r="clear";nt(t,e,r,"Timeout"),nt(t,e,r,"Interval"),nt(t,e,r,"Immediate")})),Zone.__load_patch("requestAnimationFrame",(t=>{nt(t,"request","cancel","AnimationFrame"),nt(t,"mozRequest","mozCancel","AnimationFrame"),nt(t,"webkitRequest","webkitCancel","AnimationFrame")})),Zone.__load_patch("blocking",((t,e)=>{const r=["alert","prompt","confirm"];for(let n=0;n<r.length;n++)N(t,r[n],((r,n,i)=>function(n,o){return e.current.run(r,t,o,i)}))})),Zone.__load_patch("EventTarget",((t,e,r)=>{!function(t,e){e.patchEventPrototype(t,e)}(t,r),it(t,r);const n=t.XMLHttpRequestEventTarget;n&&n.prototype&&r.patchEventTarget(t,r,[n.prototype])})),Zone.__load_patch("MutationObserver",((t,e,r)=>{M("MutationObserver"),M("WebKitMutationObserver")})),Zone.__load_patch("IntersectionObserver",((t,e,r)=>{M("IntersectionObserver")})),Zone.__load_patch("FileReader",((t,e,r)=>{M("FileReader")})),Zone.__load_patch("on_property",((t,e,r)=>{et(r,t)})),Zone.__load_patch("customElements",((t,e,r)=>{!function(t,e){const{isBrowser:r,isMix:n}=e.getGlobalObjects();(r||n)&&t.customElements&&"customElements"in t&&e.patchCallbacks(e,t.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(t,r)})),Zone.__load_patch("XHR",((t,e)=>{!function(t){const c=t.XMLHttpRequest;if(!c)return;const u=c.prototype;let d=u[l],f=u[h];if(!d){const e=t.XMLHttpRequestEventTarget;if(e){const t=e.prototype;d=t[l],f=t[h]}}const p="readystatechange",g="scheduled";function b(t){const n=t.data,s=n.target;s[o]=!1,s[a]=!1;const c=s[i];d||(d=s[l],f=s[h]),c&&f.call(s,p,c);const u=s[i]=()=>{if(s.readyState===s.DONE)if(!n.aborted&&s[o]&&t.state===g){const r=s[e.__symbol__("loadfalse")];if(0!==s.status&&r&&r.length>0){const i=t.invoke;t.invoke=function(){const r=s[e.__symbol__("loadfalse")];for(let e=0;e<r.length;e++)r[e]===t&&r.splice(e,1);n.aborted||t.state!==g||i.call(t)},r.push(t)}else t.invoke()}else n.aborted||!1!==s[o]||(s[a]=!0)};return d.call(s,p,u),s[r]||(s[r]=t),k.apply(s,n.args),s[o]=!0,t}function w(){}function v(t){const e=t.data;return e.aborted=!0,x.apply(e.target,e.args)}const _=N(u,"open",(()=>function(t,e){return t[n]=0==e[2],t[s]=e[1],_.apply(t,e)})),E=m("fetchTaskAborting"),S=m("fetchTaskScheduling"),k=N(u,"send",(()=>function(t,r){if(!0===e.current[S])return k.apply(t,r);if(t[n])return k.apply(t,r);{const e={target:t,url:t[s],isPeriodic:!1,args:r,aborted:!1},n=y("XMLHttpRequest.send",w,e,b,v);t&&!0===t[a]&&!e.aborted&&n.state===g&&n.invoke()}})),x=N(u,"abort",(()=>function(t,n){const i=t[r];if(i&&"string"==typeof i.type){if(null==i.cancelFn||i.data&&i.data.aborted)return;i.zone.cancelTask(i)}else if(!0===e.current[E])return x.apply(t,n)}))}(t);const r=m("xhrTask"),n=m("xhrSync"),i=m("xhrListener"),o=m("xhrScheduled"),s=m("xhrURL"),a=m("xhrErrorBeforeScheduled")})),Zone.__load_patch("geolocation",(t=>{t.navigator&&t.navigator.geolocation&&function(t,e){const r=t.constructor.name;for(let i=0;i<e.length;i++){const o=e[i],s=t[o];if(s){if(!S(n(t,o)))continue;t[o]=(t=>{const e=function(){return t.apply(this,E(arguments,r+"."+o))};return B(e,t),e})(s)}}}(t.navigator.geolocation,["getCurrentPosition","watchPosition"])})),Zone.__load_patch("PromiseRejectionEvent",((t,e)=>{function r(e){return function(r){Z(t,e).forEach((n=>{const i=t.PromiseRejectionEvent;if(i){const t=new i(e,{promise:r.promise,reason:r.rejection});n.invoke(t)}}))}}t.PromiseRejectionEvent&&(e[m("unhandledPromiseRejectionHandler")]=r("unhandledrejection"),e[m("rejectionHandledHandler")]=r("rejectionhandled"))}))},5883:()=>{},6601:()=>{},2361:()=>{},4616:()=>{},6115:t=>{t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},7156:t=>{function e(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,i)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(i,o){var s=t.apply(r,n);function a(t){e(s,i,o,a,c,"next",t)}function c(t){e(s,i,o,a,c,"throw",t)}a(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},6690:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},9728:(t,e,r)=>{var n=r(4062);function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,n(i.key),i)}}t.exports=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},3808:t=>{function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},1655:(t,e,r)=>{var n=r(6015);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},4836:t=>{t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},4993:(t,e,r)=>{var n=r(8698).default,i=r(6115);t.exports=function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},7061:(t,e,r)=>{var n=r(8698).default;function i(){"use strict";t.exports=i=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},r=Object.prototype,o=r.hasOwnProperty,s=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function h(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,r){return t[e]=r}}function d(t,e,r,n){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),a=new T(n||[]);return s(o,"_invoke",{value:k(t,r,a)}),o}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var p={};function g(){}function y(){}function m(){}var b={};h(b,c,(function(){return this}));var w=Object.getPrototypeOf,v=w&&w(w(C([])));v&&v!==r&&o.call(v,c)&&(b=v);var _=m.prototype=g.prototype=Object.create(b);function E(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(i,s,a,c){var u=f(t[i],t,s);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==n(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;s(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}})}function k(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return{value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var a=x(s,r);if(a){if(a===p)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function x(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var i=f(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(o.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:O}}function O(){return{value:void 0,done:!0}}return y.prototype=m,s(_,"constructor",{value:m,configurable:!0}),s(m,"constructor",{value:y,configurable:!0}),y.displayName=h(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,h(t,l,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},E(S.prototype),h(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var s=new S(d(t,r,n,i),o);return e.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},E(_),h(_,l,"Generator"),h(_,c,(function(){return this})),h(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return s.type="throw",s.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var a=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;I(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},6015:t=>{function e(r,n){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},5036:(t,e,r)=>{var n=r(8698).default;t.exports=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},4062:(t,e,r)=>{var n=r(8698).default,i=r(5036);t.exports=function(t){var e=i(t,"string");return"symbol"===n(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},8698:t=>{function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},4687:(t,e,r)=>{var n=r(7061)();t.exports=n;try{regeneratorRuntime=n}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},7686:(t,e,r)=>{"use strict";const n=r(5346);t.exports=s;const i=function(){function t(t){return void 0!==t&&t}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(e){return t(self)||t(window)||t(this)||{}}}().console||{},o={mapHttpRequest:d,mapHttpResponse:d,wrapRequestSerializer:f,wrapResponseSerializer:f,wrapErrorSerializer:f,req:d,res:d,err:function(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)void 0===e[r]&&(e[r]=t[r]);return e}};function s(t){(t=t||{}).browser=t.browser||{};const e=t.browser.transmit;if(e&&"function"!=typeof e.send)throw Error("pino: transmit option must have a send function");const r=t.browser.write||i;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},o=function(t,e){return Array.isArray(t)?t.filter((function(t){return"!stdSerializers.err"!==t})):!0===t&&Object.keys(e)}(t.browser.serialize,n);let d=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(d=!1),"function"==typeof r&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),!1===t.enabled&&(t.level="silent");const f=t.level||"info",g=Object.create(r);g.log||(g.log=p),Object.defineProperty(g,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(g,"level",{get:function(){return this._level},set:function(t){if("silent"!==t&&!this.levels.values[t])throw Error("unknown level "+t);this._level=t,a(y,g,"error","log"),a(y,g,"fatal","error"),a(y,g,"warn","error"),a(y,g,"info","log"),a(y,g,"debug","log"),a(y,g,"trace","log")}});const y={transmit:e,serialize:o,asObject:t.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:h(t)};return g.levels=s.levels,g.level=f,g.setMaxListeners=g.getMaxListeners=g.emit=g.addListener=g.on=g.prependListener=g.once=g.prependOnceListener=g.removeListener=g.removeAllListeners=g.listeners=g.listenerCount=g.eventNames=g.write=g.flush=p,g.serializers=n,g._serialize=o,g._stdErrSerialize=d,g.child=function(r,i){if(!r)throw new Error("missing bindings for child Pino");i=i||{},o&&r.serializers&&(i.serializers=r.serializers);const s=i.serializers;if(o&&s){var a=Object.assign({},n,s),h=!0===t.browser.serialize?Object.keys(a):o;delete r.serializers,c([r],h,a,this._stdErrSerialize)}function d(t){this._childLevel=1+(0|t._childLevel),this.error=u(t,r,"error"),this.fatal=u(t,r,"fatal"),this.warn=u(t,r,"warn"),this.info=u(t,r,"info"),this.debug=u(t,r,"debug"),this.trace=u(t,r,"trace"),a&&(this.serializers=a,this._serialize=h),e&&(this._logEvent=l([].concat(t._logEvent.bindings,r)))}return d.prototype=this,new d(this)},e&&(g._logEvent=l()),g}function a(t,e,r,o){const a=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?p:a[r]?a[r]:i[r]||i[o]||p,function(t,e,r){var o;(t.transmit||e[r]!==p)&&(e[r]=(o=e[r],function(){const a=t.timestamp(),u=new Array(arguments.length),h=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var d=0;d<u.length;d++)u[d]=arguments[d];if(t.serialize&&!t.asObject&&c(u,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?o.call(h,function(t,e,r,i){t._serialize&&c(r,t._serialize,t.serializers,t._stdErrSerialize);const o=r.slice();let a=o[0];const u={};i&&(u.time=i),u.level=s.levels.values[e];let l=1+(0|t._childLevel);if(l<1&&(l=1),null!==a&&"object"==typeof a){for(;l--&&"object"==typeof o[0];)Object.assign(u,o.shift());a=o.length?n(o.shift(),o):void 0}else"string"==typeof a&&(a=n(o.shift(),o));return void 0!==a&&(u.msg=a),u}(this,r,u,a)):o.apply(h,u),t.transmit){const n=t.transmit.level||e.level,i=s.levels.values[n],o=s.levels.values[r];if(o<i)return;!function(t,e,r){const n=e.send,i=e.ts,o=e.methodLevel,s=e.methodValue,a=e.val,u=t._logEvent.bindings;c(r,t._serialize||Object.keys(t.serializers),t.serializers,void 0===t._stdErrSerialize||t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter((function(t){return-1===u.indexOf(t)})),t._logEvent.level.label=o,t._logEvent.level.value=s,n(o,t._logEvent,a),t._logEvent=l(u)}(this,{ts:a,methodLevel:r,methodValue:o,transmitLevel:n,transmitValue:s.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},u)}}))}(t,e,r)}function c(t,e,r,n){for(const i in t)if(n&&t[i]instanceof Error)t[i]=s.stdSerializers.err(t[i]);else if("object"==typeof t[i]&&!Array.isArray(t[i]))for(const n in t[i])e&&e.indexOf(n)>-1&&n in r&&(t[i][n]=r[n](t[i][n]))}function u(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function l(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function h(t){return"function"==typeof t.timestamp?t.timestamp:!1===t.timestamp?g:y}function d(){return{}}function f(t){return t}function p(){}function g(){return!1}function y(){return Date.now()}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=o,s.stdTimeFunctions=Object.assign({},{nullTime:g,epochTime:y,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},3083:(t,e,r)=>{"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"==typeof globalThis?r.g:globalThis;t.exports=function(){for(var t=[],e=0;e<n.length;e++)"function"==typeof i[n[e]]&&(t[t.length]=n[e]);return t}},3527:(t,e,r)=>{"use strict";function n(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function i(t,...e){if(!((r=t)instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name))throw new Error("Expected Uint8Array");var r;if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function o(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(t.outputLen),n(t.blockLen)}function s(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function a(t,e){i(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}r.d(e,{Gg:()=>s,J8:()=>a,Rx:()=>n,aI:()=>i,vp:()=>o})},3313:(t,e,r)=>{"use strict";r.d(e,{N:()=>o});var n=r(3527),i=r(3486);class o extends i.kb{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,i.GL)(this.buffer)}update(t){(0,n.Gg)(this);const{view:e,buffer:r,blockLen:o}=this,s=(t=(0,i.O0)(t)).length;for(let n=0;n<s;){const a=Math.min(o-this.pos,s-n);if(a!==o)r.set(t.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===o&&(this.process(e,0),this.pos=0);else{const e=(0,i.GL)(t);for(;o<=s-n;n+=o)this.process(e,n)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,n.Gg)(this),(0,n.J8)(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:o,isLE:s}=this;let{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let t=a;t<o;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}(r,o-8,BigInt(8*this.length),s),this.process(r,0);const c=(0,i.GL)(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,h=this.get();if(l>h.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<l;t++)c.setUint32(4*t,h[t],s)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return t.length=n,t.pos=s,t.finished=i,t.destroyed=o,n%e&&t.buffer.set(r),t}}},7748:(t,e,r)=>{"use strict";r.d(e,{J:()=>l});var n=r(3313),i=r(3486);const o=(t,e,r)=>t&e^t&r^e&r,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends n.N{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:t,B:e,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[t,e,r,n,i,o,s,a]}set(t,e,r,n,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)c[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=c[t-15],r=c[t-2],n=(0,i.np)(e,7)^(0,i.np)(e,18)^e>>>3,o=(0,i.np)(r,17)^(0,i.np)(r,19)^r>>>10;c[t]=o+c[t-7]+n+c[t-16]|0}let{A:r,B:n,C:a,D:u,E:l,F:h,G:d,H:f}=this;for(let t=0;t<64;t++){const e=f+((0,i.np)(l,6)^(0,i.np)(l,11)^(0,i.np)(l,25))+((p=l)&h^~p&d)+s[t]+c[t]|0,g=((0,i.np)(r,2)^(0,i.np)(r,13)^(0,i.np)(r,22))+o(r,n,a)|0;f=d,d=h,h=l,l=u+e|0,u=a,a=n,n=r,r=e+g|0}var p;r=r+this.A|0,n=n+this.B|0,a=a+this.C|0,u=u+this.D|0,l=l+this.E|0,h=h+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(r,n,a,u,l,h,d,f)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const l=(0,i.hE)((()=>new u))},3486:(t,e,r)=>{"use strict";r.d(e,{kb:()=>h,eV:()=>l,GL:()=>s,O6:()=>f,np:()=>a,O0:()=>u,Jq:()=>i,iY:()=>c,hE:()=>d});const n="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,i=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));function o(t){return t instanceof Uint8Array||null!=t&&"object"==typeof t&&"Uint8Array"===t.constructor.name}const s=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),a=(t,e)=>t<<32-e|t>>>e;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function c(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}function u(t){if("string"==typeof t&&(t=c(t)),!o(t))throw new Error("expected Uint8Array, got "+typeof t);return t}function l(...t){let e=0;for(let r=0;r<t.length;r++){const n=t[r];if(!o(n))throw new Error("Uint8Array expected");e+=n.length}const r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r}class h{clone(){return this._cloneInto()}}function d(t){const e=e=>t().update(u(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function f(t=32){if(n&&"function"==typeof n.getRandomValues)return n.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}},9174:(t,e,r)=>{"use strict";r.d(e,{ConfigCtrl:()=>_,zv:()=>g,uA:()=>m,ExplorerCtrl:()=>$,jb:()=>H,OptionsCtrl:()=>w,AV:()=>p,ThemeCtrl:()=>X,ToastCtrl:()=>tt}),Symbol();const n=Symbol(),i=Object.getPrototypeOf,o=new WeakMap,s=(t,e=!0)=>{o.set(t,e)},a=t=>"object"==typeof t&&null!==t,c=new WeakMap,u=new WeakSet,[l]=((t=Object.is,e=((t,e)=>new Proxy(t,e)),r=(t=>a(t)&&!u.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)),l=(t=>{switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t}}),h=new WeakMap,d=((t,e,r=l)=>{const n=h.get(t);if((null==n?void 0:n[0])===e)return n[1];const i=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return s(i,!0),h.set(t,[e,i]),Reflect.ownKeys(t).forEach((e=>{if(Object.getOwnPropertyDescriptor(i,e))return;const n=Reflect.get(t,e),o={value:n,enumerable:!0,configurable:!0};if(u.has(n))s(n,!1);else if(n instanceof Promise)delete o.value,o.get=()=>r(n);else if(c.has(n)){const[t,e]=c.get(n);o.value=d(t,e(),r)}Object.defineProperty(i,e,o)})),Object.preventExtensions(i)}),f=new WeakMap,p=[1,1],g=(s=>{if(!a(s))throw new Error("object required");const l=f.get(s);if(l)return l;let h=p[0];const y=new Set,m=(t,e=++p[0])=>{h!==e&&(h=e,y.forEach((r=>r(t,e))))};let b=p[1];const w=t=>(e,r)=>{const n=[...e];n[1]=[t,...n[1]],m(n,r)},v=new Map,_=t=>{var e;const r=v.get(t);r&&(v.delete(t),null==(e=r[1])||e.call(r))},E=Array.isArray(s)?[]:Object.create(Object.getPrototypeOf(s)),S=e(E,{deleteProperty(t,e){const r=Reflect.get(t,e);_(e);const n=Reflect.deleteProperty(t,e);return n&&m(["delete",[e],r]),n},set(e,s,l,h){const d=Reflect.has(e,s),p=Reflect.get(e,s,h);if(d&&(t(p,l)||f.has(l)&&t(p,f.get(l))))return!0;var b;_(s),a(l)&&(l=(t=>t&&(o.has(t)?o.get(t):i(t)===Object.prototype||i(t)===Array.prototype))(b=l)&&b[n]||null||l);let E=l;if(l instanceof Promise)l.then((t=>{l.status="fulfilled",l.value=t,m(["resolve",[s],t])})).catch((t=>{l.status="rejected",l.reason=t,m(["reject",[s],t])}));else{!c.has(l)&&r(l)&&(E=g(l));const t=!u.has(E)&&c.get(E);t&&((t,e)=>{if(v.has(t))throw new Error("prop listener already exists");if(y.size){const r=e[3](w(t));v.set(t,[e,r])}else v.set(t,[e])})(s,t)}return Reflect.set(e,s,E,h),m(["set",[s],l,p]),!0}});f.set(s,S);const k=[E,(t=++p[1])=>(b===t||y.size||(b=t,v.forEach((([e])=>{const r=e[1](t);r>h&&(h=r)}))),h),d,t=>(y.add(t),1===y.size&&v.forEach((([t,e],r)=>{if(e)throw new Error("remove already exists");const n=t[3](w(r));v.set(r,[t,n])})),()=>{y.delete(t),0===y.size&&v.forEach((([t,e],r)=>{e&&(e(),v.set(r,[t]))}))})];return c.set(S,k),Reflect.ownKeys(s).forEach((t=>{const e=Object.getOwnPropertyDescriptor(s,t);"value"in e&&(S[t]=s[t],delete e.value,delete e.writable),Object.defineProperty(E,t,e)})),S}))=>[g,c,u,t,e,r,l,h,d,f,p])();function h(t={}){return l(t)}function d(t,e,r){const n=c.get(t);let i;n||console.warn("Please use proxy object");const o=[],s=n[3];let a=!1;const u=s((t=>{o.push(t),r?e(o.splice(0)):i||(i=Promise.resolve().then((()=>{i=void 0,a&&e(o.splice(0))})))}));return a=!0,()=>{a=!1,u()}}const f=h({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),p={state:f,subscribe:t=>d(f,(()=>t(f))),push(t,e){t!==f.view&&(f.view=t,e&&(f.data=e),f.history.push(t))},reset(t){f.view=t,f.history=[t]},replace(t){f.history.length>1&&(f.history[f.history.length-1]=t,f.view=t)},goBack(){if(f.history.length>1){f.history.pop();const[t]=f.history.slice(-1);f.view=t}},setData(t){f.data=t}},g={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile:()=>typeof window<"u"&&Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)),isAndroid:()=>g.isMobile()&&navigator.userAgent.toLowerCase().includes("android"),isIos(){const t=navigator.userAgent.toLowerCase();return g.isMobile()&&(t.includes("iphone")||t.includes("ipad"))},isHttpUrl:t=>t.startsWith("http://")||t.startsWith("https://"),isArray:t=>Array.isArray(t)&&t.length>0,formatNativeUrl(t,e,r){if(g.isHttpUrl(t))return this.formatUniversalUrl(t,e,r);let n=t;return n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,r),`${n}wc?uri=${encodeURIComponent(e)}`},formatUniversalUrl(t,e,r){if(!g.isHttpUrl(t))return this.formatNativeUrl(t,e,r);let n=t;return n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,r),`${n}wc?uri=${encodeURIComponent(e)}`},wait:async t=>new Promise((e=>{setTimeout(e,t)})),openHref(t,e){window.open(t,e,"noreferrer noopener")},setWalletConnectDeepLink(t,e){try{localStorage.setItem(g.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(t){try{const[e]=t.split("?");localStorage.setItem(g.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(g.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(g.WCM_VERSION,"2.6.2")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var t;const e=null==(t=p.state.data)?void 0:t.Wallet;if(!e)throw new Error('Missing "Wallet" view data');return e}},y=h({enabled:typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),userSessionId:"",events:[],connectedWalletId:void 0}),m={state:y,subscribe:t=>d(y.events,(()=>t(function(t,e){const r=c.get(t);r||console.warn("Please use proxy object");const[n,i,o]=r;return o(n,i(),void 0)}(y.events[y.events.length-1])))),initialize(){y.enabled&&typeof(null==crypto?void 0:crypto.randomUUID)<"u"&&(y.userSessionId=crypto.randomUUID())},setConnectedWalletId(t){y.connectedWalletId=t},click(t){if(y.enabled){const e={type:"CLICK",name:t.name,userSessionId:y.userSessionId,timestamp:Date.now(),data:t};y.events.push(e)}},track(t){if(y.enabled){const e={type:"TRACK",name:t.name,userSessionId:y.userSessionId,timestamp:Date.now(),data:t};y.events.push(e)}},view(t){if(y.enabled){const e={type:"VIEW",name:t.name,userSessionId:y.userSessionId,timestamp:Date.now(),data:t};y.events.push(e)}}},b=h({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),w={state:b,subscribe:t=>d(b,(()=>t(b))),setChains(t){b.chains=t},setWalletConnectUri(t){b.walletConnectUri=t},setIsCustomDesktop(t){b.isCustomDesktop=t},setIsCustomMobile(t){b.isCustomMobile=t},setIsDataLoaded(t){b.isDataLoaded=t},setIsUiLoaded(t){b.isUiLoaded=t},setIsAuth(t){b.isAuth=t}},v=h({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),_={state:v,subscribe:t=>d(v,(()=>t(v))),setConfig(t){var e,r;m.initialize(),w.setChains(t.chains),w.setIsAuth(Boolean(t.enableAuthMode)),w.setIsCustomMobile(Boolean(null==(e=t.mobileWallets)?void 0:e.length)),w.setIsCustomDesktop(Boolean(null==(r=t.desktopWallets)?void 0:r.length)),g.setModalVersionInStorage(),Object.assign(v,t)}};var E=Object.defineProperty,S=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,A=(t,e,r)=>e in t?E(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;const I="https://explorer-api.walletconnect.com",T="wcm",C="js-2.6.2";async function O(t,e){const r=((t,e)=>{for(var r in e||(e={}))k.call(e,r)&&A(t,r,e[r]);if(S)for(var r of S(e))x.call(e,r)&&A(t,r,e[r]);return t})({sdkType:T,sdkVersion:C},e),n=new URL(t,I);return n.searchParams.append("projectId",_.state.projectId),Object.entries(r).forEach((([t,e])=>{e&&n.searchParams.append(t,String(e))})),(await fetch(n)).json()}const P=async t=>O("/w3m/v1/getDesktopListings",t),R=async t=>O("/w3m/v1/getMobileListings",t),M=async t=>O("/w3m/v1/getAllListings",t),N=t=>`${I}/w3m/v1/getWalletImage/${t}?projectId=${_.state.projectId}&sdkType=${T}&sdkVersion=${C}`,L=t=>`${I}/w3m/v1/getAssetImage/${t}?projectId=${_.state.projectId}&sdkType=${T}&sdkVersion=${C}`;var B=Object.defineProperty,D=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,z=(t,e,r)=>e in t?B(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;const F=g.isMobile(),W=h({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),$={state:W,async getRecomendedWallets(){const{explorerRecommendedWalletIds:t,explorerExcludedWalletIds:e}=_.state;if("NONE"===t||"ALL"===e&&!t)return W.recomendedWallets;if(g.isArray(t)){const e={recommendedIds:t.join(",")},{listings:r}=await M(e),n=Object.values(r);n.sort(((e,r)=>t.indexOf(e.id)-t.indexOf(r.id))),W.recomendedWallets=n}else{const{chains:t,isAuth:r}=w.state,n=t?.join(","),i=g.isArray(e),o={page:1,sdks:r?"auth_v1":void 0,entries:g.RECOMMENDED_WALLET_AMOUNT,chains:n,version:2,excludedIds:i?e.join(","):void 0},{listings:s}=F?await R(o):await P(o);W.recomendedWallets=Object.values(s)}return W.recomendedWallets},async getWallets(t){const e=((t,e)=>{for(var r in e||(e={}))j.call(e,r)&&z(t,r,e[r]);if(D)for(var r of D(e))U.call(e,r)&&z(t,r,e[r]);return t})({},t),{explorerRecommendedWalletIds:r,explorerExcludedWalletIds:n}=_.state,{recomendedWallets:i}=W;if("ALL"===n)return W.wallets;i.length?e.excludedIds=i.map((t=>t.id)).join(","):g.isArray(r)&&(e.excludedIds=r.join(",")),g.isArray(n)&&(e.excludedIds=[e.excludedIds,n].filter(Boolean).join(",")),w.state.isAuth&&(e.sdks="auth_v1");const{page:o,search:s}=t,{listings:a,total:c}=F?await R(e):await P(e),u=Object.values(a),l=s?"search":"wallets";return W[l]={listings:[...W[l].listings,...u],total:c,page:o??1},{listings:u,total:c}},getWalletImageUrl:t=>N(t),getAssetImageUrl:t=>L(t),resetSearch(){W.search={listings:[],total:0,page:1}}},q=h({open:!1}),H={state:q,subscribe:t=>d(q,(()=>t(q))),open:async t=>new Promise((e=>{const{isUiLoaded:r,isDataLoaded:n}=w.state;if(g.removeWalletConnectDeepLink(),w.setWalletConnectUri(t?.uri),w.setChains(t?.chains),p.reset("ConnectWallet"),r&&n)q.open=!0,e();else{const t=setInterval((()=>{const r=w.state;r.isUiLoaded&&r.isDataLoaded&&(clearInterval(t),q.open=!0,e())}),200)}})),close(){q.open=!1}};var V=Object.defineProperty,K=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,Y=(t,e,r)=>e in t?V(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;const J=h({themeMode:typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),X={state:J,subscribe:t=>d(J,(()=>t(J))),setThemeConfig(t){const{themeMode:e,themeVariables:r}=t;e&&(J.themeMode=e),r&&(J.themeVariables=((t,e)=>{for(var r in e||(e={}))G.call(e,r)&&Y(t,r,e[r]);if(K)for(var r of K(e))Z.call(e,r)&&Y(t,r,e[r]);return t})({},r))}},Q=h({open:!1,message:"",variant:"success"}),tt={state:Q,subscribe:t=>d(Q,(()=>t(Q))),openToast(t,e){Q.open=!0,Q.message=t,Q.variant=e},closeToast(){Q.open=!1}}},8493:(t,e,r)=>{"use strict";r.r(e),r.d(e,{WcmModal:()=>yn,WcmQrCode:()=>Er});const n=window,i=n.ShadowRoot&&(void 0===n.ShadyCSS||n.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,o=Symbol(),s=new WeakMap;class a{constructor(t,e,r){if(this._$cssResult$=!0,r!==o)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(i&&void 0===t){const r=void 0!==e&&1===e.length;r&&(t=s.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&s.set(e,t))}return t}toString(){return this.cssText}}const c=(t,...e)=>{const r=1===t.length?t[0]:e.reduce(((e,r,n)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+t[n+1]),t[0]);return new a(r,t,o)},u=i?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const r of t.cssRules)e+=r.cssText;return(t=>new a("string"==typeof t?t:t+"",void 0,o))(e)})(t):t;var l;const h=window,d=h.trustedTypes,f=d?d.emptyScript:"",p=h.reactiveElementPolyfillSupport,g={toAttribute(t,e){switch(e){case Boolean:t=t?f:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=null!==t;break;case Number:r=null===t?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch(t){r=null}}return r}},y=(t,e)=>e!==t&&(e==e||t==t),m={attribute:!0,type:String,converter:g,reflect:!1,hasChanged:y},b="finalized";class w extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(t){var e;this.finalize(),(null!==(e=this.h)&&void 0!==e?e:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,r)=>{const n=this._$Ep(r,e);void 0!==n&&(this._$Ev.set(n,r),t.push(n))})),t}static createProperty(t,e=m){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const r="symbol"==typeof t?Symbol():"__"+t,n=this.getPropertyDescriptor(t,r,e);void 0!==n&&Object.defineProperty(this.prototype,t,n)}}static getPropertyDescriptor(t,e,r){return{get(){return this[e]},set(n){const i=this[t];this[e]=n,this.requestUpdate(t,i,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||m}static finalize(){if(this.hasOwnProperty(b))return!1;this[b]=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),void 0!==t.h&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const r of e)this.createProperty(r,t[r])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const t of r)e.unshift(u(t))}else void 0!==t&&e.push(u(t));return e}static _$Ep(t,e){const r=e.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof t?t.toLowerCase():void 0}_$Eu(){var t;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,r;(null!==(e=this._$ES)&&void 0!==e?e:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(r=t.hostConnected)||void 0===r||r.call(t))}removeController(t){var e;null===(e=this._$ES)||void 0===e||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,e)=>{i?t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((e=>{const r=document.createElement("style"),i=n.litNonce;void 0!==i&&r.setAttribute("nonce",i),r.textContent=e.cssText,t.appendChild(r)}))})(e,this.constructor.elementStyles),e}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,r){this._$AK(t,r)}_$EO(t,e,r=m){var n;const i=this.constructor._$Ep(t,r);if(void 0!==i&&!0===r.reflect){const o=(void 0!==(null===(n=r.converter)||void 0===n?void 0:n.toAttribute)?r.converter:g).toAttribute(e,r.type);this._$El=t,null==o?this.removeAttribute(i):this.setAttribute(i,o),this._$El=null}}_$AK(t,e){var r;const n=this.constructor,i=n._$Ev.get(t);if(void 0!==i&&this._$El!==i){const t=n.getPropertyOptions(i),o="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(r=t.converter)||void 0===r?void 0:r.fromAttribute)?t.converter:g;this._$El=i,this[i]=o.fromAttribute(e,t.type),this._$El=null}}requestUpdate(t,e,r){let n=!0;void 0!==t&&(((r=r||this.constructor.getPropertyOptions(t)).hasChanged||y)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===r.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,r))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((t,e)=>this[e]=t)),this._$Ei=void 0);let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(r)):this._$Ek()}catch(t){throw e=!1,this._$Ek(),t}e&&this._$AE(r)}willUpdate(t){}_$AE(t){var e;null===(e=this._$ES)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,e)=>this._$EO(e,this[e],t))),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}var v;w[b]=!0,w.elementProperties=new Map,w.elementStyles=[],w.shadowRootOptions={mode:"open"},null==p||p({ReactiveElement:w}),(null!==(l=h.reactiveElementVersions)&&void 0!==l?l:h.reactiveElementVersions=[]).push("1.6.3");const _=window,E=_.trustedTypes,S=E?E.createPolicy("lit-html",{createHTML:t=>t}):void 0,k="$lit$",x=`lit$${(Math.random()+"").slice(9)}$`,A="?"+x,I=`<${A}>`,T=document,C=()=>T.createComment(""),O=t=>null===t||"object"!=typeof t&&"function"!=typeof t,P=Array.isArray,R="[ \t\n\f\r]",M=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,N=/-->/g,L=/>/g,B=RegExp(`>|${R}(?:([^\\s"'>=/]+)(${R}*=${R}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),D=/'/g,j=/"/g,U=/^(?:script|style|textarea|title)$/i,z=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),F=z(1),W=z(2),$=Symbol.for("lit-noChange"),q=Symbol.for("lit-nothing"),H=new WeakMap,V=T.createTreeWalker(T,129,null,!1);function K(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==S?S.createHTML(e):e}const G=(t,e)=>{const r=t.length-1,n=[];let i,o=2===e?"<svg>":"",s=M;for(let e=0;e<r;e++){const r=t[e];let a,c,u=-1,l=0;for(;l<r.length&&(s.lastIndex=l,c=s.exec(r),null!==c);)l=s.lastIndex,s===M?"!--"===c[1]?s=N:void 0!==c[1]?s=L:void 0!==c[2]?(U.test(c[2])&&(i=RegExp("</"+c[2],"g")),s=B):void 0!==c[3]&&(s=B):s===B?">"===c[0]?(s=null!=i?i:M,u=-1):void 0===c[1]?u=-2:(u=s.lastIndex-c[2].length,a=c[1],s=void 0===c[3]?B:'"'===c[3]?j:D):s===j||s===D?s=B:s===N||s===L?s=M:(s=B,i=void 0);const h=s===B&&t[e+1].startsWith("/>")?" ":"";o+=s===M?r+I:u>=0?(n.push(a),r.slice(0,u)+k+r.slice(u)+x+h):r+x+(-2===u?(n.push(void 0),e):h)}return[K(t,o+(t[r]||"<?>")+(2===e?"</svg>":"")),n]};class Z{constructor({strings:t,_$litType$:e},r){let n;this.parts=[];let i=0,o=0;const s=t.length-1,a=this.parts,[c,u]=G(t,e);if(this.el=Z.createElement(c,r),V.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(n=V.nextNode())&&a.length<s;){if(1===n.nodeType){if(n.hasAttributes()){const t=[];for(const e of n.getAttributeNames())if(e.endsWith(k)||e.startsWith(x)){const r=u[o++];if(t.push(e),void 0!==r){const t=n.getAttribute(r.toLowerCase()+k).split(x),e=/([.?@])?(.*)/.exec(r);a.push({type:1,index:i,name:e[2],strings:t,ctor:"."===e[1]?tt:"?"===e[1]?rt:"@"===e[1]?nt:Q})}else a.push({type:6,index:i})}for(const e of t)n.removeAttribute(e)}if(U.test(n.tagName)){const t=n.textContent.split(x),e=t.length-1;if(e>0){n.textContent=E?E.emptyScript:"";for(let r=0;r<e;r++)n.append(t[r],C()),V.nextNode(),a.push({type:2,index:++i});n.append(t[e],C())}}}else if(8===n.nodeType)if(n.data===A)a.push({type:2,index:i});else{let t=-1;for(;-1!==(t=n.data.indexOf(x,t+1));)a.push({type:7,index:i}),t+=x.length-1}i++}}static createElement(t,e){const r=T.createElement("template");return r.innerHTML=t,r}}function Y(t,e,r=t,n){var i,o,s,a;if(e===$)return e;let c=void 0!==n?null===(i=r._$Co)||void 0===i?void 0:i[n]:r._$Cl;const u=O(e)?void 0:e._$litDirective$;return(null==c?void 0:c.constructor)!==u&&(null===(o=null==c?void 0:c._$AO)||void 0===o||o.call(c,!1),void 0===u?c=void 0:(c=new u(t),c._$AT(t,r,n)),void 0!==n?(null!==(s=(a=r)._$Co)&&void 0!==s?s:a._$Co=[])[n]=c:r._$Cl=c),void 0!==c&&(e=Y(t,c._$AS(t,e.values),c,n)),e}class J{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var e;const{el:{content:r},parts:n}=this._$AD,i=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:T).importNode(r,!0);V.currentNode=i;let o=V.nextNode(),s=0,a=0,c=n[0];for(;void 0!==c;){if(s===c.index){let e;2===c.type?e=new X(o,o.nextSibling,this,t):1===c.type?e=new c.ctor(o,c.name,c.strings,this,t):6===c.type&&(e=new it(o,this,t)),this._$AV.push(e),c=n[++a]}s!==(null==c?void 0:c.index)&&(o=V.nextNode(),s++)}return V.currentNode=T,i}v(t){let e=0;for(const r of this._$AV)void 0!==r&&(void 0!==r.strings?(r._$AI(t,r,e),e+=r.strings.length-2):r._$AI(t[e])),e++}}class X{constructor(t,e,r,n){var i;this.type=2,this._$AH=q,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=r,this.options=n,this._$Cp=null===(i=null==n?void 0:n.isConnected)||void 0===i||i}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===(null==t?void 0:t.nodeType)&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=Y(this,t,e),O(t)?t===q||null==t||""===t?(this._$AH!==q&&this._$AR(),this._$AH=q):t!==this._$AH&&t!==$&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):(t=>P(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]))(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==q&&O(this._$AH)?this._$AA.nextSibling.data=t:this.$(T.createTextNode(t)),this._$AH=t}g(t){var e;const{values:r,_$litType$:n}=t,i="number"==typeof n?this._$AC(t):(void 0===n.el&&(n.el=Z.createElement(K(n.h,n.h[0]),this.options)),n);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===i)this._$AH.v(r);else{const t=new J(i,this),e=t.u(this.options);t.v(r),this.$(e),this._$AH=t}}_$AC(t){let e=H.get(t.strings);return void 0===e&&H.set(t.strings,e=new Z(t)),e}T(t){P(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let r,n=0;for(const i of t)n===e.length?e.push(r=new X(this.k(C()),this.k(C()),this,this.options)):r=e[n],r._$AI(i),n++;n<e.length&&(this._$AR(r&&r._$AB.nextSibling,n),e.length=n)}_$AR(t=this._$AA.nextSibling,e){var r;for(null===(r=this._$AP)||void 0===r||r.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cp=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class Q{constructor(t,e,r,n,i){this.type=1,this._$AH=q,this._$AN=void 0,this.element=t,this.name=e,this._$AM=n,this.options=i,r.length>2||""!==r[0]||""!==r[1]?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=q}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,r,n){const i=this.strings;let o=!1;if(void 0===i)t=Y(this,t,e,0),o=!O(t)||t!==this._$AH&&t!==$,o&&(this._$AH=t);else{const n=t;let s,a;for(t=i[0],s=0;s<i.length-1;s++)a=Y(this,n[r+s],e,s),a===$&&(a=this._$AH[s]),o||(o=!O(a)||a!==this._$AH[s]),a===q?t=q:t!==q&&(t+=(null!=a?a:"")+i[s+1]),this._$AH[s]=a}o&&!n&&this.j(t)}j(t){t===q?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class tt extends Q{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===q?void 0:t}}const et=E?E.emptyScript:"";class rt extends Q{constructor(){super(...arguments),this.type=4}j(t){t&&t!==q?this.element.setAttribute(this.name,et):this.element.removeAttribute(this.name)}}class nt extends Q{constructor(t,e,r,n,i){super(t,e,r,n,i),this.type=5}_$AI(t,e=this){var r;if((t=null!==(r=Y(this,t,e,0))&&void 0!==r?r:q)===$)return;const n=this._$AH,i=t===q&&n!==q||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,o=t!==q&&(n===q||i);i&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,r;"function"==typeof this._$AH?this._$AH.call(null!==(r=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==r?r:this.element,t):this._$AH.handleEvent(t)}}class it{constructor(t,e,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){Y(this,t)}}const ot=_.litHtmlPolyfillSupport;var st,at;null==ot||ot(Z,X),(null!==(v=_.litHtmlVersions)&&void 0!==v?v:_.litHtmlVersions=[]).push("2.8.0");class ct extends w{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;const r=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=r.firstChild),r}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=((t,e,r)=>{var n,i;const o=null!==(n=null==r?void 0:r.renderBefore)&&void 0!==n?n:e;let s=o._$litPart$;if(void 0===s){const t=null!==(i=null==r?void 0:r.renderBefore)&&void 0!==i?i:null;o._$litPart$=s=new X(e.insertBefore(C(),t),t,void 0,null!=r?r:{})}return s._$AI(t),s})(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return $}}ct.finalized=!0,ct._$litElement$=!0,null===(st=globalThis.litElementHydrateSupport)||void 0===st||st.call(globalThis,{LitElement:ct});const ut=globalThis.litElementPolyfillSupport;null==ut||ut({LitElement:ct}),(null!==(at=globalThis.litElementVersions)&&void 0!==at?at:globalThis.litElementVersions=[]).push("3.3.3");const lt=t=>e=>"function"==typeof e?((t,e)=>(customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:r,elements:n}=e;return{kind:r,elements:n,finisher(e){customElements.define(t,e)}}})(t,e),ht=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(r){r.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(r){r.createProperty(e.key,t)}},dt=(t,e,r)=>{e.constructor.createProperty(r,t)};function ft(t){return(e,r)=>void 0!==r?dt(t,e,r):ht(t,e)}function pt(t){return ft({...t,state:!0})}var gt;null===(gt=window.HTMLSlotElement)||void 0===gt||gt.prototype.assignedElements;class yt{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,r){this._$Ct=t,this._$AM=e,this._$Ci=r}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}const mt=(bt=class extends yt{constructor(t){var e;if(super(t),1!==t.type||"class"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((e=>t[e])).join(" ")+" "}update(t,[e]){var r,n;if(void 0===this.it){this.it=new Set,void 0!==t.strings&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter((t=>""!==t))));for(const t in e)e[t]&&!(null===(r=this.nt)||void 0===r?void 0:r.has(t))&&this.it.add(t);return this.render(e)}const i=t.element.classList;this.it.forEach((t=>{t in e||(i.remove(t),this.it.delete(t))}));for(const t in e){const r=!!e[t];r===this.it.has(t)||(null===(n=this.nt)||void 0===n?void 0:n.has(t))||(r?(i.add(t),this.it.add(t)):(i.remove(t),this.it.delete(t)))}return $}},(...t)=>({_$litDirective$:bt,values:t}));var bt,wt=r(9174);const vt={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},_t=t=>1e3*t,Et=t=>t/1e3,St=()=>{},kt=t=>t;function xt(t,e=!0){if(t&&"finished"!==t.playState)try{t.stop?t.stop():(e&&t.commitStyles(),t.cancel())}catch(t){}}const At=t=>t(),It=(t,e,r=vt.duration)=>new Proxy({animations:t.map(At).filter(Boolean),duration:r,options:e},Tt),Tt={get:(t,e)=>{const r=t.animations[0];switch(e){case"duration":return t.duration;case"currentTime":return Et((null==r?void 0:r[e])||0);case"playbackRate":case"playState":return null==r?void 0:r[e];case"finished":return t.finished||(t.finished=Promise.all(t.animations.map(Ct)).catch(St)),t.finished;case"stop":return()=>{t.animations.forEach((t=>xt(t)))};case"forEachNative":return e=>{t.animations.forEach((r=>e(r,t)))};default:return void 0===(null==r?void 0:r[e])?void 0:()=>t.animations.forEach((t=>t[e]()))}},set:(t,e,r)=>{switch(e){case"currentTime":r=_t(r);case"playbackRate":for(let n=0;n<t.animations.length;n++)t.animations[n][e]=r;return!0}return!1}},Ct=t=>t.finished,Ot=t=>"object"==typeof t&&Boolean(t.createAnimation),Pt=t=>"number"==typeof t,Rt=t=>Array.isArray(t)&&!Pt(t[0]),Mt=(t,e,r)=>-r*t+r*e+t,Nt=(t,e,r)=>e-t==0?1:(r-t)/(e-t);function Lt(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Nt(0,e,n);t.push(Mt(r,1,i))}}const Bt=(t,e,r)=>Math.min(Math.max(r,t),e);const Dt=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,jt=1e-7,Ut=12;function zt(t,e,r,n){if(t===e&&r===n)return kt;return i=>0===i||1===i?i:Dt(function(t,e,r,n,i){let o,s,a=0;do{s=e+(r-e)/2,o=Dt(s,n,i)-t,o>0?r=s:e=s}while(Math.abs(o)>jt&&++a<Ut);return s}(i,0,1,t,r),e,n)}const Ft=t=>"function"==typeof t,Wt=t=>Array.isArray(t)&&Pt(t[0]),$t={ease:zt(.25,.1,.25,1),"ease-in":zt(.42,0,1,1),"ease-in-out":zt(.42,0,.58,1),"ease-out":zt(0,0,.58,1)},qt=/\((.*?)\)/;function Ht(t){if(Ft(t))return t;if(Wt(t))return zt(...t);if($t[t])return $t[t];if(t.startsWith("steps")){const e=qt.exec(t);if(e){const t=e[1].split(",");return((t,e="end")=>r=>{const n=(r="end"===e?Math.min(r,.999):Math.max(r,.001))*t,i="end"===e?Math.floor(n):Math.ceil(n);return Bt(0,1,i/t)})(parseFloat(t[0]),t[1].trim())}}return kt}class Vt{constructor(t,e=[0,1],{easing:r,duration:n=vt.duration,delay:i=vt.delay,endDelay:o=vt.endDelay,repeat:s=vt.repeat,offset:a,direction:c="normal",autoplay:u=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=kt,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise(((t,e)=>{this.resolve=t,this.reject=e})),r=r||vt.easing,Ot(r)){const t=r.createAnimation(e);r=t.easing,e=t.keyframes||e,n=t.duration||n}this.repeat=s,this.easing=Rt(r)?kt:Ht(r),this.updateDuration(n);const l=function(t,e=function(t){const e=[0];return Lt(e,t-1),e}(t.length),r=kt){const n=t.length,i=n-e.length;return i>0&&Lt(e,i),i=>{let o=0;for(;o<n-2&&!(i<e[o+1]);o++);let s=Bt(0,1,Nt(e[o],e[o+1],i));const a=function(t,e){return Rt(t)?t[((t,e,r)=>{const n=e-t;return((r-t)%n+n)%n+t})(0,t.length,e)]:t}(r,o);return s=a(s),Mt(t[o],t[o+1],s)}}(e,a,Rt(r)?r.map(Ht):kt);this.tick=e=>{var r;let n=0;n=void 0!==this.pauseTime?this.pauseTime:(e-this.startTime)*this.rate,this.t=n,n/=1e3,n=Math.max(n-i,0),"finished"===this.playState&&void 0===this.pauseTime&&(n=this.totalDuration);const s=n/this.duration;let a=Math.floor(s),u=s%1;!u&&s>=1&&(u=1),1===u&&a--;const h=a%2;("reverse"===c||"alternate"===c&&h||"alternate-reverse"===c&&!h)&&(u=1-u);const d=n>=this.totalDuration?1:Math.min(u,1),f=l(this.easing(d));t(f),void 0===this.pauseTime&&("finished"===this.playState||n>=this.totalDuration+o)?(this.playState="finished",null===(r=this.resolve)||void 0===r||r.call(this,f)):"idle"!==this.playState&&(this.frameRequestId=requestAnimationFrame(this.tick))},u&&this.play()}play(){const t=performance.now();this.playState="running",void 0!==this.pauseTime?this.startTime=t-this.pauseTime:this.startTime||(this.startTime=t),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var t;this.playState="idle",void 0!==this.frameRequestId&&cancelAnimationFrame(this.frameRequestId),null===(t=this.reject)||void 0===t||t.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(t){this.duration=t,this.totalDuration=t*(this.repeat+1)}get currentTime(){return this.t}set currentTime(t){void 0!==this.pauseTime||0===this.rate?this.pauseTime=t:this.startTime=performance.now()-t/this.rate}get playbackRate(){return this.rate}set playbackRate(t){this.rate=t}}class Kt{setAnimation(t){this.animation=t,null==t||t.finished.then((()=>this.clearAnimation())).catch((()=>{}))}clearAnimation(){this.animation=this.generator=void 0}}const Gt=new WeakMap;function Zt(t){return Gt.has(t)||Gt.set(t,{transforms:[],values:new Map}),Gt.get(t)}const Yt=["","X","Y","Z"],Jt={x:"translateX",y:"translateY",z:"translateZ"},Xt={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:t=>t+"deg"},Qt={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:t=>t+"px"},rotate:Xt,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:kt},skew:Xt},te=new Map,ee=t=>`--motion-${t}`,re=["x","y","z"];["translate","scale","rotate","skew"].forEach((t=>{Yt.forEach((e=>{re.push(t+e),te.set(ee(t+e),Qt[t])}))}));const ne=(t,e)=>re.indexOf(t)-re.indexOf(e),ie=new Set(re),oe=t=>ie.has(t),se=t=>t.sort(ne).reduce(ae,"").trim(),ae=(t,e)=>`${t} ${e}(var(${ee(e)}))`,ce=t=>t.startsWith("--"),ue=new Set,le=(t,e)=>document.createElement("div").animate(t,e),he={cssRegisterProperty:()=>"undefined"!=typeof CSS&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{le({opacity:[1]})}catch(t){return!1}return!0},finished:()=>Boolean(le({opacity:[0,1]},{duration:.001}).finished),linearEasing:()=>{try{le({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0}},de={},fe={};for(const t in he)fe[t]=()=>(void 0===de[t]&&(de[t]=he[t]()),de[t]);const pe=(t,e)=>Ft(t)?fe.linearEasing()?`linear(${((t,e)=>{let r="";const n=Math.round(e/.015);for(let e=0;e<n;e++)r+=t(Nt(0,n-1,e))+", ";return r.substring(0,r.length-2)})(t,e)})`:vt.easing:Wt(t)?ge(t):t,ge=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`;function ye(t){return Jt[t]&&(t=Jt[t]),oe(t)?ee(t):t}const me=(t,e)=>{e=ye(e);let r=ce(e)?t.style.getPropertyValue(e):getComputedStyle(t)[e];if(!r&&0!==r){const t=te.get(e);t&&(r=t.initialValue)}return r},be=(t,e,r)=>{e=ye(e),ce(e)?t.style.setProperty(e,r):t.style[e]=r};function we(t,e,r,n={},i){const o=window.__MOTION_DEV_TOOLS_RECORD,s=!1!==n.record&&o;let a,{duration:c=vt.duration,delay:u=vt.delay,endDelay:l=vt.endDelay,repeat:h=vt.repeat,easing:d=vt.easing,persist:f=!1,direction:p,offset:g,allowWebkitAcceleration:y=!1,autoplay:m=!0}=n;const b=Zt(t),w=oe(e);let v=fe.waapi();w&&((t,e)=>{Jt[e]&&(e=Jt[e]);const{transforms:r}=Zt(t);var n,i;i=e,-1===(n=r).indexOf(i)&&n.push(i),t.style.transform=se(r)})(t,e);const _=ye(e),E=function(t,e){return t.has(e)||t.set(e,new Kt),t.get(e)}(b.values,_),S=te.get(_);return xt(E.animation,!(Ot(d)&&E.generator)&&!1!==n.record),()=>{const b=()=>{var e,r;return null!==(r=null!==(e=me(t,_))&&void 0!==e?e:null==S?void 0:S.initialValue)&&void 0!==r?r:0};let k=function(t,e){for(let r=0;r<t.length;r++)null===t[r]&&(t[r]=r?t[r-1]:e());return t}((t=>Array.isArray(t)?t:[t])(r),b);const x=function(t,e){var r;let n=(null==e?void 0:e.toDefaultUnit)||kt;const i=t[t.length-1];if("string"==typeof i){const t=(null===(r=i.match(/(-?[\d.]+)([a-z%]*)/))||void 0===r?void 0:r[2])||"";t&&(n=e=>e+t)}return n}(k,S);if(Ot(d)){const t=d.createAnimation(k,"opacity"!==e,b,_,E);d=t.easing,k=t.keyframes||k,c=t.duration||c}if(ce(_)&&(fe.cssRegisterProperty()?function(t){if(!ue.has(t)){ue.add(t);try{const{syntax:e,initialValue:r}=te.has(t)?te.get(t):{};CSS.registerProperty({name:t,inherits:!1,syntax:e,initialValue:r})}catch(t){}}}(_):v=!1),w&&!fe.linearEasing()&&(Ft(d)||Rt(d)&&d.some(Ft))&&(v=!1),v){S&&(k=k.map((t=>Pt(t)?S.toDefaultUnit(t):t))),1!==k.length||fe.partialKeyframes()&&!s||k.unshift(b());const e={delay:_t(u),duration:_t(c),endDelay:_t(l),easing:Rt(d)?void 0:pe(d,c),direction:p,iterations:h+1,fill:"both"};a=t.animate({[_]:k,offset:g,easing:Rt(d)?d.map((t=>pe(t,c))):void 0},e),a.finished||(a.finished=new Promise(((t,e)=>{a.onfinish=t,a.oncancel=e})));const r=k[k.length-1];a.finished.then((()=>{f||(be(t,_,r),a.cancel())})).catch(St),y||(a.playbackRate=1.000001)}else if(i&&w)k=k.map((t=>"string"==typeof t?parseFloat(t):t)),1===k.length&&k.unshift(parseFloat(b())),a=new i((e=>{be(t,_,x?x(e):e)}),k,Object.assign(Object.assign({},n),{duration:c,easing:d}));else{const e=k[k.length-1];be(t,_,S&&Pt(e)?S.toDefaultUnit(e):e)}return s&&o(t,e,k,{duration:c,delay:u,easing:d,repeat:h,offset:g},"motion-one"),E.setAnimation(a),a&&!m&&a.pause(),a}}const ve=(t,e)=>t[e]?Object.assign(Object.assign({},t),t[e]):Object.assign({},t);function _e(t,e,r){return Ft(t)?t(e,r):t}const Ee=(Se=Vt,function(t,e,r={}){const n=(t=function(t,e){return"string"==typeof t?t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}(t)).length;Boolean(n),Boolean(e);const i=[];for(let o=0;o<n;o++){const s=t[o];for(const t in e){const a=ve(r,t);a.delay=_e(a.delay,o,n);const c=we(s,t,e[t],a,Se);i.push(c)}}return It(i,r,r.duration)});var Se;function ke(t,e={}){return It([()=>{const r=new Vt(t,[0,1],e);return r.finished.catch((()=>{})),r}],e,e.duration)}function xe(t,e,r){return(Ft(t)?ke:Ee)(t,e,r)}const Ae=t=>null!=t?t:q;var Ie=r(2592),Te=Object.defineProperty,Ce=Object.getOwnPropertySymbols,Oe=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable,Re=(t,e,r)=>e in t?Te(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Me=(t,e)=>{for(var r in e||(e={}))Oe.call(e,r)&&Re(t,r,e[r]);if(Ce)for(var r of Ce(e))Pe.call(e,r)&&Re(t,r,e[r]);return t};const Ne={getPreset:t=>({"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}[t]),setTheme(){const t=document.querySelector(":root"),{themeVariables:e}=wt.ThemeCtrl.state;if(t){const r=Me(Me(Me({},function(){var t;const e={light:{foreground:{1:"rgb(20,20,20)",2:"rgb(121,134,134)",3:"rgb(158,169,169)"},background:{1:"rgb(255,255,255)",2:"rgb(241,243,243)",3:"rgb(228,231,231)"},overlay:"rgba(0,0,0,0.1)"},dark:{foreground:{1:"rgb(228,231,231)",2:"rgb(148,158,158)",3:"rgb(110,119,119)"},background:{1:"rgb(20,20,20)",2:"rgb(39,42,42)",3:"rgb(59,64,64)"},overlay:"rgba(255,255,255,0.1)"}}[null!=(t=wt.ThemeCtrl.state.themeMode)?t:"dark"];return{"--wcm-color-fg-1":e.foreground[1],"--wcm-color-fg-2":e.foreground[2],"--wcm-color-fg-3":e.foreground[3],"--wcm-color-bg-1":e.background[1],"--wcm-color-bg-2":e.background[2],"--wcm-color-bg-3":e.background[3],"--wcm-color-overlay":e.overlay}}()),{"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}),e);Object.entries(r).forEach((([e,r])=>t.style.setProperty(e,r)))}},globalCss:c`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button wcm-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--wcm-accent-fill-color);background:var(--wcm-accent-color)}`},Le=c`button{border-radius:var(--wcm-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--wcm-accent-color)}button path{fill:var(--wcm-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--wcm-color-overlay)}button:disabled::after{background-color:transparent}.wcm-icon-left svg{margin-right:5px}.wcm-icon-right svg{margin-left:5px}button:active::after{background-color:var(--wcm-color-overlay)}.wcm-ghost,.wcm-ghost:active::after,.wcm-outline{background-color:transparent}.wcm-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}.wcm-ghost:hover::after{background-color:transparent}.wcm-ghost:hover{opacity:.5}}button:disabled{background-color:var(--wcm-color-bg-3);pointer-events:none}.wcm-ghost::after{border-color:transparent}.wcm-ghost path{fill:var(--wcm-color-fg-2)}.wcm-outline path{fill:var(--wcm-accent-color)}.wcm-outline:disabled{background-color:transparent;opacity:.5}`;var Be=Object.defineProperty,De=Object.getOwnPropertyDescriptor,je=(t,e,r,n)=>{for(var i,o=n>1?void 0:n?De(e,r):e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n?i(e,r,o):i(o))||o);return n&&o&&Be(e,r,o),o};let Ue=class extends ct{constructor(){super(...arguments),this.disabled=!1,this.iconLeft=void 0,this.iconRight=void 0,this.onClick=()=>null,this.variant="default"}render(){const t={"wcm-icon-left":void 0!==this.iconLeft,"wcm-icon-right":void 0!==this.iconRight,"wcm-ghost":"ghost"===this.variant,"wcm-outline":"outline"===this.variant};let e="inverse";return"ghost"===this.variant&&(e="secondary"),"outline"===this.variant&&(e="accent"),F`<button class="${mt(t)}" ?disabled="${this.disabled}" @click="${this.onClick}">${this.iconLeft}<wcm-text variant="small-regular" color="${e}"><slot></slot></wcm-text>${this.iconRight}</button>`}};Ue.styles=[Ne.globalCss,Le],je([ft({type:Boolean})],Ue.prototype,"disabled",2),je([ft()],Ue.prototype,"iconLeft",2),je([ft()],Ue.prototype,"iconRight",2),je([ft()],Ue.prototype,"onClick",2),je([ft()],Ue.prototype,"variant",2),Ue=je([lt("wcm-button")],Ue);const ze=c`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--wcm-button-border-radius);color:var(--wcm-accent-fill-color);background-color:var(--wcm-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--wcm-color-overlay)}button:active::after{background-color:var(--wcm-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--wcm-color-bg-3);color:var(--wcm-color-fg-3)}.wcm-secondary{color:var(--wcm-accent-color);background-color:transparent}.wcm-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}}`;var Fe=Object.defineProperty,We=Object.getOwnPropertyDescriptor,$e=(t,e,r,n)=>{for(var i,o=n>1?void 0:n?We(e,r):e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n?i(e,r,o):i(o))||o);return n&&o&&Fe(e,r,o),o};let qe=class extends ct{constructor(){super(...arguments),this.disabled=!1,this.variant="primary"}render(){const t={"wcm-secondary":"secondary"===this.variant};return F`<button ?disabled="${this.disabled}" class="${mt(t)}"><slot></slot></button>`}};qe.styles=[Ne.globalCss,ze],$e([ft({type:Boolean})],qe.prototype,"disabled",2),$e([ft()],qe.prototype,"variant",2),qe=$e([lt("wcm-button-big")],qe);const He=c`:host{background-color:var(--wcm-color-bg-2);border-top:1px solid var(--wcm-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let Ve=class extends ct{render(){return F`<div><slot></slot></div>`}};Ve.styles=[Ne.globalCss,He],Ve=((t,e,r,n)=>{for(var i,o=e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=i(o)||o);return o})([lt("wcm-info-footer")],Ve);const Ke={CROSS_ICON:W`<svg width="12" height="12" viewBox="0 0 12 12"><path d="M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z" fill="#fff"/></svg>`,WALLET_CONNECT_LOGO:W`<svg width="178" height="29" viewBox="0 0 178 29" id="wcm-wc-logo"><path d="M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z" fill="#fff"/></svg>`,WALLET_CONNECT_ICON:W`<svg width="28" height="20" viewBox="0 0 28 20"><g clip-path="url(#a)"><path d="M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z" fill="#000000"/></g><defs><clipPath id="a"><path fill="#ffffff" d="M0 0h28v20H0z"/></clipPath></defs></svg>`,WALLET_CONNECT_ICON_COLORED:W`<svg width="96" height="96" fill="none"><path fill="#fff" d="M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z"/><path stroke="#000" d="M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z"/></svg>`,BACK_ICON:W`<svg width="10" height="18" viewBox="0 0 10 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z" fill="#fff"/></svg>`,COPY_ICON:W`<svg width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z" clip-rule="evenodd"/></svg>`,RETRY_ICON:W`<svg width="15" height="16" viewBox="0 0 15 16"><path d="M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z" fill="#fff"/></svg>`,DESKTOP_ICON:W`<svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z" fill="#fff"/><path d="M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,MOBILE_ICON:W`<svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z" fill="#fff"/></svg>`,ARROW_DOWN_ICON:W`<svg width="14" height="14" viewBox="0 0 14 14"><path d="M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z" fill="#fff"/></svg>`,ARROW_UP_RIGHT_ICON:W`<svg width="15" height="14" fill="none"><path d="M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,ARROW_RIGHT_ICON:W`<svg width="6" height="14" viewBox="0 0 6 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z" fill="#fff"/></svg>`,QRCODE_ICON:W`<svg width="25" height="24" viewBox="0 0 25 24"><path d="M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z" fill="#fff"/><path d="M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z" fill="#fff"/></svg>`,SCAN_ICON:W`<svg width="16" height="16" fill="none"><path fill="#fff" d="M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z"/></svg>`,CHECKMARK_ICON:W`<svg width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z" fill="#fff"/></svg>`,SEARCH_ICON:W`<svg width="20" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" fill="#949E9E"/></svg>`,WALLET_PLACEHOLDER:W`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#q)"><path id="wallet-placeholder-fill" fill="#fff" d="M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z"/><path id="wallet-placeholder-dash" stroke="#000" stroke-dasharray="4 4" stroke-width="1.5" d="M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z"/><path fill="#fff" fill-rule="evenodd" d="M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z" clip-rule="evenodd"/><path fill="#9EA9A9" fill-rule="evenodd" d="M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z" clip-rule="evenodd"/></g><defs><clipPath id="q"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,GLOBE_ICON:W`<svg width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#fff" fill-rule="evenodd" d="M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z" clip-rule="evenodd"/></svg>`},Ge=c`.wcm-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--wcm-background-border-radius) * .9);background-color:var(--wcm-background-color);background-position:center;background-size:cover}.wcm-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.wcm-toolbar img,.wcm-toolbar svg{height:28px;object-position:left center;object-fit:contain}#wcm-wc-logo path{fill:var(--wcm-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--wcm-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--wcm-color-bg-1);box-shadow:0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--wcm-color-fg-1)}.wcm-toolbar div{display:flex}@media(hover:hover){button:hover{background-color:var(--wcm-color-bg-2)}}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let Ze=class extends ct{render(){return F`<div class="wcm-toolbar-placeholder"></div><div class="wcm-toolbar">${Ke.WALLET_CONNECT_LOGO} <button @click="${wt.jb.close}">${Ke.CROSS_ICON}</button></div>`}};Ze.styles=[Ne.globalCss,Ge],Ze=((t,e,r,n)=>{for(var i,o=e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=i(o)||o);return o})([lt("wcm-modal-backcard")],Ze);const Ye=c`main{padding:20px;padding-top:0;width:100%}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let Je=class extends ct{render(){return F`<main><slot></slot></main>`}};Je.styles=[Ne.globalCss,Ye],Je=((t,e,r,n)=>{for(var i,o=e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=i(o)||o);return o})([lt("wcm-modal-content")],Je);const Xe=c`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--wcm-color-bg-2)}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let Qe=class extends ct{render(){return F`<footer><slot></slot></footer>`}};Qe.styles=[Ne.globalCss,Xe],Qe=((t,e,r,n)=>{for(var i,o=e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=i(o)||o);return o})([lt("wcm-modal-footer")],Qe);const tr=c`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.wcm-border{border-bottom:1px solid var(--wcm-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.wcm-back-btn{position:absolute;left:0}.wcm-action-btn{position:absolute;right:0}path{fill:var(--wcm-accent-color)}`;var er=Object.defineProperty,rr=Object.getOwnPropertyDescriptor,nr=(t,e,r,n)=>{for(var i,o=n>1?void 0:n?rr(e,r):e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n?i(e,r,o):i(o))||o);return n&&o&&er(e,r,o),o};let ir=class extends ct{constructor(){super(...arguments),this.title="",this.onAction=void 0,this.actionIcon=void 0,this.border=!1}backBtnTemplate(){return F`<button class="wcm-back-btn" @click="${wt.AV.goBack}">${Ke.BACK_ICON}</button>`}actionBtnTemplate(){return F`<button class="wcm-action-btn" @click="${this.onAction}">${this.actionIcon}</button>`}render(){const t={"wcm-border":this.border},e=wt.AV.state.history.length>1,r=this.title?F`<wcm-text variant="big-bold">${this.title}</wcm-text>`:F`<slot></slot>`;return F`<header class="${mt(t)}">${e?this.backBtnTemplate():null} ${r} ${this.onAction?this.actionBtnTemplate():null}</header>`}};ir.styles=[Ne.globalCss,tr],nr([ft()],ir.prototype,"title",2),nr([ft()],ir.prototype,"onAction",2),nr([ft()],ir.prototype,"actionIcon",2),nr([ft({type:Boolean})],ir.prototype,"border",2),ir=nr([lt("wcm-modal-header")],ir);const or={MOBILE_BREAKPOINT:600,WCM_RECENT_WALLET_DATA:"WCM_RECENT_WALLET_DATA",EXPLORER_WALLET_URL:"https://explorer.walletconnect.com/?type=wallet",getShadowRootElement(t,e){const r=t.renderRoot.querySelector(e);if(!r)throw new Error(`${e} not found`);return r},getWalletIcon({id:t,image_id:e}){const{walletImages:r}=wt.ConfigCtrl.state;return null!=r&&r[t]?r[t]:e?wt.ExplorerCtrl.getWalletImageUrl(e):""},getWalletName:(t,e=!1)=>e&&t.length>8?`${t.substring(0,8)}..`:t,isMobileAnimation:()=>window.innerWidth<=or.MOBILE_BREAKPOINT,async preloadImage(t){const e=new Promise(((e,r)=>{const n=new Image;n.onload=e,n.onerror=r,n.crossOrigin="anonymous",n.src=t}));return Promise.race([e,wt.zv.wait(3e3)])},getErrorMessage:t=>t instanceof Error?t.message:"Unknown Error",debounce(t,e=500){let r;return(...n)=>{r&&clearTimeout(r),r=setTimeout((function(){t(...n)}),e)}},handleMobileLinking(t){const{walletConnectUri:e}=wt.OptionsCtrl.state,{mobile:r,name:n}=t,i=r?.native,o=r?.universal;or.setRecentWallet(t),e&&function(t){let e="";i?e=wt.zv.formatUniversalUrl(i,t,n):o&&(e=wt.zv.formatNativeUrl(o,t,n)),wt.zv.openHref(e,"_self")}(e)},handleAndroidLinking(){const{walletConnectUri:t}=wt.OptionsCtrl.state;t&&(wt.zv.setWalletConnectAndroidDeepLink(t),wt.zv.openHref(t,"_self"))},async handleUriCopy(){const{walletConnectUri:t}=wt.OptionsCtrl.state;if(t)try{await navigator.clipboard.writeText(t),wt.ToastCtrl.openToast("Link copied","success")}catch{wt.ToastCtrl.openToast("Failed to copy","error")}},getCustomImageUrls(){const{walletImages:t}=wt.ConfigCtrl.state,e=Object.values(t??{});return Object.values(e)},truncate:(t,e=8)=>t.length<=e?t:`${t.substring(0,4)}...${t.substring(t.length-4)}`,setRecentWallet(t){try{localStorage.setItem(or.WCM_RECENT_WALLET_DATA,JSON.stringify(t))}catch{console.info("Unable to set recent wallet")}},getRecentWallet(){try{const t=localStorage.getItem(or.WCM_RECENT_WALLET_DATA);return t?JSON.parse(t):void 0}catch{console.info("Unable to get recent wallet")}},caseSafeIncludes:(t,e)=>t.toUpperCase().includes(e.toUpperCase()),openWalletExplorerUrl(){wt.zv.openHref(or.EXPLORER_WALLET_URL,"_blank")},getCachedRouterWalletPlatforms(){const{desktop:t,mobile:e}=wt.zv.getWalletRouterData(),r=Boolean(t?.native),n=Boolean(t?.universal);return{isDesktop:r,isMobile:Boolean(e?.native)||Boolean(e?.universal),isWeb:n}},goToConnectingView(t){wt.AV.setData({Wallet:t});const e=wt.zv.isMobile(),{isDesktop:r,isWeb:n,isMobile:i}=or.getCachedRouterWalletPlatforms();e?i?wt.AV.push("MobileConnecting"):n?wt.AV.push("WebConnecting"):wt.AV.push("InstallWallet"):r?wt.AV.push("DesktopConnecting"):n?wt.AV.push("WebConnecting"):i?wt.AV.push("MobileQrcodeConnecting"):wt.AV.push("InstallWallet")}},sr=c`.wcm-router{overflow:hidden;will-change:transform}.wcm-content{display:flex;flex-direction:column}`;var ar=Object.defineProperty,cr=Object.getOwnPropertyDescriptor,ur=(t,e,r,n)=>{for(var i,o=n>1?void 0:n?cr(e,r):e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n?i(e,r,o):i(o))||o);return n&&o&&ar(e,r,o),o};let lr=class extends ct{constructor(){super(),this.view=wt.AV.state.view,this.prevView=wt.AV.state.view,this.unsubscribe=void 0,this.oldHeight="0px",this.resizeObserver=void 0,this.unsubscribe=wt.AV.subscribe((t=>{this.view!==t.view&&this.onChangeRoute()}))}firstUpdated(){this.resizeObserver=new ResizeObserver((([t])=>{const e=`${t.contentRect.height}px`;"0px"!==this.oldHeight&&xe(this.routerEl,{height:[this.oldHeight,e]},{duration:.2}),this.oldHeight=e})),this.resizeObserver.observe(this.contentEl)}disconnectedCallback(){var t,e;null==(t=this.unsubscribe)||t.call(this),null==(e=this.resizeObserver)||e.disconnect()}get routerEl(){return or.getShadowRootElement(this,".wcm-router")}get contentEl(){return or.getShadowRootElement(this,".wcm-content")}viewTemplate(){switch(this.view){case"ConnectWallet":return F`<wcm-connect-wallet-view></wcm-connect-wallet-view>`;case"DesktopConnecting":return F`<wcm-desktop-connecting-view></wcm-desktop-connecting-view>`;case"MobileConnecting":return F`<wcm-mobile-connecting-view></wcm-mobile-connecting-view>`;case"WebConnecting":return F`<wcm-web-connecting-view></wcm-web-connecting-view>`;case"MobileQrcodeConnecting":return F`<wcm-mobile-qr-connecting-view></wcm-mobile-qr-connecting-view>`;case"WalletExplorer":return F`<wcm-wallet-explorer-view></wcm-wallet-explorer-view>`;case"Qrcode":return F`<wcm-qrcode-view></wcm-qrcode-view>`;case"InstallWallet":return F`<wcm-install-wallet-view></wcm-install-wallet-view>`;default:return F`<div>Not Found</div>`}}async onChangeRoute(){await xe(this.routerEl,{opacity:[1,0],scale:[1,1.02]},{duration:.15,delay:.1}).finished,this.view=wt.AV.state.view,xe(this.routerEl,{opacity:[0,1],scale:[.99,1]},{duration:.37,delay:.05})}render(){return F`<div class="wcm-router"><div class="wcm-content">${this.viewTemplate()}</div></div>`}};lr.styles=[Ne.globalCss,sr],ur([pt()],lr.prototype,"view",2),ur([pt()],lr.prototype,"prevView",2),lr=ur([lt("wcm-modal-router")],lr);const hr=c`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--wcm-notification-border-radius);border:1px solid var(--wcm-color-overlay);background-color:var(--wcm-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--wcm-color-bg-3)}}.wcm-success path{fill:var(--wcm-accent-color)}.wcm-error path{fill:var(--wcm-error-color)}`;var dr=Object.defineProperty,fr=Object.getOwnPropertyDescriptor,pr=(t,e,r,n)=>{for(var i,o=n>1?void 0:n?fr(e,r):e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n?i(e,r,o):i(o))||o);return n&&o&&dr(e,r,o),o};let gr=class extends ct{constructor(){super(),this.open=!1,this.unsubscribe=void 0,this.timeout=void 0,this.unsubscribe=wt.ToastCtrl.subscribe((t=>{t.open?(this.open=!0,this.timeout=setTimeout((()=>wt.ToastCtrl.closeToast()),2200)):(this.open=!1,clearTimeout(this.timeout))}))}disconnectedCallback(){var t;null==(t=this.unsubscribe)||t.call(this),clearTimeout(this.timeout),wt.ToastCtrl.closeToast()}render(){const{message:t,variant:e}=wt.ToastCtrl.state,r={"wcm-success":"success"===e,"wcm-error":"error"===e};return this.open?F`<div class="${mt(r)}">${"success"===e?Ke.CHECKMARK_ICON:null} ${"error"===e?Ke.CROSS_ICON:null}<wcm-text variant="small-regular">${t}</wcm-text></div>`:null}};function yr(t,e,r){return t!==e&&(t-e<0?e-t:t-e)<=r+.1}gr.styles=[Ne.globalCss,hr],pr([pt()],gr.prototype,"open",2),gr=pr([lt("wcm-modal-toast")],gr);const mr={generate(t,e,r){const n="#141414",i=[],o=function(t,e){const r=Array.prototype.slice.call(Ie.create(t,{errorCorrectionLevel:"Q"}).modules.data,0),n=Math.sqrt(r.length);return r.reduce(((t,e,r)=>(r%n==0?t.push([e]):t[t.length-1].push(e))&&t),[])}(t),s=e/o.length,a=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];a.forEach((({x:t,y:e})=>{const r=(o.length-7)*s*t,c=(o.length-7)*s*e;for(let t=0;t<a.length;t+=1){const e=s*(7-2*t);i.push(W`<rect fill="${t%2==0?n:"#ffffff"}" height="${e}" rx="${.45*e}" ry="${.45*e}" width="${e}" x="${r+s*t}" y="${c+s*t}">`)}}));const c=Math.floor((r+25)/s),u=o.length/2-c/2,l=o.length/2+c/2-1,h=[];o.forEach(((t,e)=>{t.forEach(((t,r)=>{if(o[e][r]&&!(e<7&&r<7||e>o.length-8&&r<7||e<7&&r>o.length-8)&&!(e>u&&e<l&&r>u&&r<l)){const t=e*s+s/2,n=r*s+s/2;h.push([t,n])}}))}));const d={};return h.forEach((([t,e])=>{d[t]?d[t].push(e):d[t]=[e]})),Object.entries(d).map((([t,e])=>{const r=e.filter((t=>e.every((e=>!yr(t,e,s)))));return[Number(t),r]})).forEach((([t,e])=>{e.forEach((e=>{i.push(W`<circle cx="${t}" cy="${e}" fill="${n}" r="${s/2.5}">`)}))})),Object.entries(d).filter((([t,e])=>e.length>1)).map((([t,e])=>{const r=e.filter((t=>e.some((e=>yr(t,e,s)))));return[Number(t),r]})).map((([t,e])=>{e.sort(((t,e)=>t<e?-1:1));const r=[];for(const t of e){const e=r.find((e=>e.some((e=>yr(t,e,s)))));e?e.push(t):r.push([t])}return[t,r.map((t=>[t[0],t[t.length-1]]))]})).forEach((([t,e])=>{e.forEach((([e,r])=>{i.push(W`<line x1="${t}" x2="${t}" y1="${e}" y2="${r}" stroke="${n}" stroke-width="${s/1.25}" stroke-linecap="round">`)}))})),i}},br=c`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;aspect-ratio:1/1;animation:fadeIn ease .2s}.wcm-dark{background-color:#fff;border-radius:var(--wcm-container-border-radius);padding:18px;box-shadow:0 2px 5px #000}svg:first-child,wcm-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{width:25%;height:25%;border-radius:var(--wcm-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--wcm-accent-color)}svg:first-child path:last-child{stroke:var(--wcm-color-overlay)}`;var wr=Object.defineProperty,vr=Object.getOwnPropertyDescriptor,_r=(t,e,r,n)=>{for(var i,o=n>1?void 0:n?vr(e,r):e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n?i(e,r,o):i(o))||o);return n&&o&&wr(e,r,o),o};let Er=class extends ct{constructor(){super(...arguments),this.uri="",this.size=0,this.imageId=void 0,this.walletId=void 0,this.imageUrl=void 0}svgTemplate(){const t="light"===wt.ThemeCtrl.state.themeMode?this.size:this.size-36;return W`<svg height="${t}" width="${t}">${mr.generate(this.uri,t,t/4)}</svg>`}render(){const t={"wcm-dark":"dark"===wt.ThemeCtrl.state.themeMode};return F`<div style="${`width: ${this.size}px`}" class="${mt(t)}">${this.walletId||this.imageUrl?F`<wcm-wallet-image walletId="${Ae(this.walletId)}" imageId="${Ae(this.imageId)}" imageUrl="${Ae(this.imageUrl)}"></wcm-wallet-image>`:Ke.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}</div>`}};Er.styles=[Ne.globalCss,br],_r([ft()],Er.prototype,"uri",2),_r([ft({type:Number})],Er.prototype,"size",2),_r([ft()],Er.prototype,"imageId",2),_r([ft()],Er.prototype,"walletId",2),_r([ft()],Er.prototype,"imageUrl",2),Er=_r([lt("wcm-qrcode")],Er);const Sr=c`:host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--wcm-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:var(--wcm-color-fg-1);background-color:var(--wcm-color-bg-3);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay);caret-color:var(--wcm-accent-color)}input::placeholder{color:var(--wcm-color-fg-2)}svg{left:10px;top:4px;pointer-events:none;position:absolute;width:20px;height:20px}input:focus-within{box-shadow:inset 0 0 0 1px var(--wcm-accent-color)}path{fill:var(--wcm-color-fg-2)}`;var kr=Object.defineProperty,xr=Object.getOwnPropertyDescriptor,Ar=(t,e,r,n)=>{for(var i,o=n>1?void 0:n?xr(e,r):e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n?i(e,r,o):i(o))||o);return n&&o&&kr(e,r,o),o};let Ir=class extends ct{constructor(){super(...arguments),this.onChange=()=>null}render(){return F`<input type="text" @input="${this.onChange}" placeholder="Search wallets"> ${Ke.SEARCH_ICON}`}};Ir.styles=[Ne.globalCss,Sr],Ar([ft()],Ir.prototype,"onChange",2),Ir=Ar([lt("wcm-search-input")],Ir);const Tr=c`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--wcm-accent-color)}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let Cr=class extends ct{render(){return F`<svg viewBox="0 0 50 50" width="24" height="24"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4" stroke="#fff"/></svg>`}};Cr.styles=[Ne.globalCss,Tr],Cr=((t,e,r,n)=>{for(var i,o=e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=i(o)||o);return o})([lt("wcm-spinner")],Cr);const Or=c`span{font-style:normal;font-family:var(--wcm-font-family);font-feature-settings:var(--wcm-font-feature-settings)}.wcm-xsmall-bold{font-family:var(--wcm-text-xsmall-bold-font-family);font-weight:var(--wcm-text-xsmall-bold-weight);font-size:var(--wcm-text-xsmall-bold-size);line-height:var(--wcm-text-xsmall-bold-line-height);letter-spacing:var(--wcm-text-xsmall-bold-letter-spacing);text-transform:var(--wcm-text-xsmall-bold-text-transform)}.wcm-xsmall-regular{font-family:var(--wcm-text-xsmall-regular-font-family);font-weight:var(--wcm-text-xsmall-regular-weight);font-size:var(--wcm-text-xsmall-regular-size);line-height:var(--wcm-text-xsmall-regular-line-height);letter-spacing:var(--wcm-text-xsmall-regular-letter-spacing);text-transform:var(--wcm-text-xsmall-regular-text-transform)}.wcm-small-thin{font-family:var(--wcm-text-small-thin-font-family);font-weight:var(--wcm-text-small-thin-weight);font-size:var(--wcm-text-small-thin-size);line-height:var(--wcm-text-small-thin-line-height);letter-spacing:var(--wcm-text-small-thin-letter-spacing);text-transform:var(--wcm-text-small-thin-text-transform)}.wcm-small-regular{font-family:var(--wcm-text-small-regular-font-family);font-weight:var(--wcm-text-small-regular-weight);font-size:var(--wcm-text-small-regular-size);line-height:var(--wcm-text-small-regular-line-height);letter-spacing:var(--wcm-text-small-regular-letter-spacing);text-transform:var(--wcm-text-small-regular-text-transform)}.wcm-medium-regular{font-family:var(--wcm-text-medium-regular-font-family);font-weight:var(--wcm-text-medium-regular-weight);font-size:var(--wcm-text-medium-regular-size);line-height:var(--wcm-text-medium-regular-line-height);letter-spacing:var(--wcm-text-medium-regular-letter-spacing);text-transform:var(--wcm-text-medium-regular-text-transform)}.wcm-big-bold{font-family:var(--wcm-text-big-bold-font-family);font-weight:var(--wcm-text-big-bold-weight);font-size:var(--wcm-text-big-bold-size);line-height:var(--wcm-text-big-bold-line-height);letter-spacing:var(--wcm-text-big-bold-letter-spacing);text-transform:var(--wcm-text-big-bold-text-transform)}:host(*){color:var(--wcm-color-fg-1)}.wcm-color-primary{color:var(--wcm-color-fg-1)}.wcm-color-secondary{color:var(--wcm-color-fg-2)}.wcm-color-tertiary{color:var(--wcm-color-fg-3)}.wcm-color-inverse{color:var(--wcm-accent-fill-color)}.wcm-color-accnt{color:var(--wcm-accent-color)}.wcm-color-error{color:var(--wcm-error-color)}`;var Pr=Object.defineProperty,Rr=Object.getOwnPropertyDescriptor,Mr=(t,e,r,n)=>{for(var i,o=n>1?void 0:n?Rr(e,r):e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n?i(e,r,o):i(o))||o);return n&&o&&Pr(e,r,o),o};let Nr=class extends ct{constructor(){super(...arguments),this.variant="medium-regular",this.color="primary"}render(){const t={"wcm-big-bold":"big-bold"===this.variant,"wcm-medium-regular":"medium-regular"===this.variant,"wcm-small-regular":"small-regular"===this.variant,"wcm-small-thin":"small-thin"===this.variant,"wcm-xsmall-regular":"xsmall-regular"===this.variant,"wcm-xsmall-bold":"xsmall-bold"===this.variant,"wcm-color-primary":"primary"===this.color,"wcm-color-secondary":"secondary"===this.color,"wcm-color-tertiary":"tertiary"===this.color,"wcm-color-inverse":"inverse"===this.color,"wcm-color-accnt":"accent"===this.color,"wcm-color-error":"error"===this.color};return F`<span><slot class="${mt(t)}"></slot></span>`}};Nr.styles=[Ne.globalCss,Or],Mr([ft()],Nr.prototype,"variant",2),Mr([ft()],Nr.prototype,"color",2),Nr=Mr([lt("wcm-text")],Nr);const Lr=c`button{width:100%;height:100%;border-radius:var(--wcm-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}wcm-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}wcm-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--wcm-wallet-icon-border-radius);margin-bottom:5px}.wcm-sublabel{margin-top:2px}`;var Br=Object.defineProperty,Dr=Object.getOwnPropertyDescriptor,jr=(t,e,r,n)=>{for(var i,o=n>1?void 0:n?Dr(e,r):e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n?i(e,r,o):i(o))||o);return n&&o&&Br(e,r,o),o};let Ur=class extends ct{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.walletId="",this.label=void 0,this.imageId=void 0,this.installed=!1,this.recent=!1}sublabelTemplate(){return this.recent?F`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">RECENT</wcm-text>`:this.installed?F`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">INSTALLED</wcm-text>`:null}handleClick(){wt.uA.click({name:"WALLET_BUTTON",walletId:this.walletId}),this.onClick()}render(){var t;return F`<button @click="${this.handleClick.bind(this)}"><div><wcm-wallet-image walletId="${this.walletId}" imageId="${Ae(this.imageId)}"></wcm-wallet-image><wcm-text variant="xsmall-regular">${null!=(t=this.label)?t:or.getWalletName(this.name,!0)}</wcm-text>${this.sublabelTemplate()}</div></button>`}};Ur.styles=[Ne.globalCss,Lr],jr([ft()],Ur.prototype,"onClick",2),jr([ft()],Ur.prototype,"name",2),jr([ft()],Ur.prototype,"walletId",2),jr([ft()],Ur.prototype,"label",2),jr([ft()],Ur.prototype,"imageId",2),jr([ft({type:Boolean})],Ur.prototype,"installed",2),jr([ft({type:Boolean})],Ur.prototype,"recent",2),Ur=jr([lt("wcm-wallet-button")],Ur);const zr=c`:host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--wcm-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--wcm-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var Fr=Object.defineProperty,Wr=Object.getOwnPropertyDescriptor,$r=(t,e,r,n)=>{for(var i,o=n>1?void 0:n?Wr(e,r):e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n?i(e,r,o):i(o))||o);return n&&o&&Fr(e,r,o),o};let qr=class extends ct{constructor(){super(...arguments),this.walletId="",this.imageId=void 0,this.imageUrl=void 0}render(){var t;const e=null!=(t=this.imageUrl)&&t.length?this.imageUrl:or.getWalletIcon({id:this.walletId,image_id:this.imageId});return F`${e.length?F`<div><img crossorigin="anonymous" src="${e}" alt="${this.id}"></div>`:Ke.WALLET_PLACEHOLDER}`}};qr.styles=[Ne.globalCss,zr],$r([ft()],qr.prototype,"walletId",2),$r([ft()],qr.prototype,"imageId",2),$r([ft()],qr.prototype,"imageUrl",2),qr=$r([lt("wcm-wallet-image")],qr);var Hr=Object.defineProperty,Vr=Object.getOwnPropertyDescriptor,Kr=(t,e,r,n)=>{for(var i,o=n>1?void 0:n?Vr(e,r):e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n?i(e,r,o):i(o))||o);return n&&o&&Hr(e,r,o),o};let Gr=class extends ct{constructor(){super(),this.preload=!0,this.preloadData()}async loadImages(t){try{null!=t&&t.length&&await Promise.all(t.map((async t=>or.preloadImage(t))))}catch{console.info("Unsuccessful attempt at preloading some images",t)}}async preloadListings(){if(wt.ConfigCtrl.state.enableExplorer){await wt.ExplorerCtrl.getRecomendedWallets(),wt.OptionsCtrl.setIsDataLoaded(!0);const{recomendedWallets:t}=wt.ExplorerCtrl.state,e=t.map((t=>or.getWalletIcon(t)));await this.loadImages(e)}else wt.OptionsCtrl.setIsDataLoaded(!0)}async preloadCustomImages(){const t=or.getCustomImageUrls();await this.loadImages(t)}async preloadData(){try{this.preload&&(this.preload=!1,await Promise.all([this.preloadListings(),this.preloadCustomImages()]))}catch(t){console.error(t),wt.ToastCtrl.openToast("Failed preloading","error")}}};Kr([pt()],Gr.prototype,"preload",2),Gr=Kr([lt("wcm-explorer-context")],Gr);Object.defineProperty,Object.getOwnPropertyDescriptor;let Zr=class extends ct{constructor(){super(),this.unsubscribeTheme=void 0,Ne.setTheme(),this.unsubscribeTheme=wt.ThemeCtrl.subscribe(Ne.setTheme)}disconnectedCallback(){var t;null==(t=this.unsubscribeTheme)||t.call(this)}};Zr=((t,e,r,n)=>{for(var i,o=e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=i(o)||o);return o})([lt("wcm-theme-context")],Zr);const Yr=c`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.wcm-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.wcm-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.wcm-track svg{margin:0 5px}wcm-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--wcm-wallet-icon-border-radius)}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-title{display:flex;align-items:center;margin-bottom:10px}.wcm-title svg{margin-right:6px}.wcm-title path{fill:var(--wcm-accent-color)}wcm-modal-footer .wcm-title{padding:0 10px}wcm-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--wcm-color-bg-1))}wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-info-footer wcm-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let Jr=class extends ct{onGoToQrcode(){wt.AV.push("Qrcode")}render(){const{recomendedWallets:t}=wt.ExplorerCtrl.state,e=[...t,...t],r=2*wt.zv.RECOMMENDED_WALLET_AMOUNT;return F`<wcm-modal-header title="Connect your wallet" .onAction="${this.onGoToQrcode}" .actionIcon="${Ke.QRCODE_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-title">${Ke.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">WalletConnect</wcm-text></div><div class="wcm-slider"><div class="wcm-track">${[...Array(r)].map(((t,r)=>{const n=e[r%e.length];return n?F`<wcm-wallet-image walletId="${n.id}" imageId="${n.image_id}"></wcm-wallet-image>`:Ke.WALLET_PLACEHOLDER}))}</div><wcm-button-big @click="${or.handleAndroidLinking}"><wcm-text variant="medium-regular" color="inverse">Select Wallet</wcm-text></wcm-button-big></div></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">Choose WalletConnect to see supported apps on your device</wcm-text></wcm-info-footer>`}};Jr.styles=[Ne.globalCss,Yr],Jr=((t,e,r,n)=>{for(var i,o=e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=i(o)||o);return o})([lt("wcm-android-wallet-selection")],Jr);const Xr=c`@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--wcm-accent-color);animation:loading 1s linear infinite}wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:90px;height:90px}wcm-text{margin-bottom:40px}.wcm-error svg{stroke:var(--wcm-error-color)}.wcm-error use{display:none}.wcm-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.wcm-stale svg,.wcm-stale use{display:none}`;var Qr=Object.defineProperty,tn=Object.getOwnPropertyDescriptor,en=(t,e,r,n)=>{for(var i,o=n>1?void 0:n?tn(e,r):e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n?i(e,r,o):i(o))||o);return n&&o&&Qr(e,r,o),o};let rn=class extends ct{constructor(){super(...arguments),this.walletId=void 0,this.imageId=void 0,this.isError=!1,this.isStale=!1,this.label=""}svgLoaderTemplate(){var t,e;const r=null!=(e=null==(t=wt.ThemeCtrl.state.themeVariables)?void 0:t["--wcm-wallet-icon-large-border-radius"])?e:Ne.getPreset("--wcm-wallet-icon-large-border-radius");let n=0;return n=r.includes("%")?.88*parseInt(r,10):parseInt(r,10),n*=1.17,F`<svg viewBox="0 0 110 110" width="110" height="110"><rect id="wcm-loader" x="2" y="2" width="106" height="106" rx="${n}"/><use xlink:href="#wcm-loader" stroke-dasharray="106 ${317-1.57*n}" stroke-dashoffset="${425-1.8*n}"></use></svg>`}render(){const t={"wcm-error":this.isError,"wcm-stale":this.isStale};return F`<div class="${mt(t)}">${this.svgLoaderTemplate()}<wcm-wallet-image walletId="${Ae(this.walletId)}" imageId="${Ae(this.imageId)}"></wcm-wallet-image></div><wcm-text variant="medium-regular" color="${this.isError?"error":"primary"}">${this.isError?"Connection declined":this.label}</wcm-text>`}};rn.styles=[Ne.globalCss,Xr],en([ft()],rn.prototype,"walletId",2),en([ft()],rn.prototype,"imageId",2),en([ft({type:Boolean})],rn.prototype,"isError",2),en([ft({type:Boolean})],rn.prototype,"isStale",2),en([ft()],rn.prototype,"label",2),rn=en([lt("wcm-connector-waiting")],rn);const nn={manualWallets(){var t,e;const{mobileWallets:r,desktopWallets:n}=wt.ConfigCtrl.state,i=null==(t=nn.recentWallet())?void 0:t.id,o=wt.zv.isMobile()?r:n,s=o?.filter((t=>i!==t.id));return null!=(e=wt.zv.isMobile()?s?.map((({id:t,name:e,links:r})=>({id:t,name:e,mobile:r,links:r}))):s?.map((({id:t,name:e,links:r})=>({id:t,name:e,desktop:r,links:r}))))?e:[]},recentWallet:()=>or.getRecentWallet(),recomendedWallets(t=!1){var e;const r=t||null==(e=nn.recentWallet())?void 0:e.id,{recomendedWallets:n}=wt.ExplorerCtrl.state;return n.filter((t=>r!==t.id))}},on={onConnecting(t){or.goToConnectingView(t)},manualWalletsTemplate(){return nn.manualWallets().map((t=>F`<wcm-wallet-button walletId="${t.id}" name="${t.name}" .onClick="${()=>this.onConnecting(t)}"></wcm-wallet-button>`))},recomendedWalletsTemplate(t=!1){return nn.recomendedWallets(t).map((t=>F`<wcm-wallet-button name="${t.name}" walletId="${t.id}" imageId="${t.image_id}" .onClick="${()=>this.onConnecting(t)}"></wcm-wallet-button>`))},recentWalletTemplate(){const t=nn.recentWallet();if(t)return F`<wcm-wallet-button name="${t.name}" walletId="${t.id}" imageId="${Ae(t.image_id)}" .recent="${!0}" .onClick="${()=>this.onConnecting(t)}"></wcm-wallet-button>`}},sn=c`.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-desktop-title,.wcm-mobile-title{display:flex;align-items:center}.wcm-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.wcm-desktop-title{margin-bottom:10px;padding:0 10px}.wcm-subtitle{display:flex;align-items:center}.wcm-subtitle:last-child path{fill:var(--wcm-color-fg-3)}.wcm-desktop-title svg,.wcm-mobile-title svg{margin-right:6px}.wcm-desktop-title path,.wcm-mobile-title path{fill:var(--wcm-accent-color)}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let an=class extends ct{render(){const{explorerExcludedWalletIds:t,enableExplorer:e}=wt.ConfigCtrl.state,r="ALL"!==t&&e,n=on.manualWalletsTemplate(),i=on.recomendedWalletsTemplate();let o=[on.recentWalletTemplate(),...n,...i];o=o.filter(Boolean);const s=o.length>4||r;let a=[];a=s?o.slice(0,3):o;const c=Boolean(a.length);return F`<wcm-modal-header .border="${!0}" title="Connect your wallet" .onAction="${or.handleUriCopy}" .actionIcon="${Ke.COPY_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-mobile-title"><div class="wcm-subtitle">${Ke.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">Mobile</wcm-text></div><div class="wcm-subtitle">${Ke.SCAN_ICON}<wcm-text variant="small-regular" color="secondary">Scan with your wallet</wcm-text></div></div><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>${c?F`<wcm-modal-footer><div class="wcm-desktop-title">${Ke.DESKTOP_ICON}<wcm-text variant="small-regular" color="accent">Desktop</wcm-text></div><div class="wcm-grid">${a} ${s?F`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-footer>`:null}`}};an.styles=[Ne.globalCss,sn],an=((t,e,r,n)=>{for(var i,o=e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=i(o)||o);return o})([lt("wcm-desktop-wallet-selection")],an);const cn=c`div{background-color:var(--wcm-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--wcm-color-bg-3);text-align:center}a{color:var(--wcm-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let un=class extends ct{render(){const{termsOfServiceUrl:t,privacyPolicyUrl:e}=wt.ConfigCtrl.state;return t??e?F`<div><wcm-text variant="small-regular" color="secondary">By connecting your wallet to this app, you agree to the app's ${t?F`<a href="${t}" target="_blank" rel="noopener noreferrer">Terms of Service</a>`:null} ${t&&e?"and":null} ${e?F`<a href="${e}" target="_blank" rel="noopener noreferrer">Privacy Policy</a>`:null}</wcm-text></div>`:null}};un.styles=[Ne.globalCss,cn],un=((t,e,r,n)=>{for(var i,o=e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=i(o)||o);return o})([lt("wcm-legal-notice")],un);const ln=c`div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let hn=class extends ct{onQrcode(){wt.AV.push("Qrcode")}render(){const{explorerExcludedWalletIds:t,enableExplorer:e}=wt.ConfigCtrl.state,r="ALL"!==t&&e,n=on.manualWalletsTemplate(),i=on.recomendedWalletsTemplate();let o=[on.recentWalletTemplate(),...n,...i];o=o.filter(Boolean);const s=o.length>8||r;let a=[];a=s?o.slice(0,7):o;const c=Boolean(a.length);return F`<wcm-modal-header title="Connect your wallet" .onAction="${this.onQrcode}" .actionIcon="${Ke.QRCODE_ICON}"></wcm-modal-header>${c?F`<wcm-modal-content><div>${a} ${s?F`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-content>`:null}`}};hn.styles=[Ne.globalCss,ln],hn=((t,e,r,n)=>{for(var i,o=e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=i(o)||o);return o})([lt("wcm-mobile-wallet-selection")],hn);const dn=c`:host{all:initial}.wcm-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--wcm-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;background-color:var(--wcm-overlay-background-color);backdrop-filter:var(--wcm-overlay-backdrop-filter)}@media(max-height:720px) and (orientation:landscape){.wcm-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.wcm-active{pointer-events:auto}.wcm-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) var(--wcm-container-border-radius) var(--wcm-container-border-radius);border:1px solid var(--wcm-color-overlay);overflow:hidden}.wcm-card{width:100%;position:relative;border-radius:var(--wcm-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--wcm-color-overlay);background-color:var(--wcm-color-bg-1);color:var(--wcm-color-fg-1)}@media(max-width:600px){.wcm-container{max-width:440px;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) 0 0}.wcm-card{border-radius:var(--wcm-container-border-radius) var(--wcm-container-border-radius) 0 0}.wcm-overlay{align-items:flex-end}}@media(max-width:440px){.wcm-container{border:0}}`;var fn=Object.defineProperty,pn=Object.getOwnPropertyDescriptor,gn=(t,e,r,n)=>{for(var i,o=n>1?void 0:n?pn(e,r):e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n?i(e,r,o):i(o))||o);return n&&o&&fn(e,r,o),o};let yn=class extends ct{constructor(){super(),this.open=!1,this.active=!1,this.unsubscribeModal=void 0,this.abortController=void 0,this.unsubscribeModal=wt.jb.subscribe((t=>{t.open?this.onOpenModalEvent():this.onCloseModalEvent()}))}disconnectedCallback(){var t;null==(t=this.unsubscribeModal)||t.call(this)}get overlayEl(){return or.getShadowRootElement(this,".wcm-overlay")}get containerEl(){return or.getShadowRootElement(this,".wcm-container")}toggleBodyScroll(t){if(document.querySelector("body"))if(t){const t=document.getElementById("wcm-styles");t?.remove()}else document.head.insertAdjacentHTML("beforeend",'<style id="wcm-styles">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>')}onCloseModal(t){t.target===t.currentTarget&&wt.jb.close()}onOpenModalEvent(){this.toggleBodyScroll(!1),this.addKeyboardEvents(),this.open=!0,setTimeout((async()=>{const t=or.isMobileAnimation()?{y:["50vh","0vh"]}:{scale:[.98,1]};await Promise.all([xe(this.overlayEl,{opacity:[0,1]},{delay:.1,duration:.2}).finished,xe(this.containerEl,t,{delay:.1,duration:.2}).finished]),this.active=!0}),0)}async onCloseModalEvent(){this.toggleBodyScroll(!0),this.removeKeyboardEvents();const t=or.isMobileAnimation()?{y:["0vh","50vh"]}:{scale:[1,.98]};await Promise.all([xe(this.overlayEl,{opacity:[1,0]},{duration:.2}).finished,xe(this.containerEl,t,{duration:.2}).finished]),this.containerEl.removeAttribute("style"),this.active=!1,this.open=!1}addKeyboardEvents(){this.abortController=new AbortController,window.addEventListener("keydown",(t=>{var e;"Escape"===t.key?wt.jb.close():"Tab"===t.key&&(null!=(e=t.target)&&e.tagName.includes("wcm-")||this.containerEl.focus())}),this.abortController),this.containerEl.focus()}removeKeyboardEvents(){var t;null==(t=this.abortController)||t.abort(),this.abortController=void 0}render(){const t={"wcm-overlay":!0,"wcm-active":this.active};return F`<wcm-explorer-context></wcm-explorer-context><wcm-theme-context></wcm-theme-context><div id="wcm-modal" class="${mt(t)}" @click="${this.onCloseModal}" role="alertdialog" aria-modal="true"><div class="wcm-container" tabindex="0">${this.open?F`<wcm-modal-backcard></wcm-modal-backcard><div class="wcm-card"><wcm-modal-router></wcm-modal-router><wcm-modal-toast></wcm-modal-toast></div>`:null}</div></div>`}};yn.styles=[Ne.globalCss,dn],gn([pt()],yn.prototype,"open",2),gn([pt()],yn.prototype,"active",2),yn=gn([lt("wcm-modal")],yn);const mn=c`div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}wcm-button{margin:0 5px}`;var bn=Object.defineProperty,wn=Object.getOwnPropertyDescriptor,vn=(t,e,r,n)=>{for(var i,o=n>1?void 0:n?wn(e,r):e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n?i(e,r,o):i(o))||o);return n&&o&&bn(e,r,o),o};let _n=class extends ct{constructor(){super(...arguments),this.isMobile=!1,this.isDesktop=!1,this.isWeb=!1,this.isRetry=!1}onMobile(){wt.zv.isMobile()?wt.AV.replace("MobileConnecting"):wt.AV.replace("MobileQrcodeConnecting")}onDesktop(){wt.AV.replace("DesktopConnecting")}onWeb(){wt.AV.replace("WebConnecting")}render(){return F`<div>${this.isRetry?F`<slot></slot>`:null} ${this.isMobile?F`<wcm-button .onClick="${this.onMobile}" .iconLeft="${Ke.MOBILE_ICON}" variant="outline">Mobile</wcm-button>`:null} ${this.isDesktop?F`<wcm-button .onClick="${this.onDesktop}" .iconLeft="${Ke.DESKTOP_ICON}" variant="outline">Desktop</wcm-button>`:null} ${this.isWeb?F`<wcm-button .onClick="${this.onWeb}" .iconLeft="${Ke.GLOBE_ICON}" variant="outline">Web</wcm-button>`:null}</div>`}};_n.styles=[Ne.globalCss,mn],vn([ft({type:Boolean})],_n.prototype,"isMobile",2),vn([ft({type:Boolean})],_n.prototype,"isDesktop",2),vn([ft({type:Boolean})],_n.prototype,"isWeb",2),vn([ft({type:Boolean})],_n.prototype,"isRetry",2),_n=vn([lt("wcm-platform-selection")],_n);const En=c`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--wcm-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.wcm-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--wcm-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--wcm-color-bg-2);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}.wcm-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--wcm-wallet-icon-border-radius)/ 2);border:1px solid var(--wcm-color-overlay)}.wcm-icons svg{width:21px;height:21px}.wcm-icons img:nth-child(1),.wcm-icons img:nth-child(2),.wcm-icons svg:nth-child(1),.wcm-icons svg:nth-child(2){margin-bottom:4px}wcm-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let Sn=class extends ct{onClick(){wt.AV.push("WalletExplorer")}render(){const{recomendedWallets:t}=wt.ExplorerCtrl.state,e=[...t,...nn.manualWallets()].reverse().slice(0,4);return F`<button @click="${this.onClick}"><div class="wcm-icons">${e.map((t=>{const e=or.getWalletIcon(t);if(e)return F`<img crossorigin="anonymous" src="${e}">`;const r=or.getWalletIcon({id:t.id});return r?F`<img crossorigin="anonymous" src="${r}">`:Ke.WALLET_PLACEHOLDER}))} ${[...Array(4-e.length)].map((()=>Ke.WALLET_PLACEHOLDER))}</div><wcm-text variant="xsmall-regular">View All</wcm-text></button>`}};Sn.styles=[Ne.globalCss,En],Sn=((t,e,r,n)=>{for(var i,o=e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=i(o)||o);return o})([lt("wcm-view-all-wallets-button")],Sn);const kn=c`.wcm-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`;var xn=Object.defineProperty,An=Object.getOwnPropertyDescriptor,In=(t,e,r,n)=>{for(var i,o=n>1?void 0:n?An(e,r):e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n?i(e,r,o):i(o))||o);return n&&o&&xn(e,r,o),o};let Tn=class extends ct{constructor(){super(),this.walletId="",this.imageId="",this.uri="",setTimeout((()=>{const{walletConnectUri:t}=wt.OptionsCtrl.state;this.uri=t}),0)}get overlayEl(){return or.getShadowRootElement(this,".wcm-qr-container")}render(){return F`<div class="wcm-qr-container">${this.uri?F`<wcm-qrcode size="${this.overlayEl.offsetWidth}" uri="${this.uri}" walletId="${Ae(this.walletId)}" imageId="${Ae(this.imageId)}"></wcm-qrcode>`:F`<wcm-spinner></wcm-spinner>`}</div>`}};Tn.styles=[Ne.globalCss,kn],In([ft()],Tn.prototype,"walletId",2),In([ft()],Tn.prototype,"imageId",2),In([pt()],Tn.prototype,"uri",2),Tn=In([lt("wcm-walletconnect-qr")],Tn);Object.defineProperty,Object.getOwnPropertyDescriptor;let Cn=class extends ct{viewTemplate(){return wt.zv.isAndroid()?F`<wcm-android-wallet-selection></wcm-android-wallet-selection>`:wt.zv.isMobile()?F`<wcm-mobile-wallet-selection></wcm-mobile-wallet-selection>`:F`<wcm-desktop-wallet-selection></wcm-desktop-wallet-selection>`}render(){return F`${this.viewTemplate()}<wcm-legal-notice></wcm-legal-notice>`}};Cn.styles=[Ne.globalCss],Cn=((t,e,r,n)=>{for(var i,o=e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=i(o)||o);return o})([lt("wcm-connect-wallet-view")],Cn);const On=c`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var Pn=Object.defineProperty,Rn=Object.getOwnPropertyDescriptor,Mn=(t,e,r,n)=>{for(var i,o=n>1?void 0:n?Rn(e,r):e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n?i(e,r,o):i(o))||o);return n&&o&&Pn(e,r,o),o};let Nn=class extends ct{constructor(){super(),this.isError=!1,this.openDesktopApp()}onFormatAndRedirect(t){const{desktop:e,name:r}=wt.zv.getWalletRouterData(),n=e?.native;if(n){const e=wt.zv.formatNativeUrl(n,t,r);wt.zv.openHref(e,"_self")}}openDesktopApp(){const{walletConnectUri:t}=wt.OptionsCtrl.state,e=wt.zv.getWalletRouterData();or.setRecentWallet(e),t&&this.onFormatAndRedirect(t)}render(){const{name:t,id:e,image_id:r}=wt.zv.getWalletRouterData(),{isMobile:n,isWeb:i}=or.getCachedRouterWalletPlatforms();return F`<wcm-modal-header title="${t}" .onAction="${or.handleUriCopy}" .actionIcon="${Ke.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Ae(r)}" label="${`Continue in ${t}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Connection can continue loading if ${t} is not installed on your device`}</wcm-text><wcm-platform-selection .isMobile="${n}" .isWeb="${i}" .isRetry="${!0}"><wcm-button .onClick="${this.openDesktopApp.bind(this)}" .iconRight="${Ke.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};Nn.styles=[Ne.globalCss,On],Mn([pt()],Nn.prototype,"isError",2),Nn=Mn([lt("wcm-desktop-connecting-view")],Nn);const Ln=c`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}wcm-button{margin-top:15px}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let Bn=class extends ct{onInstall(t){t&&wt.zv.openHref(t,"_blank")}render(){const{name:t,id:e,image_id:r,homepage:n}=wt.zv.getWalletRouterData();return F`<wcm-modal-header title="${t}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Ae(r)}" label="Not Detected" .isStale="${!0}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Download ${t} to continue. If multiple browser extensions are installed, disable non ${t} ones and try again`}</wcm-text><wcm-button .onClick="${()=>this.onInstall(n)}" .iconLeft="${Ke.ARROW_DOWN_ICON}">Download</wcm-button></wcm-info-footer>`}};Bn.styles=[Ne.globalCss,Ln],Bn=((t,e,r,n)=>{for(var i,o=e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=i(o)||o);return o})([lt("wcm-install-wallet-view")],Bn);const Dn=c`wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}wcm-info-footer{display:flex;width:100%}.wcm-app-store{justify-content:space-between}.wcm-app-store wcm-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--wcm-wallet-icon-small-border-radius)}.wcm-app-store div{display:flex;align-items:center}.wcm-app-store wcm-button{margin-right:-10px}.wcm-note{flex-direction:column;align-items:center;padding:5px 0}.wcm-note wcm-text{text-align:center}wcm-platform-selection{margin-top:-15px}.wcm-note wcm-text{margin-top:15px}.wcm-note wcm-text span{color:var(--wcm-accent-color)}`;var jn=Object.defineProperty,Un=Object.getOwnPropertyDescriptor,zn=(t,e,r,n)=>{for(var i,o=n>1?void 0:n?Un(e,r):e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n?i(e,r,o):i(o))||o);return n&&o&&jn(e,r,o),o};let Fn=class extends ct{constructor(){super(),this.isError=!1,this.openMobileApp()}onFormatAndRedirect(t,e=!1){const{mobile:r,name:n}=wt.zv.getWalletRouterData(),i=r?.native,o=r?.universal;if(i&&!e){const e=wt.zv.formatNativeUrl(i,t,n);wt.zv.openHref(e,"_self")}else if(o){const e=wt.zv.formatUniversalUrl(o,t,n);wt.zv.openHref(e,"_self")}}openMobileApp(t=!1){const{walletConnectUri:e}=wt.OptionsCtrl.state,r=wt.zv.getWalletRouterData();or.setRecentWallet(r),e&&this.onFormatAndRedirect(e,t)}onGoToAppStore(t){t&&wt.zv.openHref(t,"_blank")}render(){const{name:t,id:e,image_id:r,app:n,mobile:i}=wt.zv.getWalletRouterData(),{isWeb:o}=or.getCachedRouterWalletPlatforms(),s=n?.ios,a=i?.universal;return F`<wcm-modal-header title="${t}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Ae(r)}" label="Tap 'Open' to continueâ€¦" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer class="wcm-note"><wcm-platform-selection .isWeb="${o}" .isRetry="${!0}"><wcm-button .onClick="${()=>this.openMobileApp(!1)}" .iconRight="${Ke.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection>${a?F`<wcm-text color="secondary" variant="small-thin">Still doesn't work? <span tabindex="0" @click="${()=>this.openMobileApp(!0)}">Try this alternate link</span></wcm-text>`:null}</wcm-info-footer><wcm-info-footer class="wcm-app-store"><div><wcm-wallet-image walletId="${e}" imageId="${Ae(r)}"></wcm-wallet-image><wcm-text>${`Get ${t}`}</wcm-text></div><wcm-button .iconRight="${Ke.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGoToAppStore(s)}" variant="ghost">App Store</wcm-button></wcm-info-footer>`}};Fn.styles=[Ne.globalCss,Dn],zn([pt()],Fn.prototype,"isError",2),Fn=zn([lt("wcm-mobile-connecting-view")],Fn);const Wn=c`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let $n=class extends ct{render(){const{name:t,id:e,image_id:r}=wt.zv.getWalletRouterData(),{isDesktop:n,isWeb:i}=or.getCachedRouterWalletPlatforms();return F`<wcm-modal-header title="${t}" .onAction="${or.handleUriCopy}" .actionIcon="${Ke.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr walletId="${e}" imageId="${Ae(r)}"></wcm-walletconnect-qr></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Scan this QR Code with your phone's camera or inside ${t} app`}</wcm-text><wcm-platform-selection .isDesktop="${n}" .isWeb="${i}"></wcm-platform-selection></wcm-info-footer>`}};$n.styles=[Ne.globalCss,Wn],$n=((t,e,r,n)=>{for(var i,o=e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=i(o)||o);return o})([lt("wcm-mobile-qr-connecting-view")],$n);Object.defineProperty,Object.getOwnPropertyDescriptor;let qn=class extends ct{render(){return F`<wcm-modal-header title="Scan the code" .onAction="${or.handleUriCopy}" .actionIcon="${Ke.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>`}};qn.styles=[Ne.globalCss],qn=((t,e,r,n)=>{for(var i,o=e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=i(o)||o);return o})([lt("wcm-qrcode-view")],qn);const Hn=c`wcm-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}wcm-modal-content::after,wcm-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}wcm-modal-content::before{box-shadow:0 -1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(var(--wcm-color-bg-1),rgba(255,255,255,0))}wcm-modal-content::after{box-shadow:0 1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--wcm-color-bg-1));top:calc(100% - 20px)}wcm-modal-content::-webkit-scrollbar{display:none}.wcm-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.wcm-empty,.wcm-loading{display:flex}.wcm-loading .wcm-placeholder-block{height:100%}.wcm-end-reached .wcm-placeholder-block{height:0;opacity:0}.wcm-empty .wcm-placeholder-block{opacity:1;height:100%}wcm-wallet-button{margin:calc((100% - 60px)/ 3) 0}`;var Vn=Object.defineProperty,Kn=Object.getOwnPropertyDescriptor,Gn=(t,e,r,n)=>{for(var i,o=n>1?void 0:n?Kn(e,r):e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n?i(e,r,o):i(o))||o);return n&&o&&Vn(e,r,o),o};let Zn=class extends ct{constructor(){super(...arguments),this.loading=!wt.ExplorerCtrl.state.wallets.listings.length,this.firstFetch=!wt.ExplorerCtrl.state.wallets.listings.length,this.search="",this.endReached=!1,this.intersectionObserver=void 0,this.searchDebounce=or.debounce((t=>{t.length>=1?(this.firstFetch=!0,this.endReached=!1,this.search=t,wt.ExplorerCtrl.resetSearch(),this.fetchWallets()):this.search&&(this.search="",this.endReached=this.isLastPage(),wt.ExplorerCtrl.resetSearch())}))}firstUpdated(){this.createPaginationObserver()}disconnectedCallback(){var t;null==(t=this.intersectionObserver)||t.disconnect()}get placeholderEl(){return or.getShadowRootElement(this,".wcm-placeholder-block")}createPaginationObserver(){this.intersectionObserver=new IntersectionObserver((([t])=>{t.isIntersecting&&(!this.search||!this.firstFetch)&&this.fetchWallets()})),this.intersectionObserver.observe(this.placeholderEl)}isLastPage(){const{wallets:t,search:e}=wt.ExplorerCtrl.state,{listings:r,total:n}=this.search?e:t;return n<=40||r.length>=n}async fetchWallets(){var t;const{wallets:e,search:r}=wt.ExplorerCtrl.state,{listings:n,total:i,page:o}=this.search?r:e;if(!this.endReached&&(this.firstFetch||i>40&&n.length<i))try{this.loading=!0;const e=null==(t=wt.OptionsCtrl.state.chains)?void 0:t.join(","),{listings:r}=await wt.ExplorerCtrl.getWallets({page:this.firstFetch?1:o+1,entries:40,search:this.search,version:2,chains:e}),n=r.map((t=>or.getWalletIcon(t)));await Promise.all([...n.map((async t=>or.preloadImage(t))),wt.zv.wait(300)]),this.endReached=this.isLastPage()}catch(t){console.error(t),wt.ToastCtrl.openToast(or.getErrorMessage(t),"error")}finally{this.loading=!1,this.firstFetch=!1}}onConnect(t){wt.zv.isAndroid()?or.handleMobileLinking(t):or.goToConnectingView(t)}onSearchChange(t){const{value:e}=t.target;this.searchDebounce(e)}render(){const{wallets:t,search:e}=wt.ExplorerCtrl.state,{listings:r}=this.search?e:t,n=this.loading&&!r.length,i=this.search.length>=3;let o=on.manualWalletsTemplate(),s=on.recomendedWalletsTemplate(!0);i&&(o=o.filter((({values:t})=>or.caseSafeIncludes(t[0],this.search))),s=s.filter((({values:t})=>or.caseSafeIncludes(t[0],this.search))));const a=!this.loading&&!r.length&&!s.length,c={"wcm-loading":n,"wcm-end-reached":this.endReached||!this.loading,"wcm-empty":a};return F`<wcm-modal-header><wcm-search-input .onChange="${this.onSearchChange.bind(this)}"></wcm-search-input></wcm-modal-header><wcm-modal-content class="${mt(c)}"><div class="wcm-grid">${n?null:o} ${n?null:s} ${n?null:r.map((t=>F`${t?F`<wcm-wallet-button imageId="${t.image_id}" name="${t.name}" walletId="${t.id}" .onClick="${()=>this.onConnect(t)}"></wcm-wallet-button>`:null}`))}</div><div class="wcm-placeholder-block">${a?F`<wcm-text variant="big-bold" color="secondary">No results found</wcm-text>`:null} ${!a&&this.loading?F`<wcm-spinner></wcm-spinner>`:null}</div></wcm-modal-content>`}};Zn.styles=[Ne.globalCss,Hn],Gn([pt()],Zn.prototype,"loading",2),Gn([pt()],Zn.prototype,"firstFetch",2),Gn([pt()],Zn.prototype,"search",2),Gn([pt()],Zn.prototype,"endReached",2),Zn=Gn([lt("wcm-wallet-explorer-view")],Zn);const Yn=c`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var Jn=Object.defineProperty,Xn=Object.getOwnPropertyDescriptor,Qn=(t,e,r,n)=>{for(var i,o=n>1?void 0:n?Xn(e,r):e,s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n?i(e,r,o):i(o))||o);return n&&o&&Jn(e,r,o),o};let ti=class extends ct{constructor(){super(),this.isError=!1,this.openWebWallet()}onFormatAndRedirect(t){const{desktop:e,name:r}=wt.zv.getWalletRouterData(),n=e?.universal;if(n){const e=wt.zv.formatUniversalUrl(n,t,r);wt.zv.openHref(e,"_blank")}}openWebWallet(){const{walletConnectUri:t}=wt.OptionsCtrl.state,e=wt.zv.getWalletRouterData();or.setRecentWallet(e),t&&this.onFormatAndRedirect(t)}render(){const{name:t,id:e,image_id:r}=wt.zv.getWalletRouterData(),{isMobile:n,isDesktop:i}=or.getCachedRouterWalletPlatforms(),o=wt.zv.isMobile();return F`<wcm-modal-header title="${t}" .onAction="${or.handleUriCopy}" .actionIcon="${Ke.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Ae(r)}" label="${`Continue in ${t}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`${t} web app has opened in a new tab. Go there, accept the connection, and come back`}</wcm-text><wcm-platform-selection .isMobile="${n}" .isDesktop="${!o&&i}" .isRetry="${!0}"><wcm-button .onClick="${this.openWebWallet.bind(this)}" .iconRight="${Ke.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};ti.styles=[Ne.globalCss,Yn],Qn([pt()],ti.prototype,"isError",2),ti=Qn([lt("wcm-web-connecting-view")],ti)},9343:(t,e,r)=>{"use strict";r.d(e,{WalletConnectModal:()=>i});var n=r(9174);class i{constructor(t){this.openModal=n.jb.open,this.closeModal=n.jb.close,this.subscribeModal=n.jb.subscribe,this.setTheme=n.ThemeCtrl.setThemeConfig,n.ThemeCtrl.setThemeConfig(t),n.ConfigCtrl.setConfig(t),this.initUi()}async initUi(){if(typeof window<"u"){await Promise.resolve().then(r.bind(r,8493));const t=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",t),n.OptionsCtrl.setIsUiLoaded(!0)}}}},7582:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__addDisposableResource:()=>N,__assign:()=>o,__asyncDelegator:()=>x,__asyncGenerator:()=>k,__asyncValues:()=>A,__await:()=>S,__awaiter:()=>p,__classPrivateFieldGet:()=>P,__classPrivateFieldIn:()=>M,__classPrivateFieldSet:()=>R,__createBinding:()=>y,__decorate:()=>a,__disposeResources:()=>B,__esDecorate:()=>u,__exportStar:()=>m,__extends:()=>i,__generator:()=>g,__importDefault:()=>O,__importStar:()=>C,__makeTemplateObject:()=>I,__metadata:()=>f,__param:()=>c,__propKey:()=>h,__read:()=>w,__rest:()=>s,__runInitializers:()=>l,__setFunctionName:()=>d,__spread:()=>v,__spreadArray:()=>E,__spreadArrays:()=>_,__values:()=>b,default:()=>D});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function a(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function c(t,e){return function(r,n){e(r,n,t)}}function u(t,e,r,n,i,o){function s(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,c=n.kind,u="getter"===c?"get":"setter"===c?"set":"value",l=!e&&t?n.static?t:t.prototype:null,h=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),d=!1,f=r.length-1;f>=0;f--){var p={};for(var g in n)p[g]="access"===g?{}:n[g];for(var g in n.access)p.access[g]=n.access[g];p.addInitializer=function(t){if(d)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(t||null))};var y=(0,r[f])("accessor"===c?{get:h.get,set:h.set}:h[u],p);if("accessor"===c){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw new TypeError("Object expected");(a=s(y.get))&&(h.get=a),(a=s(y.set))&&(h.set=a),(a=s(y.init))&&i.unshift(a)}else(a=s(y))&&("field"===c?i.unshift(a):h[u]=a)}l&&Object.defineProperty(l,n.name,h),d=!0}function l(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function h(t){return"symbol"==typeof t?t:"".concat(t)}function d(t,e,r){return"symbol"==typeof e&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function f(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function p(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))}function g(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var y=Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]};function m(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||y(e,t,r)}function b(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function w(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(w(arguments[e]));return t}function _(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function E(t,e,r){if(r||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}function S(t){return this instanceof S?(this.v=t,this):new S(t)}function k(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof S?Promise.resolve(r.value.v).then(c,u):l(o[0][2],r)}catch(t){l(o[0][3],t)}var r}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function x(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:S(t[n](e)),done:!1}:i?i(e):e}:i}}function A(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=b(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){!function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)}(n,i,(e=t[r](e)).done,e.value)}))}}}function I(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var T=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&y(e,t,r);return T(e,t),e}function O(t){return t&&t.__esModule?t:{default:t}}function P(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)}function R(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r}function M(t,e){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?e===t:t.has(e)}function N(t,e,r){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose]}if("function"!=typeof n)throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var L="function"==typeof SuppressedError?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function B(t){function e(e){t.error=t.hasError?new L(e,t.error,"An error was suppressed during disposal."):e,t.hasError=!0}return function r(){for(;t.stack.length;){var n=t.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,(function(t){return e(t),r()}))}catch(t){e(t)}}if(t.hasError)throw t.error}()}const D={__extends:i,__assign:o,__rest:s,__decorate:a,__param:c,__metadata:f,__awaiter:p,__generator:g,__createBinding:y,__exportStar:m,__values:b,__read:w,__spread:v,__spreadArrays:_,__spreadArray:E,__await:S,__asyncGenerator:k,__asyncDelegator:x,__asyncValues:A,__makeTemplateObject:I,__importStar:C,__importDefault:O,__classPrivateFieldGet:P,__classPrivateFieldSet:R,__classPrivateFieldIn:M,__addDisposableResource:N,__disposeResources:B}},626:t=>{"use strict";t.exports={i8:"3.0.4"}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.amdO={},__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__={};(()=>{"use strict";var t={};__webpack_require__.r(t),__webpack_require__.d(t,{identity:()=>jt});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{base2:()=>Ut});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{base8:()=>zt});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{base10:()=>Ft});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{base16:()=>Wt,base16upper:()=>$t});var o={};__webpack_require__.r(o),__webpack_require__.d(o,{base32:()=>qt,base32hex:()=>Gt,base32hexpad:()=>Yt,base32hexpadupper:()=>Jt,base32hexupper:()=>Zt,base32pad:()=>Vt,base32padupper:()=>Kt,base32upper:()=>Ht,base32z:()=>Xt});var s={};__webpack_require__.r(s),__webpack_require__.d(s,{base36:()=>Qt,base36upper:()=>te});var a={};__webpack_require__.r(a),__webpack_require__.d(a,{base58btc:()=>ee,base58flickr:()=>re});var c={};__webpack_require__.r(c),__webpack_require__.d(c,{base64:()=>ne,base64pad:()=>ie,base64url:()=>oe,base64urlpad:()=>se});var u={};__webpack_require__.r(u),__webpack_require__.d(u,{base256emoji:()=>le});var l={};__webpack_require__.r(l),__webpack_require__.d(l,{sha256:()=>Ne,sha512:()=>Le});var h={};__webpack_require__.r(h),__webpack_require__.d(h,{identity:()=>De});var d={};__webpack_require__.r(d),__webpack_require__.d(d,{code:()=>Ue,decode:()=>Fe,encode:()=>ze,name:()=>je});var f,p,g={};__webpack_require__.r(g),__webpack_require__.d(g,{code:()=>He,decode:()=>Ke,encode:()=>Ve,name:()=>qe}),function(t){t.Order="order",t.Bridge="bridge",t.SingleChainSwap="singleChainSwap",t.Ready="ready",t.NeedConnect="needConnect",t.CallData="callData",t.InputChainChanged="inputChainChanged",t.OutputChainChanged="outputChainChanged",t.InputTokenChanged="inputTokenChanged",t.OutputTokenChanged="outputTokenChanged"}(f||(f={})),function(t){t.ExternalEVMWallet="externalEVMWallet",t.ExternalSolanaWallet="externalSolanaWallet",t.Disconnect="disconnect",t.Response="response",t.ChangeInputChain="changeInputChain",t.ChangeOutputChain="changeOutputChain",t.ChangeInputToken="changeInputToken",t.ChangeOutputToken="changeOutputToken",t.SetRecieverAddress="setRecieverAddress"}(p||(p={}));var y=__webpack_require__(4155),m=(__webpack_require__(6037),__webpack_require__(8764));window.global=window,window.process=y,window.Buffer=m.Buffer;const b={production:!0,eth:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x50188692d5549386d102642036bab916b998c814",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x2328Ee20fA271073328DC94e52Dd5b61aa0C91A7"},bsc:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x50188692d5549386d102642036bab916b998c814",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},heco:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x50188692d5549386d102642036bab916b998c814",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},arbitrum:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x50188692d5549386d102642036bab916b998c814",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},polygon:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x50188692d5549386d102642036bab916b998c814",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x36abc668b1C71c5cFb585Eb4457B3fBbA66bdCf5"},avalanche:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x55C93b20Dd2F790AC429D6341a022A781791654A",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},fantom:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x50188692d5549386d102642036bab916b998c814",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},linea:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x0e4AdD4DC86Ae1Aa0FA43Bd7e6a9fB8Be2d5504d",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},optimism:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x55C93b20Dd2F790AC429D6341a022A781791654A",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},base:{deBridgeGateAddress:"0xc1656B63D9EEBa6d114f6bE19565177893e5bCBF",signatureVerifier:"0x2a3e72eD893b5958690e16c3BBe1BD92137b6250",batchBalanceAddress:"0x202eF28cA6D4d2B94C4Ea0534a8E6261581c70a4",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},neon:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x2Df71B54A835648C0A0f6bc7470ee46400AaaAbe",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},inviteAddress:"0x941f514A3D30123Dd2FB1A99e7771CD8cEcCa9F4",remoteServiceBaseUrl:"https://api.debridge.finance",arweaveBaseUrl:"https://arweave-api.debridge.finance/api",defaultChainId:1,supportedChains:[1,10,56,128,137,42161,43114,250,7565164,59144,8453,245022934],dePortChains:[1,10,56,137,42161,43114,250,7565164,8453,245022934],deSwapChains:[1,10,56,137,42161,43114,7565164,245022934],pmmChains:[1,10,56,137,42161,43114,7565164,59144,8453,245022934],widgetChains:[1,10,56,137,42161,43114,7565164,59144,8453,245022934],widgetChainsDePort:[1,10,56,137,42161,43114,250,7565164,8453,245022934],explorerOrders:[1,10,56,137,42161,43114,250,7565164,59144,8453,245022934],explorerTransactions:[1,10,56,128,137,42161,43114,250,7565164,59144,8453,245022934],isMainnet:!0,defaultMinDebridgeConfirmations:8,whiteListEnabled:!1,recommendExecutionFee:.001,recommendedExecutionFeeMultiplier:1.3,infuraKey:"deec1f0db8aa4960882206b0ef38e4a8",crossChainSDK:"https://nodes.debridge.finance",sentry:{dsn:"https://3d840ec61b76483abf3732779a1f368e@o1201270.ingest.sentry.io/6325639",tracingOrigins:["https://app.debridge.finance"]},solanaProgramms:{programId:"DEbrdGj3HsRsAzx6uH4MKyREKxVAfBydijLUF3ygsFfh",settingsProgramId:"DeSetTwWhjZq6Pz9Kfdo1KoS5NqtsM6G8ERbX4SSCSft",debug:!0,cluster:"mainnet-beta",rpcUrl:"https://solana-rpc.debridge.finance/"},supportedWallets:["METAMASK","COINBASEWALLET","WALLETCONNECT","ONEINCHWALLET","GNOSIS","UNSTOPPABLEDOMAINS","Frontier","PHANTOM","Solflare","Salmon","Glow","Trust Wallet","SolflareMetamask","Fordefi"],crossChainApi:"https://api.dln.trade/v1.0",googleKey:"",receivingForwarderAddress:"0x413dddce3d0ead2489648e482d192a7758c2b1b4",parentUrlHeaderWidget:"Parent-Url-Widget",previousUrl:"Previous-Url",enableSentry:!1,enablePermit:!0,unstoppabledomains:{clientID:"117aac0e-cbc6-4c41-a837-6ee553103f89",redirectUri:"http://localhost:4200/"},supportedNFTChains:[1,56,137,42161,43114],nftBridgeAddress:"0xD132698c56B03131c64e48732690249DD50562A1",moralisApiKey:"wHK0DRTI4dQyvwn3LxMYEeBC3eiR4NQgAHYWCgm83ltQc4te9xes98mVV8eLBu8z",affiliateCodes:[],dln:{enableContractsCache:!0,addresses:{1:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},56:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},128:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},137:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},42161:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},43114:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},250:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},59144:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},7565164:{dlnSourceAddress:"src5qyZHqTqecJV4aY6Cb6zDZLMDzrDKKezs22MPHr4",dlnDestinationAddress:"dst5MGcFPoBeREFAA5E3tU5ij8m5uVYwkzkSAbsLbNo",deBridge:"DEbrdGj3HsRsAzx6uH4MKyREKxVAfBydijLUF3ygsFfh",deBridgeSettings:"DeSetTwWhjZq6Pz9Kfdo1KoS5NqtsM6G8ERbX4SSCSft"},8453:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},10:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},245022934:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"}}},pmmServiceBaseUrl:"https://stats-api.dln.trade",cacheTimeoutForPrices:1e4,ensResolverAddress:"0x3671aE578E63FdF66ad4F3E12CC0c0d71Ac7510C",checkNodeStatusDelay:6e4,disableAutoConnectWallet:!1,enableSignTerms:!0,noderealKey:"6ebc8f6453ac408f93e414f192be8db3",inviteCode:4850,dlnBaseUrl:"https://app.dln.trade",debridgeBaseUrl:"https://app.debridge.finance",walletConnectProjectId:"95557055208ff76c831c3ffa9eaa72ab",enableWalletChangeChainEvent:!1,googleAnalyticsTag:"",txTracker:"https://monitoring-ui.debridge.io",solanaCallDataExecutor:"exe59FS5cojZkPJVDFDV8RnXCC7wd6yoBjsUtqH7Zai",enableSolanaBufferAmount:!0,configuration:"testing",tradingView:{sources:{dexGuru:{key:"7sC0BnqXUkh3HmmNVBUbpYrNelD9jitZ_eXeIi7ga-k",host:"https://api.dev.dex.guru",delay:1e4},birdeye:{key:"68f835271a3b4d33933a20bb20d1cae3"}}},bannerDomain:"app.debridge.finance",birdeye:{key:"68f835271a3b4d33933a20bb20d1cae3",url:"https://public-api.birdeye.so"}};var w,v,_;!function(t){t[t.EVM=1]="EVM",t[t.SOLANA=2]="SOLANA"}(w||(w={})),function(t){t[t.Ethereum=1]="Ethereum",t[t.BSC=56]="BSC",t[t.Heco=128]="Heco",t[t.Polygon=137]="Polygon",t[t.Arbitrum=42161]="Arbitrum",t[t.Avalanche=43114]="Avalanche",t[t.Solana=7565164]="Solana",t[t.Fantom=250]="Fantom",t[t.Linea=59144]="Linea",t[t.Optimism=10]="Optimism",t[t.Base=8453]="Base",t[t.Neon=245022934]="Neon"}(v||(v={})),function(t){t.LOW="low",t.MEDIUM="medium",t.HIGH="high",t.CUSTOM="custom"}(_||(_={}));const E=[{name:"Ethereum",type:w.EVM,chainId:v.Ethereum,colorForAnalytics:"#32AEF4",canDeployToken:!0,chainIdHex:"0x1",img:"/assets/images/chain/eth.svg",color:"#627EEA",isMainnet:!0,minBlockConfirmation:12,explorerName:"Etherscan",explorerTx:"https://etherscan.io/tx/",explorerAddress:"https://etherscan.io/address/",explorerToken:"https://etherscan.io/token/",weth:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",altTokenAddress:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",oneInchAllowed:!0,supportsEIP1559:!0,canSwapToSameChain:!0,defaultGasLimit:25e4,gasRecommendedExecutionFeeMultiplier:(t,e)=>t<25e9?1.3*e:t<3e10?1.2*e:t<5e10?1.1*e:e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>{const i=e.dividedBy(10);return t===_.LOW?(n=1.54,r=e):t===_.MEDIUM?(n=2.4,r=e.plus(i)):t===_.HIGH&&(n=3.1,r=e.plus(i.multipliedBy(2))),{maxPriorityFee:n,maxFeePerGas:r.toNumber()}},coingecko:{tokenId:"ethereum",platform:"ethereum"},networkParams:{chainId:"0x1",chainName:"Ethereum",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18,logoURI:"/assets/images/chain/eth.svg"},rpcUrls:[],defaultGasPrice:50,defaultRpcUrl:"https://rpc.ankr.com/eth",signatureVerifier:b.eth.signatureVerifier,batchBalanceAddress:b.eth.batchBalanceAddress,deBridgeGateAddress:b.eth.deBridgeGateAddress,subscriptionAddress:b.eth.subscriptionAddress,preSwapAddress:b.eth.preSwapAddress,estimatedTime:"< 2.5 min",gasLimitsSwap:71e4,blockExplorerUrls:[]},customTokens:[],stableCoins:[],customTokensDeport:[]},{name:"BNB Chain",type:w.EVM,chainId:v.BSC,canDeployToken:!0,chainIdHex:"0x38",colorForAnalytics:"#FFBCBE",img:"/assets/images/chain/bnb.svg",color:"#F3BA2F",isMainnet:!0,minBlockConfirmation:12,canSwapToSameChain:!0,explorerName:"BscScan",defaultGasLimit:25e4,gasRecommendedExecutionFeeMultiplier:(t,e)=>1.2*e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>({maxPriorityFee:n,maxFeePerGas:(t===_.HIGH?e.plus(2):e.plus(1)).toNumber()}),explorerTx:"https://bscscan.com/tx/",explorerAddress:"https://bscscan.com/address/",explorerToken:"https://bscscan.com/token/",weth:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",altTokenAddress:"0x8ac76a51cc950d9822d68b83fe1ad97b32cd580d",supportsEIP1559:!1,oneInchAllowed:!0,coingecko:{tokenId:"binancecoin",platform:"binance-smart-chain"},networkParams:{chainId:"0x38",chainName:"BNB Chain Mainnet",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18,logoURI:"/assets/images/chain/bnb.svg"},defaultGasPrice:5,rpcUrls:["https://bsc-dataseed1.ninicoin.io","https://bsc-dataseed1.defibit.io","https://bsc-dataseed.binance.org"],defaultRpcUrl:"https://bsc-dataseed.binance.org/",signatureVerifier:b.bsc.signatureVerifier,batchBalanceAddress:b.bsc.batchBalanceAddress,deBridgeGateAddress:b.bsc.deBridgeGateAddress,subscriptionAddress:b.bsc.subscriptionAddress,preSwapAddress:b.bsc.preSwapAddress,estimatedTime:"< 1 min",gasLimitsSwap:16e5,blockExplorerUrls:["https://bscscan.com/"]},customTokens:[],stableCoins:[],customTokensDeport:[]},{name:"Heco",type:w.EVM,chainId:v.Heco,chainIdHex:"0x80",colorForAnalytics:"#4FC17D",img:"/assets/images/chain/heco.svg",canDeployToken:!0,color:"#3E4AA6",isMainnet:!0,defaultGasLimit:25e4,oneInchAllowed:!1,gasRecommendedExecutionFeeMultiplier:(t,e)=>2*e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>(t===_.MEDIUM?r=e.multipliedBy(2):t===_.HIGH&&(r=e.multipliedBy(3)),{maxPriorityFee:r.multipliedBy(.55).toNumber(),maxFeePerGas:r.toNumber()}),minBlockConfirmation:12,canSwapToSameChain:!0,explorerName:"HecoInfo",explorerTx:"https://hecoinfo.com/tx/",explorerAddress:"https://hecoinfo.com/address/",explorerToken:"https://hecoinfo.com/token/",weth:"0x5545153CCFcA01fbd7Dd11C0b23ba694D9509A6F",supportsEIP1559:!0,coingecko:{tokenId:"huobi-token",platform:"huobi-token"},networkParams:{chainId:"0x80",chainName:"Huobi ECO Chain Mainnet",gasLimitsSwap:25e5,nativeCurrency:{name:"HT",symbol:"HT",decimals:18,logoURI:"/assets/images/chain/heco.svg"},defaultGasPrice:3,rpcUrls:["https://http-mainnet-node.huobichain.com"],defaultRpcUrl:"https://http-mainnet-node.huobichain.com",signatureVerifier:b.heco.signatureVerifier,batchBalanceAddress:b.heco.batchBalanceAddress,deBridgeGateAddress:b.heco.deBridgeGateAddress,subscriptionAddress:b.heco.subscriptionAddress,preSwapAddress:b.heco.preSwapAddress,blockExplorerUrls:["https://hecoinfo.com"]},customTokens:[],stableCoins:[],customTokensDeport:[]},{type:w.EVM,name:"Polygon",chainId:v.Polygon,chainIdHex:"0x89",canDeployToken:!0,colorForAnalytics:"#7154A5",img:"/assets/images/chain/polygon.svg",color:"#A46DFF",isMainnet:!0,defaultGasLimit:25e4,gasRecommendedExecutionFeeMultiplier:(t,e)=>1.5*e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>(t===_.LOW&&(r=e.multipliedBy(1.1)),t===_.MEDIUM?r=e.multipliedBy(1.4):t===_.HIGH&&(r=e.multipliedBy(2)),{maxPriorityFee:n,maxFeePerGas:r.toNumber()}),minBlockConfirmation:256,canSwapToSameChain:!0,explorerName:"Polygonscan",explorerTx:"https://polygonscan.com/tx/",explorerAddress:"https://polygonscan.com/address/",explorerToken:"https://polygonscan.com/token/",weth:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",altTokenAddress:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",supportsEIP1559:!1,oneInchAllowed:!0,coingecko:{tokenId:"matic-network",platform:"polygon-pos"},networkParams:{chainId:"0x89",chainName:"POLYGON",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18,logoURI:"/assets/images/chain/polygon.svg"},defaultGasPrice:200,rpcUrls:["https://polygon-mainnet.public.blastapi.io"],defaultRpcUrl:"https://polygon-mainnet.public.blastapi.io",signatureVerifier:b.polygon.signatureVerifier,batchBalanceAddress:b.polygon.batchBalanceAddress,deBridgeGateAddress:b.polygon.deBridgeGateAddress,subscriptionAddress:b.polygon.subscriptionAddress,preSwapAddress:b.polygon.preSwapAddress,estimatedTime:"< 13 min",gasLimitsSwap:24e5,blockExplorerUrls:["https://polygonscan.com"]},customTokens:[],stableCoins:[],customTokensDeport:[]},{type:w.EVM,name:"Arbitrum",chainId:v.Arbitrum,chainIdHex:"0xa4b1",canDeployToken:!0,img:"/assets/images/chain/arbitrum.svg",nativeTokenFromEthereum:!0,color:"#28A0F0",colorForAnalytics:"#DC7941",isMainnet:!0,minBlockConfirmation:12,canSwapToSameChain:!0,defaultGasLimit:14e5,gasRecommendedExecutionFeeMultiplier:(t,e)=>1.1*e,getDeployTokenGasLimit:t=>25e5+2e5*t,getClaimGasLimit:t=>15e5+2e5*t,getGasSettings:(t,e,r,n)=>({maxPriorityFee:n,maxFeePerGas:r.toNumber()}),explorerName:"Arbiscan",explorerTx:"https://arbiscan.io/tx/",explorerAddress:"https://arbiscan.io/address/",explorerToken:"https://arbiscan.io/token/",weth:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",altTokenAddress:"0xff970a61a04b1ca14834a43f5de4533ebddb5cc8",supportsEIP1559:!0,oneInchAllowed:!0,coingecko:{tokenId:"ethereum",platform:"arbitrum-one"},networkParams:{chainId:"0xa4b1",chainName:"ARBITRUM",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18,logoURI:"/assets/images/chain/arbitrum.svg"},defaultGasPrice:.7,rpcUrls:["https://arb1.arbitrum.io/rpc"],defaultRpcUrl:"https://arb1.arbitrum.io/rpc",signatureVerifier:b.arbitrum.signatureVerifier,batchBalanceAddress:b.arbitrum.batchBalanceAddress,subscriptionAddress:b.arbitrum.subscriptionAddress,deBridgeGateAddress:b.arbitrum.deBridgeGateAddress,preSwapAddress:b.arbitrum.preSwapAddress,estimatedTime:"< 1 min",gasLimitsSwap:12e6,blockExplorerUrls:["https://arbiscan.io"]},customTokens:[],stableCoins:[],customTokensDeport:[]},{type:w.EVM,name:"Avalanche",chainId:v.Avalanche,chainIdHex:"0xA86A",colorForAnalytics:"#CC2B4A",canDeployToken:!0,img:"/assets/images/chain/avalanche.svg",color:"#E84142",isMainnet:!0,defaultGasLimit:25e4,gasRecommendedExecutionFeeMultiplier:(t,e)=>1.1*e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>(t===_.MEDIUM?r=e.multipliedBy(1.2):t===_.HIGH&&(r=e.multipliedBy(1.4)),{maxPriorityFee:r.multipliedBy(.55).toNumber(),maxFeePerGas:r.toNumber()}),minBlockConfirmation:12,canSwapToSameChain:!0,explorerName:"Snowtrace",explorerTx:"https://snowtrace.io/tx/",explorerAddress:"https://snowtrace.io/address/",explorerToken:"https://snowtrace.io/token/",weth:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",altTokenAddress:"0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e",supportsEIP1559:!0,oneInchAllowed:!0,coingecko:{tokenId:"avalanche-2",platform:"avalanche"},networkParams:{chainId:"0xA86A",chainName:"AVALANCHE",nativeCurrency:{name:"AVAX",symbol:"AVAX",decimals:18,logoURI:"/assets/images/chain/avalanche.svg"},defaultGasPrice:100,rpcUrls:["https://api.avax.network/ext/bc/C/rpc"],defaultRpcUrl:"https://api.avax.network/ext/bc/C/rpc",signatureVerifier:b.avalanche.signatureVerifier,batchBalanceAddress:b.avalanche.batchBalanceAddress,deBridgeGateAddress:b.avalanche.deBridgeGateAddress,subscriptionAddress:b.avalanche.subscriptionAddress,preSwapAddress:b.avalanche.preSwapAddress,estimatedTime:"< 1 min",gasLimitsSwap:26e5,blockExplorerUrls:["https://snowtrace.io"]},customTokens:[],stableCoins:[],customTokensDeport:[]},{name:"Solana",type:w.SOLANA,chainId:v.Solana,chainIdHex:"0x736f6c",weth:"So11111111111111111111111111111111111111112",canDeployToken:!0,colorForAnalytics:"#DC1FFF",img:"/assets/images/chain/solana.svg",color:"linear-gradient(0deg, #13ECAB 0%, #BD3FF2 100%)",isMainnet:!0,minBlockConfirmation:12,canSwapToSameChain:!0,defaultGasLimit:0,oneInchAllowed:!1,gasRecommendedExecutionFeeMultiplier:(t,e)=>e,getDeployTokenGasLimit:t=>0,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>({maxPriorityFee:n,maxFeePerGas:r.toNumber()}),explorerName:"SolanaFM",explorerTx:"https://solana.fm/tx/",explorerAddress:"https://solana.fm/address/",explorerToken:"https://solana.fm/address/",coingecko:{tokenId:"solana",platform:"solana"},networkParams:{chainId:"0x736f6c",chainName:"Solana",gasLimitsSwap:0,nativeCurrency:{name:"SOL",symbol:"SOL",decimals:9,logoURI:"/assets/images/chain/solana.svg"},rpcUrls:[],defaultRpcUrl:b.solanaProgramms.rpcUrl,estimatedTime:"< 1 min",blockExplorerUrls:[]},customTokens:[],altTokenAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",stableCoins:[],customTokensDeport:[]},{name:"Fantom",chainId:v.Fantom,type:w.EVM,chainIdHex:"0xFA",colorForAnalytics:"#02759B",img:"/assets/images/chain/fantom.svg",color:"#13b5ec",isMainnet:!0,canDeployToken:!0,minBlockConfirmation:12,canSwapToSameChain:!0,explorerName:"FTMScan",defaultGasLimit:25e4,gasRecommendedExecutionFeeMultiplier:(t,e)=>e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>(t===_.MEDIUM?r=e.isLessThan(250)?e.multipliedBy(2):e.multipliedBy(1.5):t===_.HIGH&&(r=e.isLessThan(500)?e.multipliedBy(3):e.multipliedBy(2)),{maxPriorityFee:n,maxFeePerGas:r.toNumber()}),explorerTx:"https://ftmscan.com/tx/",explorerAddress:"https://ftmscan.com/address/",explorerToken:"https://ftmscan.com/token/",weth:"0x21be370D5312f44cB42ce377BC9b8a0cEF1A4C83",altTokenAddress:"0x04068DA6C83AFCFA0e13ba15A6696662335D5B75",supportsEIP1559:!1,oneInchAllowed:!0,coingecko:{tokenId:"fantom",platform:"fantom"},networkParams:{chainId:"0xFA",chainName:"Fantom Opera",gasLimitsSwap:25e5,nativeCurrency:{name:"FTM",symbol:"FTM",decimals:18,logoURI:"/assets/images/chain/fantom.svg"},defaultGasPrice:1e3,rpcUrls:["https://rpc.ftm.tools/"],defaultRpcUrl:"https://rpc.ftm.tools/",signatureVerifier:b.fantom.signatureVerifier,batchBalanceAddress:b.fantom.batchBalanceAddress,deBridgeGateAddress:b.fantom.deBridgeGateAddress,subscriptionAddress:b.fantom.subscriptionAddress,preSwapAddress:b.fantom.preSwapAddress,estimatedTime:"< 1 min",blockExplorerUrls:["https://ftmscan.com/"]},customTokens:[],stableCoins:[],customTokensDeport:[]},{name:"Linea",chainId:v.Linea,type:w.EVM,chainIdHex:"0xe708",colorForAnalytics:"#64d2ff",img:"/assets/images/chain/linea.svg",color:"#64d2ff",canDeployToken:!1,isMainnet:!0,minBlockConfirmation:12,canSwapToSameChain:!1,nativeTokenFromEthereum:!0,defaultGasLimit:25e4,gasRecommendedExecutionFeeMultiplier:(t,e)=>e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>(_.LOW,t===_.MEDIUM?r=e.multipliedBy(1.1):t===_.HIGH&&(r=e.multipliedBy(1.2)),{maxPriorityFee:n,maxFeePerGas:r.toNumber()}),disableForTokensPrices:!0,explorerName:"LineaScan",explorerTx:"https://lineascan.build/tx/",explorerAddress:"https://lineascan.build/address/",explorerToken:"https://lineascan.build/token/",weth:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",altTokenAddress:"0xe5D7C2a44FfDDf6b295A15c148167daaAf5Cf34f",supportsEIP1559:!1,oneInchAllowed:!1,coingecko:{tokenId:"ethereum",platform:"linea"},networkParams:{chainId:"0xe708",chainName:"Linea",gasLimitsSwap:25e5,nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18,logoURI:"/assets/images/chain/eth.svg"},defaultGasPrice:5,rpcUrls:["https://rpc.linea.build/"],defaultRpcUrl:"https://rpc.linea.build/",signatureVerifier:b.linea.signatureVerifier,batchBalanceAddress:b.linea.batchBalanceAddress,deBridgeGateAddress:b.linea.deBridgeGateAddress,subscriptionAddress:b.linea.subscriptionAddress,preSwapAddress:b.linea.preSwapAddress,estimatedTime:"< 1 min",blockExplorerUrls:["https://lineascan.build/"]},customTokens:[{chainId:v.Linea,address:"0x176211869cA2b568f2A7D4EE941E073a821EE1ff",name:"USDC",symbol:"USDC",decimals:6,logoURI:"https://s2.coinmarketcap.com/static/img/coins/64x64/3408.png"}],customTokensDeport:[{chainId:v.Linea,address:"0xe5D7C2a44FfDDf6b295A15c148167daaAf5Cf34f",name:"WETH",symbol:"WETH",decimals:18},{chainId:v.Linea,address:"0x176211869cA2b568f2A7D4EE941E073a821EE1ff",name:"USDC",symbol:"USDC",decimals:6,logoURI:"https://s2.coinmarketcap.com/static/img/coins/64x64/3408.png"}],stableCoins:["0x176211869cA2b568f2A7D4EE941E073a821EE1ff"]},{name:"Optimism",chainId:v.Optimism,type:w.EVM,chainIdHex:"0xa",colorForAnalytics:"#FF0420",img:"/assets/images/chain/optimism.svg",color:"#FF0420",canDeployToken:!0,isMainnet:!0,minBlockConfirmation:12,canSwapToSameChain:!0,nativeTokenFromEthereum:!0,defaultGasLimit:25e4,gasRecommendedExecutionFeeMultiplier:(t,e)=>e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>(_.LOW,t===_.MEDIUM?r=e.multipliedBy(1.1):t===_.HIGH&&(r=e.multipliedBy(1.2)),{maxPriorityFee:n,maxFeePerGas:r.toNumber()}),disableForTokensPrices:!0,explorerName:"Optimism Explorer",explorerTx:"https://optimistic.etherscan.io/tx/",explorerAddress:"https://optimistic.etherscan.io/address/",explorerToken:"https://optimistic.etherscan.io/token/",weth:"0x4200000000000000000000000000000000000006",altTokenAddress:"0x7f5c764cbc14f9669b88837ca1490cca17c31607",supportsEIP1559:!1,oneInchAllowed:!0,coingecko:{tokenId:"ethereum",platform:"optimistic-ethereum"},networkParams:{chainId:"0xa",chainName:"optimism",gasLimitsSwap:25e5,nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18,logoURI:"/assets/images/chain/eth.svg"},defaultGasPrice:1,rpcUrls:["https://mainnet.optimism.io/"],defaultRpcUrl:"https://mainnet.optimism.io/",signatureVerifier:b.optimism.signatureVerifier,batchBalanceAddress:b.optimism.batchBalanceAddress,deBridgeGateAddress:b.optimism.deBridgeGateAddress,subscriptionAddress:b.optimism.subscriptionAddress,preSwapAddress:b.optimism.preSwapAddress,estimatedTime:"< 1 min",blockExplorerUrls:["https://optimistic.etherscan.io/"]},customTokens:[],stableCoins:[],customTokensDeport:[]},{name:"Base",chainId:v.Base,type:w.EVM,chainIdHex:"0x2105",colorForAnalytics:"#0052ff",img:"/assets/images/chain/base.svg",color:"#3F7BFC",canDeployToken:!0,isMainnet:!0,minBlockConfirmation:12,canSwapToSameChain:!0,nativeTokenFromEthereum:!0,defaultGasLimit:25e4,gasRecommendedExecutionFeeMultiplier:(t,e)=>e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>(_.LOW,t===_.MEDIUM?r=e.multipliedBy(1.1):t===_.HIGH&&(r=e.multipliedBy(1.2)),{maxPriorityFee:n,maxFeePerGas:r.toNumber()}),disableForTokensPrices:!0,explorerName:"BaseScan",explorerTx:"https://basescan.org/tx/",explorerAddress:"https://basescan.org/address/",explorerToken:"https://basescan.org/token/",weth:"0x4200000000000000000000000000000000000006",altTokenAddress:"0xd9aaec86b65d86f6a7b5b1b0c42ffa531710b6ca",supportsEIP1559:!1,oneInchAllowed:!0,coingecko:{tokenId:"ethereum",platform:"base"},networkParams:{chainId:"0x2105",chainName:"base",gasLimitsSwap:25e5,nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18,logoURI:"/assets/images/chain/eth.svg"},defaultGasPrice:1,rpcUrls:["https://mainnet.base.org/"],defaultRpcUrl:"https://mainnet.base.org/",signatureVerifier:b.base.signatureVerifier,batchBalanceAddress:b.base.batchBalanceAddress,deBridgeGateAddress:b.base.deBridgeGateAddress,subscriptionAddress:b.base.subscriptionAddress,preSwapAddress:b.base.preSwapAddress,estimatedTime:"< 1 min",blockExplorerUrls:["https://basescan.org/"]},customTokens:[],stableCoins:["0xd9aaec86b65d86f6a7b5b1b0c42ffa531710b6ca"],customTokensDeport:[]},{type:w.EVM,name:"Neon",chainId:v.Neon,chainIdHex:"0xE9AC0D6",canDeployToken:!0,colorForAnalytics:"#14f195",img:"/assets/images/chain/neon.svg",color:"#A46DFF",isMainnet:!0,defaultGasLimit:25e4,subscriptionId:100000001,gasRecommendedExecutionFeeMultiplier:(t,e)=>1.5*e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>(t===_.LOW&&(r=e.multipliedBy(1.05)),t===_.MEDIUM?r=e.multipliedBy(1.1):t===_.HIGH&&(r=e.multipliedBy(1.2)),{maxPriorityFee:n,maxFeePerGas:r.toNumber()}),minBlockConfirmation:32,canSwapToSameChain:!1,explorerName:"Neonscan",explorerTx:"https://neonscan.org/tx/",explorerAddress:"https://neonscan.org/address/",explorerToken:"https://neonscan.org/token/",weth:"0x202c35e517fa803b537565c40f0a6965d7204609",altTokenAddress:"0xEA6B04272f9f62F997F666F07D3a974134f7FFb9",supportsEIP1559:!1,oneInchAllowed:!0,coingecko:{tokenId:"neon",platform:"neon-evm"},networkParams:{chainId:"0xE9AC0D6",chainName:"Neon",nativeCurrency:{name:"NEON",symbol:"NEON",decimals:18,logoURI:"/assets/images/chain/neon.svg"},defaultGasPrice:200,rpcUrls:["https://neon-proxy-mainnet.solana.p2p.org"],defaultRpcUrl:"https://neon-proxy-mainnet.solana.p2p.org",signatureVerifier:b.neon.signatureVerifier,batchBalanceAddress:b.neon.batchBalanceAddress,deBridgeGateAddress:b.neon.deBridgeGateAddress,preSwapAddress:b.neon.preSwapAddress,estimatedTime:"< 13 min",gasLimitsSwap:24e5,blockExplorerUrls:["https://neonscan.org"]},customTokens:[],stableCoins:[],customTokensDeport:[]}];var S;!function(t){t[t.EVM=1]="EVM",t[t.SOLANA=2]="SOLANA"}(S||(S={}));class k{constructor(){this.evmNetworkIds=this.getAll().filter((t=>t.type==S.EVM)).map((t=>t.id))}isEVMChain(t){return this.evmNetworkIds.includes(t)}getAll(){return k.cache||(k.cache=E.filter((t=>b.supportedChains.includes(t.chainId))).map((t=>({img:t.img,id:t.chainId,label:t.name,currencySymbol:t.networkParams.nativeCurrency.name,networkParams:t.networkParams,chainIdHex:t.chainIdHex,type:t.type,altTokenAddress:t.altTokenAddress,coingecko:t.coingecko,explorerName:t.explorerName,explorerTx:t.explorerTx,explorerAddress:t.explorerAddress,explorerToken:t.explorerToken,oneInchAllowed:t.oneInchAllowed,estimatedTime:t.networkParams.estimatedTime,supportsEIP1559:t.supportsEIP1559,color:t.color,canSwapToSameChain:t.canSwapToSameChain,colorForAnalytics:t.colorForAnalytics,canDeployToken:t.canDeployToken,customTokens:t.customTokens||[],nativeTokenFromEthereum:!!t.nativeTokenFromEthereum,disableForTokensPrices:!!t.disableForTokensPrices}))))}getChain(t){return this.getAll().find((e=>e.id===t))}getDeSwapNetworks(){return this.getAll().filter((t=>b.deSwapChains.includes(t.id)))}getDePortNetworks(){return this.getAll().filter((t=>b.dePortChains.includes(t.id)))}getPmmNetworks(){return this.getAll().filter((t=>b.pmmChains.includes(t.id)))}getNFTNetworks(){return this.getAll().filter((t=>b.supportedNFTChains.includes(t.id)))}getWidgetNetworks(){return this.getAll().filter((t=>b.widgetChains.includes(t.id)))}getWidgetDePortNetworks(){return this.getAll().filter((t=>b.widgetChainsDePort.includes(t.id)))}getExplorerChains(){return this.getAll().filter((t=>b.explorerTransactions.includes(t.id)))}getExplorerOrdersChains(){return this.getAll().filter((t=>b.explorerOrders.includes(t.id)))}}var x=__webpack_require__(7582);function A(t){return"function"==typeof t}function I(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var T=I((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function C(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var O=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var t,e,r,n,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=(0,x.__values)(o),a=s.next();!a.done;a=s.next())a.value.remove(this)}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}else o.remove(this);var c=this.initialTeardown;if(A(c))try{c()}catch(t){i=t instanceof T?t.errors:[t]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var l=(0,x.__values)(u),h=l.next();!h.done;h=l.next()){var d=h.value;try{M(d)}catch(t){i=null!=i?i:[],t instanceof T?i=(0,x.__spreadArray)((0,x.__spreadArray)([],(0,x.__read)(i)),(0,x.__read)(t.errors)):i.push(t)}}}catch(t){r={error:t}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}if(i)throw new T(i)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)M(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&C(e,t)},t.prototype.remove=function(e){var r=this._finalizers;r&&C(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t;var e}(),P=O.EMPTY;function R(t){return t instanceof O||t&&"closed"in t&&A(t.remove)&&A(t.add)&&A(t.unsubscribe)}function M(t){A(t)?t():t.unsubscribe()}var N={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},L={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=L.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,(0,x.__spreadArray)([t,e],(0,x.__read)(r))):setTimeout.apply(void 0,(0,x.__spreadArray)([t,e],(0,x.__read)(r)))},clearTimeout:function(t){var e=L.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function B(t){L.setTimeout((function(){var e=N.onUnhandledError;if(!e)throw t;e(t)}))}function D(){}var j=U("C",void 0,void 0);function U(t,e,r){return{kind:t,value:e,error:r}}var z=null;function F(t){if(N.useDeprecatedSynchronousErrorHandling){var e=!z;if(e&&(z={errorThrown:!1,error:null}),t(),e){var r=z,n=r.errorThrown,i=r.error;if(z=null,n)throw i}}else t()}var W=function(t){function e(e){var r=t.call(this)||this;return r.isStopped=!1,e?(r.destination=e,R(e)&&e.add(r)):r.destination=Z,r}return(0,x.__extends)(e,t),e.create=function(t,e,r){return new V(t,e,r)},e.prototype.next=function(t){this.isStopped?G(function(t){return U("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?G(U("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?G(j,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(O),$=Function.prototype.bind;function q(t,e){return $.call(t,e)}var H=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){K(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){K(t)}else K(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){K(t)}},t}(),V=function(t){function e(e,r,n){var i,o,s=t.call(this)||this;return A(e)||!e?i={next:null!=e?e:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:s&&N.useDeprecatedNextContext?((o=Object.create(e)).unsubscribe=function(){return s.unsubscribe()},i={next:e.next&&q(e.next,o),error:e.error&&q(e.error,o),complete:e.complete&&q(e.complete,o)}):i=e,s.destination=new H(i),s}return(0,x.__extends)(e,t),e}(W);function K(t){N.useDeprecatedSynchronousErrorHandling?function(t){N.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=t)}(t):B(t)}function G(t,e){var r=N.onStoppedNotification;r&&L.setTimeout((function(){return r(t,e)}))}var Z={closed:!0,next:D,error:function(t){throw t},complete:D},Y="function"==typeof Symbol&&Symbol.observable||"@@observable";function J(t){return t}var X=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n,i=this,o=(n=t)&&n instanceof W||function(t){return t&&A(t.next)&&A(t.error)&&A(t.complete)}(n)&&R(n)?t:new V(t,e,r);return F((function(){var t=i,e=t.operator,r=t.source;o.add(e?e.call(o,r):r?i._subscribe(o):i._trySubscribe(o))})),o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=Q(e))((function(e,n){var i=new V({next:function(e){try{t(e)}catch(t){n(t),i.unsubscribe()}},error:n,complete:e});r.subscribe(i)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[Y]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0===(r=t).length?J:1===r.length?r[0]:function(t){return r.reduce((function(t,e){return e(t)}),t)})(this);var r},t.prototype.toPromise=function(t){var e=this;return new(t=Q(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function Q(t){var e;return null!==(e=null!=t?t:N.Promise)&&void 0!==e?e:Promise}var tt,et,rt=I((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),nt=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return(0,x.__extends)(e,t),e.prototype.lift=function(t){var e=new it(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new rt},e.prototype.next=function(t){var e=this;F((function(){var r,n;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var i=(0,x.__values)(e.currentObservers),o=i.next();!o.done;o=i.next())o.value.next(t)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}}))},e.prototype.error=function(t){var e=this;F((function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var r=e.observers;r.length;)r.shift().error(t)}}))},e.prototype.complete=function(){var t=this;F((function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}}))},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,r=this,n=r.hasError,i=r.isStopped,o=r.observers;return n||i?P:(this.currentObservers=null,o.push(t),new O((function(){e.currentObservers=null,C(o,t)})))},e.prototype._checkFinalizedStatuses=function(t){var e=this,r=e.hasError,n=e.thrownError,i=e.isStopped;r?t.error(n):i&&t.complete()},e.prototype.asObservable=function(){var t=new X;return t.source=this,t},e.create=function(t,e){return new it(t,e)},e}(X),it=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return(0,x.__extends)(e,t),e.prototype.next=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)},e.prototype.error=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:P},e}(nt);class ot{constructor(t){this.walletId=t,this.accountChanged$=new nt,this.chainChanged$=new nt,this.disconnect$=new nt,this.error$=new nt,this.netWorkService=new k,this.provider=null}get accountChanged(){return this.accountChanged$.asObservable()}get disconnected(){return this.disconnect$.asObservable()}get error(){return this.error$.asObservable()}get chainChanged(){return this.chainChanged$.asObservable()}getAccounts(){return this.handle("eth_accounts")}async getAccount(){return(await this.getAccounts()||[""])[0]}requestAccounts(){return this.handle("eth_requestAccounts")}async sendAsync(t){return new Promise((async(e,r)=>{const n=(t,n)=>{t?r(t):n.error?(console.error(n.error),r(n.error)):e(n?.result||n)},i=this.provider.provider?.provider||this.provider.provider||this.provider;i.getUncheckedSigner?i.send(t.method,t.params).then((t=>e(t))).catch((t=>r(t))):i.sendAsync?i.sendAsync(t,n):i.send(t,n).catch((n=>{if("Hardhat Network doesn't support JSON-RPC params sent as an object"!==n.message)throw n;i.send(t.method,t.params).then((t=>e(t))).catch((t=>r(t)))}))}))}handle(t,e){return this.provider.request({method:t,params:e})}request(t,e){return this.handle(t,e)}setProvider(t){this.provider=t,this.provider&&(t.on("accountsChanged",(t=>{this.accountChanged$.next(t)})),t.on("disconnect",(()=>{this.disconnect$.next()})),t.on("chainChanged",(t=>{this.chainChanged$.next(t)})))}}!function(t){t.Metamask="METAMASK",t.WalletConnect="WALLETCONNECT",t.Coinbase="COINBASEWALLET",t.Phantom="PHANTOM",t.Coin98="COIN98",t.Xdefi="XDEFI",t.OneInch="ONEINCHWALLET",t.Rabby="RABBY",t.Avalanche="AVALANCHE",t.GNOSIS="GNOSIS",t.UNSTOPPABLEDOMAINS="UNSTOPPABLEDOMAINS",t.TrustWallet="Trust Wallet",t.ExternalEvmWallet="External Evm Wallet",t.SolflareMetamask="SolflareMetamask"}(tt||(tt={})),function(t){t.CONNECT_ERROR="CONNECT_ERROR",t.NEED_CONNECT="NEED_CONNECT",t.WALLET_NOT_FOUND="WALLET_NOT_FOUND",t.WALLET_NOT_UNSWERED="WALLET_NOT_UNSWERED",t.WALLET_ALREAY_PROCESSING="WALLET_ALREAY_PROCESSING",t.NOT_SUPPORT_CHAIN="NOT_SUPPORT_CHAIN",t.NEED_CONFIRM_PREVIOUS_REQUEST="NEED_CONFIRM_PREVIOUS_REQUEST",t.USER_REJECTED="USER_REJECTED",t.NOT_FOUND_CONTRACT="NOT_FOUND_CONTRACT",t.TOKEN_NOT_FOUND="TOKEN_NOT_FOUND",t.TIMEOUT="TIMEOUT",t.TRANSACTION_EXPIRED="TRANSACTION_EXPIRED",t.CANT_CHANGE_CHAIN="CANT_CHANGE_CHAIN",t.UNKNOWN_CHAIN="UNKNOWN_CHAIN",t.RPC_NODE_UNSYNC="RPC_NODE_UNSYNC",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.TRANSACTION_WAS_NOT_MINED_50_BLOCKS="TRANSACTION_WAS_NOT_MINED_50_BLOCKS",t.SIGNATURES_NOT_SAVE="SIGNATURES_NOT_SAVE",t.CREATE_ORDER_INVALID_QUERY_PARAMETERS="INVALID_QUERY_PARAMETERS",t.CREATE_ORDER_SOURCE_AND_DESTINATION_CHAINS_ARE_EQUAL="SOURCE_AND_DESTINATION_CHAINS_ARE_EQUAL",t.IMPOSSIBLE_ROUTE="IMPOSSIBLE_ROUTE",t.CREATE_ORDER_INCLUDED_GAS_FEE_NOT_COVERED_BY_INPUT_AMOUNT="INCLUDED_GAS_FEE_NOT_COVERED_BY_INPUT_AMOUNT",t.CREATE_ORDER_INCLUDED_GAS_FEE_CANNOT_BE_ESTIMATED_FOR_TRANSACTION_BUNDLE="INCLUDED_GAS_FEE_CANNOT_BE_ESTIMATED_FOR_TRANSACTION_BUNDLE",t.CREATE_ORDER_CONNECTOR_1INCH_RETURNED_ERROR="CONNECTOR_1INCH_RETURNED_ERROR",t.CREATE_ORDER_INTERNAL_SERVER_ERROR="INTERNAL_SERVER_ERROR",t.CREATE_ORDER_INTERNAL_SDK_ERROR="INTERNAL_SDK_ERROR",t.CREATE_ORDER_ERROR_LOW_GIVE_AMOUNT="ERROR_LOW_GIVE_AMOUNT",t.CREATE_ORDER_AFFILIATE_FEE_RECIPIENT_NOT_SET="CREATE_ORDER_AFFILIATE_FEE_RECIPIENT_NOT_SET",t.CREATE_ORDER_AFFILIATE_FEE_PERCENT_NOT_SET="CREATE_ORDER_AFFILIATE_FEE_PERCENT_NOT_SET",t.CREATE_ORDER_ESTIMATION_FAILED="CREATE_ORDER_ESTIMATION_FAILED",t.CREATE_ORDER_SENDER_ADDRESS_EMPTY="CREATE_ORDER_SENDER_ADDRESS_EMPTY",t.CREATE_ORDER_UNSUPPORTED_TOKEN_IN="CREATE_ORDER_UNSUPPORTED_TOKEN_IN",t.CREATE_ORDER_UNSUPPORTED_TOKEN_OUT="CREATE_ORDER_UNSUPPORTED_TOKEN_OUT",t.CREATE_ORDER_UNABLE_TO_ESTIMATE_ORDER_FULFILLMENT="UNABLE_TO_ESTIMATE_ORDER_FULFILLMENT",t.CREATE_ORDER_HUGE_AMOUNT="HUGE_AMOUNT",t.EXTERNAL_CALL_ERROR="EXTERNAL_CALL_ERROR",t.NEED_UPDATE_WALLET="NEED_UPDATE_WALLET",t.NO_SUBMISSION_INFO="NO_SUBMISSION_INFO",t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.GET_CREATE_ORDER_TX_ERROR="GET_CREATE_ORDER_TX_ERROR",t.ERROR_NETWORK_CONFIG="ERROR_NETWORK_CONFIG",t.ORDER_IS_NOT_PROFITABLE="ORDER_IS_NOT_PROFITABLE",t.WRONG_ACCOUNT="WRONG_ACCOUNT",t.WRONG_NETWORK="WRONG_NETWORK",t.SOLANA_TX_NOT_FINALIZED="SOLANA_TX_NOT_FINALIZED",t.UNEXPECTED_GIVE_STATUS="UNEXPECTED_GIVE_STATUS",t.TRANSACTION_FAILED="TRANSACTION_FAILED",t.EXCALLDATA_EXECUTED="EXCALLDATA_EXECUTED",t.EXCALLDATA_CANT_EXECUTE_NOW="EXCALLDATA_CANT_EXECUTE_NOW",t.ERROR_GET_PRICE="ERROR_GET_PRICE",t.TRANSFER_AMOUNT_EXCEEDS_BALANCE="TRANSFER_AMOUNT_EXCEEDS_BALANCE",t.TRANSFER_AMOUNT_EXCEEDS_ALLOWANCE="TRANSFER_AMOUNT_EXCEEDS_ALLOWANCE",t.WALLET_RPC_NODE_ERROR="WALLET_RPC_NODE_ERROR"}(et||(et={}));class st extends Error{constructor(t,e){super(t),this.type=t,this.params=e}toString(){return this.type}get error(){return this}get message(){return this.toString()}}class at extends ot{constructor(t){super(tt.ExternalEvmWallet),this.setProvider(t)}async connect(t){try{console.log("ExternalEvmWalletService::connect connect to wallet from widget"),await this.getAccount()}catch(t){throw new st(et.CONNECT_ERROR)}}async disconnect(){console.log("ExternalEvmWalletService::disconnect disconnect wallet from widget")}}var ct=function(t){function e(e,r,n,i,o,s){var a=t.call(this,e)||this;return a.onFinalize=o,a.shouldUnsubscribe=s,a._next=r?function(t){try{r(t)}catch(t){e.error(t)}}:t.prototype._next,a._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,a._complete=n?function(){try{n()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,a}return(0,x.__extends)(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},e}(W),ut=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t},lt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function ht(t){return new X((function(e){(function(t,e){var r,n,i,o;return(0,x.__awaiter)(this,void 0,void 0,(function(){var s,a;return(0,x.__generator)(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=(0,x.__asyncValues)(t),c.label=1;case 1:return[4,r.next()];case 2:if((n=c.sent()).done)return[3,4];if(s=n.value,e.next(s),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}))}function dt(t){return e=function(e,r){(function(t){if(t instanceof X)return t;if(null!=t){if(function(t){return A(t[Y])}(t))return i=t,new X((function(t){var e=i[Y]();if(A(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(ut(t))return function(t){return new X((function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()}))}(t);if(A(null==(n=t)?void 0:n.then))return r=t,new X((function(t){r.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,B)}));if(function(t){return Symbol.asyncIterator&&A(null==t?void 0:t[Symbol.asyncIterator])}(t))return ht(t);if(function(t){return A(null==t?void 0:t[lt])}(t))return e=t,new X((function(t){var r,n;try{for(var i=(0,x.__values)(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(t.next(s),t.closed)return}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()}));if(function(t){return A(null==t?void 0:t.getReader)}(t))return ht(function(t){return(0,x.__asyncGenerator)(this,arguments,(function(){var e,r,n;return(0,x.__generator)(this,(function(i){switch(i.label){case 0:e=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,x.__await)(e.read())];case 3:return r=i.sent(),n=r.value,r.done?[4,(0,x.__await)(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,(0,x.__await)(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}(t))}var e,r,n,i;throw function(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(t)})(t).subscribe(new ct(r,(function(){return r.complete()}),D,void 0,void 0)),!r.closed&&e.subscribe(r)},function(t){if(function(t){return A(null==t?void 0:t.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")};var e}var ft=__webpack_require__(5811),pt=__webpack_require__(2003),gt=__webpack_require__.n(pt);class yt extends ot{constructor(){super(tt.Coinbase),this.coinbaseWallet=new ft.ZP({appName:"deBridge Finance"})}async connect(t){console.log("CoinbaseWalletService::connect connect to wallet from widget");let e=null;try{const t=await this.detectEthereumProvider(500,2);e=this.findProvider(t)}catch(t){}if(!e?.isCoinbaseWallet)try{e=this.coinbaseWallet?.walletExtension;const t=this.coinbaseWallet.makeWeb3Provider(this.netWorkService.getChain(v.Ethereum).networkParams.defaultRpcUrl);await t.enable(),e||(e=t)}catch(t){throw new st(et.CONNECT_ERROR,{walletId:this.walletId})}try{if(!e)throw new st(et.CONNECT_ERROR,{walletId:this.walletId});this.setProvider(e),await e.enable()}catch(t){throw new st(et.CONNECT_ERROR,{walletId:this.walletId})}}async disconnect(){this.provider?.disconnect&&await this.provider.disconnect(),this.setProvider(null)}async detectEthereumProvider(t,e){if(e<=0)return null;do{const e=await gt()({timeout:t});if(e)return e}while(--e);return null}findProvider(t){const e=t?.providers||[t];return e.length>1?e.find((t=>t.isCoinbaseWallet)):t}}class mt extends ot{constructor(){super(tt.Metamask)}async disconnect(){this.provider?.disconnect&&await this.provider.disconnect(),this.setProvider(null)}async connect(t){console.log("MetamaskWalletService::connect connect to wallet from widget");let e=await this.detectEthereumProvider(500,2);if(e||(e=window?.web3?.currentProvider),!e)throw new st(et.CONNECT_ERROR,{walletId:this.walletId});const r=this.findProvider(e);if(!r)throw new st(et.CONNECT_ERROR,{walletId:this.walletId});return this.setProvider(r),new Promise((async(e,r)=>{try{const n=setTimeout((()=>{e()}),5e3),i=await this.getAccount();if(clearTimeout(n),!i)try{!t&&await this.requestAccounts()}catch(t){4001===t.code?r(new st(et.USER_REJECTED)):-32002===t.code&&r(new st(et.WALLET_ALREAY_PROCESSING))}console.log("MetamaskWalletService::connect resolve"),e()}catch(t){-32002===t.code?r(new st(et.WALLET_ALREAY_PROCESSING)):r(t)}}))}async detectEthereumProvider(t,e){if(e<=0)return null;do{const e=await gt()({timeout:t});if(e)return e}while(--e);return null}findProvider(t){const e=t?.providers||[t];return e.length>1?e.find((t=>t?.isMetaMask)):t}}var bt=__webpack_require__(7187),wt=__webpack_require__.n(bt),vt=__webpack_require__(5501),_t=__webpack_require__(512),Et=__webpack_require__(1416),St=__webpack_require__(3294),kt=__webpack_require__(7664);function xt(t){return null!=globalThis.Buffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function At(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?xt(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function It(t,e){e||(e=t.reduce(((t,e)=>t+e.length),0));const r=At(e);let n=0;for(const e of t)r.set(e,n),n+=e.length;return xt(r)}const Tt=function(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;var e=0;if(" "!==t[e]){for(var n=0,i=0;t[e]===c;)n++,e++;for(var o=(t.length-e)*u+1>>>0,s=new Uint8Array(o);t[e];){var l=r[t.charCodeAt(e)];if(255===l)return;for(var h=0,d=o-1;(0!==l||h<i)&&-1!==d;d--,h++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=h,e++}if(" "!==t[e]){for(var f=o-i;f!==o&&0===s[f];)f++;for(var p=new Uint8Array(n+(o-f)),g=n;f!==o;)p[g++]=s[f++];return p}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,o=e.length;i!==o&&0===e[i];)i++,r++;for(var s=(o-i)*l+1>>>0,u=new Uint8Array(s);i!==o;){for(var h=e[i],d=0,f=s-1;(0!==h||d<n)&&-1!==f;f--,d++)h+=256*u[f]>>>0,u[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=s-n;p!==s&&0===u[p];)p++;for(var g=c.repeat(r);p<s;++p)g+=t.charAt(u[p]);return g},decodeUnsafe:h,decode:function(t){var r=h(t);if(r)return r;throw new Error(`Non-${e} character`)}}},Ct=(new Uint8Array(0),t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")});class Ot{constructor(t,e,r){this.name=t,this.prefix=e,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Pt{constructor(t,e,r){if(this.name=t,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=r}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return Mt(this,t)}}class Rt{constructor(t){this.decoders=t}or(t){return Mt(this,t)}decode(t){const e=t[0],r=this.decoders[e];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Mt=(t,e)=>new Rt({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Nt{constructor(t,e,r,n){this.name=t,this.prefix=e,this.baseEncode=r,this.baseDecode=n,this.encoder=new Ot(t,e,r),this.decoder=new Pt(t,e,n)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Lt=({name:t,prefix:e,encode:r,decode:n})=>new Nt(t,e,r,n),Bt=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=Tt(r,e);return Lt({prefix:t,name:e,encode:n,decode:t=>Ct(i(t))})},Dt=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Lt({prefix:e,name:t,encode:t=>((t,e,r)=>{const n="="===e[e.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let n=0;n<t.length;++n)for(a=a<<8|t[n],s+=8;s>r;)s-=r,o+=e[i&a>>s];if(s&&(o+=e[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(t,n,r),decode:e=>((t,e,r,n)=>{const i={};for(let t=0;t<e.length;++t)i[e[t]]=t;let o=t.length;for(;"="===t[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let e=0;e<o;++e){const o=i[t[e]];if(void 0===o)throw new SyntaxError(`Non-${n} character`);c=c<<r|o,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(e,n,r,t)}),jt=Lt({prefix:"\0",name:"identity",encode:t=>(t=>(new TextDecoder).decode(t))(t),decode:t=>(t=>(new TextEncoder).encode(t))(t)}),Ut=Dt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),zt=Dt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Ft=Bt({prefix:"9",name:"base10",alphabet:"0123456789"}),Wt=Dt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),$t=Dt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),qt=Dt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ht=Dt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Vt=Dt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Kt=Dt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Gt=Dt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Zt=Dt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Yt=Dt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Jt=Dt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Xt=Dt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Qt=Bt({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),te=Bt({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),ee=Bt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),re=Bt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ne=Dt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ie=Dt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),oe=Dt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),se=Dt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),ae=Array.from("ðŸš€ðŸªâ˜„ðŸ›°ðŸŒŒðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒðŸŒðŸŒŽðŸ‰â˜€ðŸ’»ðŸ–¥ðŸ’¾ðŸ’¿ðŸ˜‚â¤ðŸ˜ðŸ¤£ðŸ˜ŠðŸ™ðŸ’•ðŸ˜­ðŸ˜˜ðŸ‘ðŸ˜…ðŸ‘ðŸ˜ðŸ”¥ðŸ¥°ðŸ’”ðŸ’–ðŸ’™ðŸ˜¢ðŸ¤”ðŸ˜†ðŸ™„ðŸ’ªðŸ˜‰â˜ºðŸ‘ŒðŸ¤—ðŸ’œðŸ˜”ðŸ˜ŽðŸ˜‡ðŸŒ¹ðŸ¤¦ðŸŽ‰ðŸ’žâœŒâœ¨ðŸ¤·ðŸ˜±ðŸ˜ŒðŸŒ¸ðŸ™ŒðŸ˜‹ðŸ’—ðŸ’šðŸ˜ðŸ’›ðŸ™‚ðŸ’“ðŸ¤©ðŸ˜„ðŸ˜€ðŸ–¤ðŸ˜ƒðŸ’¯ðŸ™ˆðŸ‘‡ðŸŽ¶ðŸ˜’ðŸ¤­â£ðŸ˜œðŸ’‹ðŸ‘€ðŸ˜ªðŸ˜‘ðŸ’¥ðŸ™‹ðŸ˜žðŸ˜©ðŸ˜¡ðŸ¤ªðŸ‘ŠðŸ¥³ðŸ˜¥ðŸ¤¤ðŸ‘‰ðŸ’ƒðŸ˜³âœ‹ðŸ˜šðŸ˜ðŸ˜´ðŸŒŸðŸ˜¬ðŸ™ƒðŸ€ðŸŒ·ðŸ˜»ðŸ˜“â­âœ…ðŸ¥ºðŸŒˆðŸ˜ˆðŸ¤˜ðŸ’¦âœ”ðŸ˜£ðŸƒðŸ’â˜¹ðŸŽŠðŸ’˜ðŸ˜ â˜ðŸ˜•ðŸŒºðŸŽ‚ðŸŒ»ðŸ˜ðŸ–•ðŸ’ðŸ™ŠðŸ˜¹ðŸ—£ðŸ’«ðŸ’€ðŸ‘‘ðŸŽµðŸ¤žðŸ˜›ðŸ”´ðŸ˜¤ðŸŒ¼ðŸ˜«âš½ðŸ¤™â˜•ðŸ†ðŸ¤«ðŸ‘ˆðŸ˜®ðŸ™†ðŸ»ðŸƒðŸ¶ðŸ’ðŸ˜²ðŸŒ¿ðŸ§¡ðŸŽâš¡ðŸŒžðŸŽˆâŒâœŠðŸ‘‹ðŸ˜°ðŸ¤¨ðŸ˜¶ðŸ¤ðŸš¶ðŸ’°ðŸ“ðŸ’¢ðŸ¤ŸðŸ™ðŸš¨ðŸ’¨ðŸ¤¬âœˆðŸŽ€ðŸºðŸ¤“ðŸ˜™ðŸ’ŸðŸŒ±ðŸ˜–ðŸ‘¶ðŸ¥´â–¶âž¡â“ðŸ’ŽðŸ’¸â¬‡ðŸ˜¨ðŸŒšðŸ¦‹ðŸ˜·ðŸ•ºâš ðŸ™…ðŸ˜ŸðŸ˜µðŸ‘ŽðŸ¤²ðŸ¤ ðŸ¤§ðŸ“ŒðŸ”µðŸ’…ðŸ§ðŸ¾ðŸ’ðŸ˜—ðŸ¤‘ðŸŒŠðŸ¤¯ðŸ·â˜ŽðŸ’§ðŸ˜¯ðŸ’†ðŸ‘†ðŸŽ¤ðŸ™‡ðŸ‘â„ðŸŒ´ðŸ’£ðŸ¸ðŸ’ŒðŸ“ðŸ¥€ðŸ¤¢ðŸ‘…ðŸ’¡ðŸ’©ðŸ‘ðŸ“¸ðŸ‘»ðŸ¤ðŸ¤®ðŸŽ¼ðŸ¥µðŸš©ðŸŽðŸŠðŸ‘¼ðŸ’ðŸ“£ðŸ¥‚"),ce=ae.reduce(((t,e,r)=>(t[r]=e,t)),[]),ue=ae.reduce(((t,e,r)=>(t[e.codePointAt(0)]=r,t)),[]),le=Lt({prefix:"ðŸš€",name:"base256emoji",encode:function(t){return t.reduce(((t,e)=>t+ce[e]),"")},decode:function(t){const e=[];for(const r of t){const t=ue[r.codePointAt(0)];if(void 0===t)throw new Error(`Non-base256emoji character: ${r}`);e.push(t)}return new Uint8Array(e)}});var he=128,de=-128,fe=Math.pow(2,31),pe=128,ge=127,ye=Math.pow(2,7),me=Math.pow(2,14),be=Math.pow(2,21),we=Math.pow(2,28),ve=Math.pow(2,35),_e=Math.pow(2,42),Ee=Math.pow(2,49),Se=Math.pow(2,56),ke=Math.pow(2,63),xe={encode:function t(e,r,n){r=r||[];for(var i=n=n||0;e>=fe;)r[n++]=255&e|he,e/=128;for(;e&de;)r[n++]=255&e|he,e>>>=7;return r[n]=0|e,t.bytes=n-i+1,r},decode:function t(e,r){var n,i=0,o=(r=r||0,0),s=r,a=e.length;do{if(s>=a)throw t.bytes=0,new RangeError("Could not decode varint");n=e[s++],i+=o<28?(n&ge)<<o:(n&ge)*Math.pow(2,o),o+=7}while(n>=pe);return t.bytes=s-r,i},encodingLength:function(t){return t<ye?1:t<me?2:t<be?3:t<we?4:t<ve?5:t<_e?6:t<Ee?7:t<Se?8:t<ke?9:10}};const Ae=xe,Ie=(t,e,r=0)=>(Ae.encode(t,e,r),e),Te=t=>Ae.encodingLength(t),Ce=(t,e)=>{const r=e.byteLength,n=Te(t),i=n+Te(r),o=new Uint8Array(i+r);return Ie(t,o,0),Ie(r,o,n),o.set(e,i),new Oe(t,r,e,o)};class Oe{constructor(t,e,r,n){this.code=t,this.size=e,this.digest=r,this.bytes=n}}const Pe=({name:t,code:e,encode:r})=>new Re(t,e,r);class Re{constructor(t,e,r){this.name=t,this.code=e,this.encode=r}digest(t){if(t instanceof Uint8Array){const e=this.encode(t);return e instanceof Uint8Array?Ce(this.code,e):e.then((t=>Ce(this.code,t)))}throw Error("Unknown type, must be binary type")}}const Me=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Ne=Pe({name:"sha2-256",code:18,encode:Me("SHA-256")}),Le=Pe({name:"sha2-512",code:19,encode:Me("SHA-512")}),Be=Ct,De={code:0,name:"identity",encode:Be,digest:t=>Ce(0,Be(t))},je="raw",Ue=85,ze=t=>Ct(t),Fe=t=>Ct(t),We=new TextEncoder,$e=new TextDecoder,qe="json",He=512,Ve=t=>We.encode(JSON.stringify(t)),Ke=t=>JSON.parse($e.decode(t));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const Ge={...t,...e,...r,...n,...i,...o,...s,...a,...c,...u};function Ze(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Ye=Ze("utf8","u",(t=>"u"+new TextDecoder("utf8").decode(t)),(t=>(new TextEncoder).encode(t.substring(1)))),Je=Ze("ascii","a",(t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}),(t=>{const e=At((t=t.substring(1)).length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e})),Xe={utf8:Ye,"utf-8":Ye,hex:Ge.base16,latin1:Je,ascii:Je,binary:Je,...Ge};function Qe(t,e="utf8"){const r=Xe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${t}`):xt(globalThis.Buffer.from(t,"utf-8"))}function tr(t,e="utf8"){const r=Xe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(t).substring(1):globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8")}var er=__webpack_require__(6736),rr=(__webpack_require__(2116),__webpack_require__(304),__webpack_require__(7563));__webpack_require__(1882);const nr={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const ir={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function or(t,e){return!!Array.isArray(t)&&(!(typeof e<"u"&&t.length)||t.every(e))}const sr=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,ar=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,cr=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function ur(t,e){if(!("__proto__"===t||"constructor"===t&&e&&"object"==typeof e&&"prototype"in e))return e;!function(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}(t)}function lr(t,e={}){if("string"!=typeof t)return t;const r=t.trim();if('"'===t[0]&&'"'===t.at(-1)&&!t.includes("\\"))return r.slice(1,-1);if(r.length<=9){const t=r.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;if("undefined"===t)return;if("null"===t)return null;if("nan"===t)return Number.NaN;if("infinity"===t)return Number.POSITIVE_INFINITY;if("-infinity"===t)return Number.NEGATIVE_INFINITY}if(!cr.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(sr.test(t)||ar.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,ur)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function hr(t,...e){try{return(r=t(...e))&&"function"==typeof r.then?r:Promise.resolve(r)}catch(t){return Promise.reject(t)}var r}function dr(t){if(function(t){const e=typeof t;return null===t||"object"!==e&&"function"!==e}(t))return String(t);if(function(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}(t)||Array.isArray(t))return JSON.stringify(t);if("function"==typeof t.toJSON)return dr(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function fr(){if(void 0===typeof Buffer)throw new TypeError("[unstorage] Buffer is not supported!")}const pr="base64:";function gr(t){return t?t.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function yr(...t){return gr(t.join(":"))}function mr(t){return(t=gr(t))?t+":":""}const br=()=>{const t=new Map;return{name:"memory",options:{},hasItem:e=>t.has(e),getItem:e=>t.get(e)??null,getItemRaw:e=>t.get(e)??null,setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys:()=>Array.from(t.keys()),clear(){t.clear()},dispose(){t.clear()}}};function wr(t,e,r){return t.watch?t.watch(((t,n)=>e(t,r+n))):()=>{}}async function vr(t){"function"==typeof t.dispose&&await hr(t.dispose)}function _r(t){return new Promise(((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)}))}function Er(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=_r(r);return(t,r)=>n.then((n=>r(n.transaction(e,t).objectStore(e))))}let Sr;function kr(){return Sr||(Sr=Er("keyval-store","keyval")),Sr}function xr(t,e=kr()){return e("readonly",(e=>_r(e.get(t))))}const Ar=t=>JSON.stringify(t,((t,e)=>"bigint"==typeof e?e.toString()+"n":e)),Ir=t=>{const e=t.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(e,((t,e)=>"string"==typeof e&&e.match(/^\d+n$/)?BigInt(e.substring(0,e.length-1)):e))};function Tr(t){if("string"!=typeof t)throw new Error("Cannot safe json parse value of type "+typeof t);try{return Ir(t)}catch(e){return t}}function Cr(t){return"string"==typeof t?t:Ar(t)||""}var Or=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=t=>e+t;let n;return t.dbName&&t.storeName&&(n=Er(t.dbName,t.storeName)),{name:"idb-keyval",options:t,hasItem:async t=>!(typeof await xr(r(t),n)>"u"),getItem:async t=>await xr(r(t),n)??null,setItem:(t,e)=>function(t,e,r=kr()){return r("readwrite",(r=>(r.put(e,t),_r(r.transaction))))}(r(t),e,n),removeItem:t=>function(t,e=kr()){return e("readwrite",(e=>(e.delete(t),_r(e.transaction))))}(r(t),n),getKeys:()=>function(t=kr()){return t("readonly",(t=>{if(t.getAllKeys)return _r(t.getAllKeys());const e=[];return function(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},_r(t.transaction)}(t,(t=>e.push(t.key))).then((()=>e))}))}(n),clear:()=>function(t=kr()){return t("readwrite",(t=>(t.clear(),_r(t.transaction))))}(n)}};class Pr{constructor(){this.indexedDb=function(t={}){const e={mounts:{"":t.driver||br()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=t=>{for(const r of e.mountpoints)if(t.startsWith(r))return{base:r,relativeKey:t.slice(r.length),driver:e.mounts[r]};return{base:"",relativeKey:t,driver:e.mounts[""]}},n=(t,r)=>e.mountpoints.filter((e=>e.startsWith(t)||r&&t.startsWith(e))).map((r=>({relativeBase:t.length>r.length?t.slice(r.length):void 0,mountpoint:r,driver:e.mounts[r]}))),i=(t,r)=>{if(e.watching){r=gr(r);for(const n of e.watchListeners)n(t,r)}},o=async()=>{if(e.watching){for(const t in e.unwatch)await e.unwatch[t]();e.unwatch={},e.watching=!1}},s=(t,e,n)=>{const i=new Map,o=t=>{let e=i.get(t.base);return e||(e={driver:t.driver,base:t.base,items:[]},i.set(t.base,e)),e};for(const n of t){const t="string"==typeof n,i=gr(t?n:n.key),s=t?void 0:n.value,a=t||!n.options?e:{...e,...n.options},c=r(i);o(c).items.push({key:i,value:s,relativeKey:c.relativeKey,options:a})}return Promise.all([...i.values()].map((t=>n(t)))).then((t=>t.flat()))},a={hasItem(t,e={}){t=gr(t);const{relativeKey:n,driver:i}=r(t);return hr(i.hasItem,n,e)},getItem(t,e={}){t=gr(t);const{relativeKey:n,driver:i}=r(t);return hr(i.getItem,n,e).then((t=>lr(t)))},getItems:(t,e)=>s(t,e,(t=>t.driver.getItems?hr(t.driver.getItems,t.items.map((t=>({key:t.relativeKey,options:t.options}))),e).then((e=>e.map((e=>({key:yr(t.base,e.key),value:lr(e.value)}))))):Promise.all(t.items.map((e=>hr(t.driver.getItem,e.relativeKey,e.options).then((t=>({key:e.key,value:lr(t)})))))))),getItemRaw(t,e={}){t=gr(t);const{relativeKey:n,driver:i}=r(t);return i.getItemRaw?hr(i.getItemRaw,n,e):hr(i.getItem,n,e).then((t=>function(t){return"string"!=typeof t?t:t.startsWith(pr)?(fr(),Buffer.from(t.slice(7),"base64")):t}(t)))},async setItem(t,e,n={}){if(void 0===e)return a.removeItem(t);t=gr(t);const{relativeKey:o,driver:s}=r(t);s.setItem&&(await hr(s.setItem,o,dr(e),n),s.watch||i("update",t))},async setItems(t,e){await s(t,e,(async t=>{t.driver.setItems&&await hr(t.driver.setItems,t.items.map((t=>({key:t.relativeKey,value:dr(t.value),options:t.options}))),e),t.driver.setItem&&await Promise.all(t.items.map((e=>hr(t.driver.setItem,e.relativeKey,dr(e.value),e.options))))}))},async setItemRaw(t,e,n={}){if(void 0===e)return a.removeItem(t,n);t=gr(t);const{relativeKey:o,driver:s}=r(t);if(s.setItemRaw)await hr(s.setItemRaw,o,e,n);else{if(!s.setItem)return;await hr(s.setItem,o,function(t){if("string"==typeof t)return t;fr();const e=Buffer.from(t).toString("base64");return pr+e}(e),n)}s.watch||i("update",t)},async removeItem(t,e={}){"boolean"==typeof e&&(e={removeMeta:e}),t=gr(t);const{relativeKey:n,driver:o}=r(t);o.removeItem&&(await hr(o.removeItem,n,e),(e.removeMeta||e.removeMata)&&await hr(o.removeItem,n+"$",e),o.watch||i("remove",t))},async getMeta(t,e={}){"boolean"==typeof e&&(e={nativeOnly:e}),t=gr(t);const{relativeKey:n,driver:i}=r(t),o=Object.create(null);if(i.getMeta&&Object.assign(o,await hr(i.getMeta,n,e)),!e.nativeOnly){const t=await hr(i.getItem,n+"$",e).then((t=>lr(t)));t&&"object"==typeof t&&("string"==typeof t.atime&&(t.atime=new Date(t.atime)),"string"==typeof t.mtime&&(t.mtime=new Date(t.mtime)),Object.assign(o,t))}return o},setMeta(t,e,r={}){return this.setItem(t+"$",e,r)},removeMeta(t,e={}){return this.removeItem(t+"$",e)},async getKeys(t,e={}){t=mr(t);const r=n(t,!0);let i=[];const o=[];for(const t of r){const r=(await hr(t.driver.getKeys,t.relativeBase,e)).map((e=>t.mountpoint+gr(e))).filter((t=>!i.some((e=>t.startsWith(e)))));o.push(...r),i=[t.mountpoint,...i.filter((e=>!e.startsWith(t.mountpoint)))]}return t?o.filter((e=>e.startsWith(t)&&!e.endsWith("$"))):o.filter((t=>!t.endsWith("$")))},async clear(t,e={}){t=mr(t),await Promise.all(n(t,!1).map((async t=>{if(t.driver.clear)return hr(t.driver.clear,t.relativeBase,e);if(t.driver.removeItem){const r=await t.driver.getKeys(t.relativeBase||"",e);return Promise.all(r.map((r=>t.driver.removeItem(r,e))))}})))},async dispose(){await Promise.all(Object.values(e.mounts).map((t=>vr(t))))},watch:async t=>(await(async()=>{if(!e.watching){e.watching=!0;for(const t in e.mounts)e.unwatch[t]=await wr(e.mounts[t],i,t)}})(),e.watchListeners.push(t),async()=>{e.watchListeners=e.watchListeners.filter((e=>e!==t)),0===e.watchListeners.length&&await o()}),async unwatch(){e.watchListeners=[],await o()},mount(t,r){if((t=mr(t))&&e.mounts[t])throw new Error(`already mounted at ${t}`);return t&&(e.mountpoints.push(t),e.mountpoints.sort(((t,e)=>e.length-t.length))),e.mounts[t]=r,e.watching&&Promise.resolve(wr(r,i,t)).then((r=>{e.unwatch[t]=r})).catch(console.error),a},async unmount(t,r=!0){(t=mr(t))&&e.mounts[t]&&(e.watching&&t in e.unwatch&&(e.unwatch[t](),delete e.unwatch[t]),r&&await vr(e.mounts[t]),e.mountpoints=e.mountpoints.filter((e=>e!==t)),delete e.mounts[t])},getMount(t=""){t=gr(t)+":";const e=r(t);return{driver:e.driver,base:e.base}},getMounts:(t="",e={})=>(t=gr(t),n(t,e.parents).map((t=>({driver:t.driver,base:t.mountpoint}))))};return a}({driver:Or({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map((t=>[t.key,t.value]))}async getItem(t){const e=await this.indexedDb.getItem(t);if(null!==e)return e}async setItem(t,e){await this.indexedDb.setItem(t,Cr(e))}async removeItem(t){await this.indexedDb.removeItem(t)}}var Rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof __webpack_require__.g<"u"?__webpack_require__.g:typeof self<"u"?self:{},Mr={exports:{}};function Nr(t){var e;return[t[0],Tr(null!=(e=t[1])?e:"")]}!function(){let t;function e(){}t=e,t.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},t.prototype.setItem=function(t,e){this[t]=String(e)},t.prototype.removeItem=function(t){delete this[t]},t.prototype.clear=function(){const t=this;Object.keys(t).forEach((function(e){t[e]=void 0,delete t[e]}))},t.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},t.prototype.__defineGetter__("length",(function(){return Object.keys(this).length})),typeof Rr<"u"&&Rr.localStorage?Mr.exports=Rr.localStorage:typeof window<"u"&&window.localStorage?Mr.exports=window.localStorage:Mr.exports=new e}();class Lr{constructor(){this.localStorage=Mr.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Nr)}async getItem(t){const e=this.localStorage.getItem(t);if(null!==e)return Tr(e)}async setItem(t,e){this.localStorage.setItem(t,Cr(e))}async removeItem(t){this.localStorage.removeItem(t)}}class Br{constructor(){this.initialized=!1,this.setInitialized=t=>{this.storage=t,this.initialized=!0};const t=new Lr;this.storage=t;try{(async(t,e,r)=>{const n="wc_storage_version",i=await e.getItem(n);if(i&&i>=1)return void r(e);const o=await t.getKeys();if(!o.length)return void r(e);const s=[];for(;o.length;){const r=o.shift();if(!r)continue;const n=r.toLowerCase();if(n.includes("wc@")||n.includes("walletconnect")||n.includes("wc_")||n.includes("wallet_connect")){const n=await t.getItem(r);await e.setItem(r,n),s.push(r)}}await e.setItem(n,1),r(e),(async(t,e)=>{e.length&&e.forEach((async e=>{await t.removeItem(e)}))})(t,s)})(t,new Pr,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,e){return await this.initialize(),this.storage.setItem(t,e)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise((t=>{const e=setInterval((()=>{this.initialized&&(clearInterval(e),t())}),20)}))}}var Dr=__webpack_require__(772),jr=__webpack_require__(9107),Ur=__webpack_require__(8200);class zr extends Ur.q{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}}class Fr extends Ur.q{constructor(t,e){super(),this.core=t,this.logger=e,this.records=new Map}}class Wr{constructor(t,e){this.logger=t,this.core=e}}class $r extends Ur.q{constructor(t,e){super(),this.relayer=t,this.logger=e}}class qr extends Ur.q{constructor(t){super()}}class Hr{constructor(t,e,r,n){this.core=t,this.logger=e,this.name=r}}class Vr extends Ur.q{constructor(t,e){super(),this.relayer=t,this.logger=e}}class Kr extends Ur.q{constructor(t,e){super(),this.core=t,this.logger=e}}class Gr{constructor(t,e){this.projectId=t,this.logger=e}}wt();class Zr{constructor(t){this.opts=t,this.protocol="wc",this.version=2}}bt.EventEmitter;class Yr{constructor(t){this.client=t}}var Jr=__webpack_require__(1050);const Xr="base64url",Qr="utf8",tn=":",en="did",rn="key",nn="base58btc",on="z",sn="K36";function an(t){return tr(Qe(Cr(t),Qr),Xr)}function cn(t){const e=Qe(sn,nn),r=on+tr(It([e,t]),nn);return[en,rn,r].join(tn)}function un(t=(0,Et.randomBytes)(32)){return Jr._w(t)}__webpack_require__(3014);var ln=function(t,e,r){if(r||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))},hn=function(t,e,r){this.name=t,this.version=e,this.os=r,this.type="browser"},dn=function(t){this.version=t,this.type="node",this.name="node",this.os=process.platform},fn=function(t,e,r,n){this.name=t,this.version=e,this.os=r,this.bot=n,this.type="bot-device"},pn=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},gn=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},yn=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,mn=3,bn=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],wn=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function vn(t){var e=function(t){return""!==t&&bn.reduce((function(e,r){var n=r[0],i=r[1];if(e)return e;var o=i.exec(t);return!!o&&[n,o]}),!1)}(t);if(!e)return null;var r=e[0],n=e[1];if("searchbot"===r)return new pn;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<mn&&(i=ln(ln([],i,!0),function(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}(mn-i.length),!0)):i=[];var o=i.join("."),s=function(t){for(var e=0,r=wn.length;e<r;e++){var n=wn[e],i=n[0];if(n[1].exec(t))return i}return null}(t),a=yn.exec(t);return a&&a[1]?new fn(r,o,s,a[1]):new hn(r,o,s)}var _n=__webpack_require__(3382),En=__webpack_require__(9982);const Sn=":";function kn(t,e){return t.includes(":")?[t]:e.chains||[]}const xn="base10",An="base16",In="base64pad",Tn="utf8";function Cn(){return tr((0,Et.randomBytes)(32),An)}function On(t){return tr((0,St.vp)(Qe(t,Tn)),An)}function Pn(t){return Number(tr(t,xn))}function Rn(t){const e=Qe(t,In),r=e.slice(0,1);if(1===Pn(r)){const t=33,n=t+12,i=e.slice(1,t),o=e.slice(t,n);return{type:r,sealed:e.slice(n),iv:o,senderPublicKey:i}}const n=e.slice(1,13);return{type:r,sealed:e.slice(13),iv:n}}function Mn(t){const e=t?.type||0;if(1===e){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function Nn(t){return 1===t.type&&"string"==typeof t.senderPublicKey&&"string"==typeof t.receiverPublicKey}var Ln=Object.defineProperty,Bn=Object.getOwnPropertySymbols,Dn=Object.prototype.hasOwnProperty,jn=Object.prototype.propertyIsEnumerable,Un=(t,e,r)=>e in t?Ln(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,zn=(t,e)=>{for(var r in e||(e={}))Dn.call(e,r)&&Un(t,r,e[r]);if(Bn)for(var r of Bn(e))jn.call(e,r)&&Un(t,r,e[r]);return t};const Fn="ReactNative",Wn={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},$n="js";function qn(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Hn(){return!(0,_n.getDocument)()&&!!(0,_n.getNavigator)()&&navigator.product===Fn}function Vn(){return!qn()&&!!(0,_n.getNavigator)()}function Kn(){return Hn()?Wn.reactNative:qn()?Wn.node:Vn()?Wn.browser:Wn.unknown}function Gn(t,e,r){const n=function(){if(Kn()===Wn.reactNative&&typeof __webpack_require__.g<"u"&&typeof(null==__webpack_require__.g?void 0:__webpack_require__.g.Platform)<"u"){const{OS:t,Version:e}=__webpack_require__.g.Platform;return[t,e].join("-")}const t=e?vn(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new gn:"undefined"!=typeof navigator?vn(navigator.userAgent):"undefined"!=typeof process&&process.version?new dn(process.version.slice(1)):null;var e;if(null===t)return"unknown";const r=t.os?t.os.replace(" ","").toLowerCase():"unknown";return"browser"===t.type?[r,t.name,t.version].join("-"):[r,t.version].join("-")}(),i=function(){var t;const e=Kn();return e===Wn.browser?[e,(null==(t=(0,_n.getLocation)())?void 0:t.host)||"unknown"].join(":"):e}();return[[t,e].join("-"),[$n,r].join("-"),n,i].join("/")}function Zn(t,e){return t.filter((t=>e.includes(t))).length===t.length}function Yn(t){return Object.fromEntries(t.entries())}function Jn(t){return new Map(Object.entries(t))}function Xn(t=er.FIVE_MINUTES,e){const r=(0,er.toMiliseconds)(t||er.FIVE_MINUTES);let n,i,o;return{resolve:t=>{o&&n&&(clearTimeout(o),n(t))},reject:t=>{o&&i&&(clearTimeout(o),i(t))},done:()=>new Promise(((t,s)=>{o=setTimeout((()=>{s(new Error(e))}),r),n=t,i=s}))}}function Qn(t,e,r){return new Promise((async(n,i)=>{const o=setTimeout((()=>i(new Error(r))),e);try{n(await t)}catch(t){i(t)}clearTimeout(o)}))}function ti(t,e){if("string"==typeof e&&e.startsWith(`${t}:`))return e;if("topic"===t.toLowerCase()){if("string"!=typeof e)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}if("id"===t.toLowerCase()){if("number"!=typeof e)throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function ei(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if("topic"===e&&"string"==typeof r)n.topic=r;else{if("id"!==e||!Number.isInteger(Number(r)))throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);n.id=Number(r)}return n}function ri(t,e){return(0,er.fromMiliseconds)((e||Date.now())+(0,er.toMiliseconds)(t))}function ni(t){return Date.now()>=(0,er.toMiliseconds)(t)}function ii(t,e){return`${t}${e?`:${e}`:""}`}function oi(t=[],e=[]){return[...new Set([...t,...e])]}function si(t){return t?.relay||{protocol:"irn"}}function ai(t){const e=nr[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var ci=Object.defineProperty,ui=Object.getOwnPropertySymbols,li=Object.prototype.hasOwnProperty,hi=Object.prototype.propertyIsEnumerable,di=(t,e,r)=>e in t?ci(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;function fi(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach((e=>{if(e.startsWith(n)){const i=e.replace(n,""),o=t[e];r[i]=o}})),r}function pi(t){return t.startsWith("//")?t.substring(2):t}function gi(t){const e=[];return t.forEach((t=>{const[r,n]=t.split(":");e.push(`${r}:${n}`)})),e}function yi(t){return t.includes(":")}function mi(t){return yi(t)?t.split(":")[0]:t}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const bi={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},wi={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function vi(t,e){const{message:r,code:n}=wi[t];return{message:e?`${r} ${e}`:r,code:n}}function _i(t,e){const{message:r,code:n}=bi[t];return{message:e?`${r} ${e}`:r,code:n}}function Ei(t,e){return!!Array.isArray(t)&&(!(typeof e<"u"&&t.length)||t.every(e))}function Si(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function ki(t){return typeof t>"u"}function xi(t,e){return!(!e||!ki(t))||"string"==typeof t&&!!t.trim().length}function Ai(t,e){return!(!e||!ki(t))||"number"==typeof t&&!isNaN(t)}function Ii(t){return!(!xi(t,!1)||!t.includes(":"))&&2===t.split(":").length}function Ti(t){let e=!0;return Ei(t)?t.length&&(e=t.every((t=>xi(t,!1)))):e=!1,e}function Ci(t,e){let r=null;return Object.values(t).forEach((t=>{if(r)return;const n=function(t,e){let r=null;return Ti(t?.methods)?Ti(t?.events)||(r=_i("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=_i("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}(t,`${e}, namespace`);n&&(r=n)})),r}function Oi(t,e){let r=null;if(t&&Si(t)){const n=Ci(t,e);n&&(r=n);const i=function(t,e){let r=null;return Object.values(t).forEach((t=>{if(r)return;const n=function(t,e){let r=null;return Ei(t)?t.forEach((t=>{r||function(t){if(xi(t,!1)&&t.includes(":")){const e=t.split(":");if(3===e.length){const t=e[0]+":"+e[1];return!!e[2]&&Ii(t)}}return!1}(t)||(r=_i("UNSUPPORTED_ACCOUNTS",`${e}, account ${t} should be a string and conform to "namespace:chainId:address" format`))})):r=_i("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}(t?.accounts,`${e} namespace`);n&&(r=n)})),r}(t,e);i&&(r=i)}else r=vi("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function Pi(t){return xi(t.protocol,!0)}function Ri(t){return typeof t<"u"&&null!==typeof t}function Mi(t,e){return!(!Ii(e)||!function(t){const e=[];return Object.values(t).forEach((t=>{e.push(...gi(t.accounts))})),e}(t).includes(e))}function Ni(t,e,r){let n=null;const i=function(t){const e={};return Object.keys(t).forEach((r=>{var n;r.includes(":")?e[r]=t[r]:null==(n=t[r].chains)||n.forEach((n=>{e[n]={methods:t[r].methods,events:t[r].events}}))})),e}(t),o=function(t){const e={};return Object.keys(t).forEach((r=>{if(r.includes(":"))e[r]=t[r];else{const n=gi(t[r].accounts);n?.forEach((n=>{e[n]={accounts:t[r].accounts.filter((t=>t.includes(`${n}:`))),methods:t[r].methods,events:t[r].events}}))}})),e}(e),s=Object.keys(i),a=Object.keys(o),c=Li(Object.keys(t)),u=Li(Object.keys(e)),l=c.filter((t=>!u.includes(t)));return l.length&&(n=vi("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${l.toString()}\n      Received: ${Object.keys(e).toString()}`)),Zn(s,a)||(n=vi("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.\n      Required: ${s.toString()}\n      Approved: ${a.toString()}`)),Object.keys(e).forEach((t=>{if(!t.includes(":")||n)return;const i=gi(e[t].accounts);i.includes(t)||(n=vi("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${t}\n        Required: ${t}\n        Approved: ${i.toString()}`))})),s.forEach((t=>{n||(Zn(i[t].methods,o[t].methods)?Zn(i[t].events,o[t].events)||(n=vi("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${t}`)):n=vi("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${t}`))})),n}function Li(t){return[...new Set(t.map((t=>t.includes(":")?t.split(":")[0]:t)))]}function Bi(){const t=Kn();return new Promise((e=>{switch(t){case Wn.browser:e(Vn()&&navigator?.onLine);break;case Wn.reactNative:e(async function(){if(Hn()&&typeof __webpack_require__.g<"u"&&null!=__webpack_require__.g&&__webpack_require__.g.NetInfo){const t=await(null==__webpack_require__.g?void 0:__webpack_require__.g.NetInfo.fetch());return t?.isConnected}return!0}());break;case Wn.node:default:e(!0)}}))}const Di={};class ji{static get(t){return Di[t]}static set(t,e){Di[t]=e}static delete(t){delete Di[t]}}const Ui="INTERNAL_ERROR",zi="SERVER_ERROR",Fi=[-32700,-32600,-32601,-32602,-32603],Wi={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[Ui]:{code:-32603,message:"Internal error"},[zi]:{code:-32e3,message:"Server error"}},$i=zi;function qi(t){return Object.keys(Wi).includes(t)?Wi[t]:Wi[$i]}function Hi(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var Vi=__webpack_require__(1468);function Ki(t=3){return Date.now()*Math.pow(10,t)+Math.floor(Math.random()*Math.pow(10,t))}function Gi(t=6){return BigInt(Ki(t))}function Zi(t,e,r){return{id:r||Ki(),jsonrpc:"2.0",method:t,params:e}}function Yi(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Ji(t,e,r){return{id:t,jsonrpc:"2.0",error:Xi(e,r)}}function Xi(t,e){return void 0===t?qi(Ui):("string"==typeof t&&(t=Object.assign(Object.assign({},qi(zi)),{message:t})),void 0!==e&&(t.data=e),r=t.code,Fi.includes(r)&&(t=function(t){return Object.values(Wi).find((e=>e.code===t))||Wi[$i]}(t.code)),t);var r}class Qi{}class to extends Qi{constructor(){super()}}class eo extends to{constructor(t){super()}}function ro(t,e){const r=function(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(e&&e.length)return e[0]}(t);return void 0!==r&&new RegExp(e).test(r)}function no(t){return ro(t,"^https?:")}function io(t){return ro(t,"^wss?:")}function oo(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function so(t){return"object"==typeof t&&"id"in t&&"jsonrpc"in t&&"2.0"===t.jsonrpc}function ao(t){return so(t)&&"method"in t}function co(t){return so(t)&&(uo(t)||lo(t))}function uo(t){return"result"in t}function lo(t){return"error"in t}class ho extends eo{constructor(t){super(t),this.events=new bt.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async request(t,e){return this.requestStrict(Zi(t.method,t.params||[],t.id||Gi().toString()),e)}async requestStrict(t,e){return new Promise((async(r,n)=>{if(!this.connection.connected)try{await this.open()}catch(t){n(t)}this.events.on(`${t.id}`,(t=>{lo(t)?n(t.error):r(t.result)}));try{await this.connection.send(t,e)}catch(t){n(t)}}))}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),co(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&3e3===t.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof t&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",(t=>this.onPayload(t))),this.connection.on("close",(t=>this.onClose(t))),this.connection.on("error",(t=>this.events.emit("error",t))),this.connection.on("register_error",(t=>this.onClose())),this.hasRegisteredEventListeners=!0)}}const fo=t=>t.split("?")[0],po="undefined"!=typeof WebSocket?WebSocket:void 0!==__webpack_require__.g&&void 0!==__webpack_require__.g.WebSocket?__webpack_require__.g.WebSocket:"undefined"!=typeof window&&void 0!==window.WebSocket?window.WebSocket:"undefined"!=typeof self&&void 0!==self.WebSocket?self.WebSocket:__webpack_require__(9910),go=class{constructor(t){if(this.url=t,this.events=new bt.EventEmitter,this.registering=!1,!io(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return void 0!==this.socket}get connecting(){return this.registering}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async open(t=this.url){await this.register(t)}async close(){return new Promise(((t,e)=>{void 0!==this.socket?(this.socket.onclose=e=>{this.onClose(e),t()},this.socket.close()):e(new Error("Connection already closed"))}))}async send(t,e){void 0===this.socket&&(this.socket=await this.register());try{this.socket.send(Cr(t))}catch(e){this.onError(t.id,e)}}register(t=this.url){if(!io(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise(((t,e)=>{this.events.once("register_error",(t=>{this.resetMaxListeners(),e(t)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),void 0===this.socket)return e(new Error("WebSocket connection is missing or invalid"));t(this.socket)}))}))}return this.url=t,this.registering=!0,new Promise(((e,r)=>{const n=(0,Vi.isReactNative)()?void 0:{rejectUnauthorized:!oo(t)},i=new po(t,[],n);"undefined"!=typeof WebSocket||void 0!==__webpack_require__.g&&void 0!==__webpack_require__.g.WebSocket||"undefined"!=typeof window&&void 0!==window.WebSocket||"undefined"!=typeof self&&void 0!==self.WebSocket?i.onerror=t=>{const e=t;r(this.emitError(e.error))}:i.on("error",(t=>{r(this.emitError(t))})),i.onopen=()=>{this.onOpen(i),e(i)}}))}onOpen(t){t.onmessage=t=>this.onPayload(t),t.onclose=t=>this.onClose(t),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(void 0===t.data)return;const e="string"==typeof t.data?Tr(t.data):t.data;this.events.emit("payload",e)}onError(t,e){const r=this.parseError(e),n=Ji(t,r.message||r.toString());this.events.emit("payload",n)}parseError(t,e=this.url){return Hi(t,fo(e),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(t){const e=this.parseError(new Error((null==t?void 0:t.message)||`WebSocket connection failed for host: ${fo(this.url)}`));return this.events.emit("register_error",e),e}};var yo=__webpack_require__(2307),mo=__webpack_require__.n(yo),bo=function(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;var e=0;if(" "!==t[e]){for(var n=0,i=0;t[e]===c;)n++,e++;for(var o=(t.length-e)*u+1>>>0,s=new Uint8Array(o);t[e];){var l=r[t.charCodeAt(e)];if(255===l)return;for(var h=0,d=o-1;(0!==l||h<i)&&-1!==d;d--,h++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=h,e++}if(" "!==t[e]){for(var f=o-i;f!==o&&0===s[f];)f++;for(var p=new Uint8Array(n+(o-f)),g=n;f!==o;)p[g++]=s[f++];return p}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,o=e.length;i!==o&&0===e[i];)i++,r++;for(var s=(o-i)*l+1>>>0,u=new Uint8Array(s);i!==o;){for(var h=e[i],d=0,f=s-1;(0!==h||d<n)&&-1!==f;f--,d++)h+=256*u[f]>>>0,u[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=s-n;p!==s&&0===u[p];)p++;for(var g=c.repeat(r);p<s;++p)g+=t.charAt(u[p]);return g},decodeUnsafe:h,decode:function(t){var r=h(t);if(r)return r;throw new Error(`Non-${e} character`)}}};const wo=t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};class vo{constructor(t,e,r){this.name=t,this.prefix=e,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class _o{constructor(t,e,r){if(this.name=t,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=r}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return So(this,t)}}class Eo{constructor(t){this.decoders=t}or(t){return So(this,t)}decode(t){const e=t[0],r=this.decoders[e];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const So=(t,e)=>new Eo({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class ko{constructor(t,e,r,n){this.name=t,this.prefix=e,this.baseEncode=r,this.baseDecode=n,this.encoder=new vo(t,e,r),this.decoder=new _o(t,e,n)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const xo=({name:t,prefix:e,encode:r,decode:n})=>new ko(t,e,r,n),Ao=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=bo(r,e);return xo({prefix:t,name:e,encode:n,decode:t=>wo(i(t))})},Io=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>xo({prefix:e,name:t,encode:t=>((t,e,r)=>{const n="="===e[e.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let n=0;n<t.length;++n)for(a=a<<8|t[n],s+=8;s>r;)s-=r,o+=e[i&a>>s];if(s&&(o+=e[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(t,n,r),decode:e=>((t,e,r,n)=>{const i={};for(let t=0;t<e.length;++t)i[e[t]]=t;let o=t.length;for(;"="===t[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let e=0;e<o;++e){const o=i[t[e]];if(void 0===o)throw new SyntaxError(`Non-${n} character`);c=c<<r|o,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(e,n,r,t)}),To=xo({prefix:"\0",name:"identity",encode:t=>(t=>(new TextDecoder).decode(t))(t),decode:t=>(t=>(new TextEncoder).encode(t))(t)});var Co=Object.freeze({__proto__:null,identity:To});const Oo=Io({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Po=Object.freeze({__proto__:null,base2:Oo});const Ro=Io({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Mo=Object.freeze({__proto__:null,base8:Ro});const No=Ao({prefix:"9",name:"base10",alphabet:"0123456789"});var Lo=Object.freeze({__proto__:null,base10:No});const Bo=Io({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Do=Io({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var jo=Object.freeze({__proto__:null,base16:Bo,base16upper:Do});const Uo=Io({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),zo=Io({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Fo=Io({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Wo=Io({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),$o=Io({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),qo=Io({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ho=Io({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Vo=Io({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ko=Io({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Go=Object.freeze({__proto__:null,base32:Uo,base32upper:zo,base32pad:Fo,base32padupper:Wo,base32hex:$o,base32hexupper:qo,base32hexpad:Ho,base32hexpadupper:Vo,base32z:Ko});const Zo=Ao({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Yo=Ao({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Jo=Object.freeze({__proto__:null,base36:Zo,base36upper:Yo});const Xo=Ao({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Qo=Ao({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ts=Object.freeze({__proto__:null,base58btc:Xo,base58flickr:Qo});const es=Io({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),rs=Io({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ns=Io({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),is=Io({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var os=Object.freeze({__proto__:null,base64:es,base64pad:rs,base64url:ns,base64urlpad:is});const ss=Array.from("ðŸš€ðŸªâ˜„ðŸ›°ðŸŒŒðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒðŸŒðŸŒŽðŸ‰â˜€ðŸ’»ðŸ–¥ðŸ’¾ðŸ’¿ðŸ˜‚â¤ðŸ˜ðŸ¤£ðŸ˜ŠðŸ™ðŸ’•ðŸ˜­ðŸ˜˜ðŸ‘ðŸ˜…ðŸ‘ðŸ˜ðŸ”¥ðŸ¥°ðŸ’”ðŸ’–ðŸ’™ðŸ˜¢ðŸ¤”ðŸ˜†ðŸ™„ðŸ’ªðŸ˜‰â˜ºðŸ‘ŒðŸ¤—ðŸ’œðŸ˜”ðŸ˜ŽðŸ˜‡ðŸŒ¹ðŸ¤¦ðŸŽ‰ðŸ’žâœŒâœ¨ðŸ¤·ðŸ˜±ðŸ˜ŒðŸŒ¸ðŸ™ŒðŸ˜‹ðŸ’—ðŸ’šðŸ˜ðŸ’›ðŸ™‚ðŸ’“ðŸ¤©ðŸ˜„ðŸ˜€ðŸ–¤ðŸ˜ƒðŸ’¯ðŸ™ˆðŸ‘‡ðŸŽ¶ðŸ˜’ðŸ¤­â£ðŸ˜œðŸ’‹ðŸ‘€ðŸ˜ªðŸ˜‘ðŸ’¥ðŸ™‹ðŸ˜žðŸ˜©ðŸ˜¡ðŸ¤ªðŸ‘ŠðŸ¥³ðŸ˜¥ðŸ¤¤ðŸ‘‰ðŸ’ƒðŸ˜³âœ‹ðŸ˜šðŸ˜ðŸ˜´ðŸŒŸðŸ˜¬ðŸ™ƒðŸ€ðŸŒ·ðŸ˜»ðŸ˜“â­âœ…ðŸ¥ºðŸŒˆðŸ˜ˆðŸ¤˜ðŸ’¦âœ”ðŸ˜£ðŸƒðŸ’â˜¹ðŸŽŠðŸ’˜ðŸ˜ â˜ðŸ˜•ðŸŒºðŸŽ‚ðŸŒ»ðŸ˜ðŸ–•ðŸ’ðŸ™ŠðŸ˜¹ðŸ—£ðŸ’«ðŸ’€ðŸ‘‘ðŸŽµðŸ¤žðŸ˜›ðŸ”´ðŸ˜¤ðŸŒ¼ðŸ˜«âš½ðŸ¤™â˜•ðŸ†ðŸ¤«ðŸ‘ˆðŸ˜®ðŸ™†ðŸ»ðŸƒðŸ¶ðŸ’ðŸ˜²ðŸŒ¿ðŸ§¡ðŸŽâš¡ðŸŒžðŸŽˆâŒâœŠðŸ‘‹ðŸ˜°ðŸ¤¨ðŸ˜¶ðŸ¤ðŸš¶ðŸ’°ðŸ“ðŸ’¢ðŸ¤ŸðŸ™ðŸš¨ðŸ’¨ðŸ¤¬âœˆðŸŽ€ðŸºðŸ¤“ðŸ˜™ðŸ’ŸðŸŒ±ðŸ˜–ðŸ‘¶ðŸ¥´â–¶âž¡â“ðŸ’ŽðŸ’¸â¬‡ðŸ˜¨ðŸŒšðŸ¦‹ðŸ˜·ðŸ•ºâš ðŸ™…ðŸ˜ŸðŸ˜µðŸ‘ŽðŸ¤²ðŸ¤ ðŸ¤§ðŸ“ŒðŸ”µðŸ’…ðŸ§ðŸ¾ðŸ’ðŸ˜—ðŸ¤‘ðŸŒŠðŸ¤¯ðŸ·â˜ŽðŸ’§ðŸ˜¯ðŸ’†ðŸ‘†ðŸŽ¤ðŸ™‡ðŸ‘â„ðŸŒ´ðŸ’£ðŸ¸ðŸ’ŒðŸ“ðŸ¥€ðŸ¤¢ðŸ‘…ðŸ’¡ðŸ’©ðŸ‘ðŸ“¸ðŸ‘»ðŸ¤ðŸ¤®ðŸŽ¼ðŸ¥µðŸš©ðŸŽðŸŠðŸ‘¼ðŸ’ðŸ“£ðŸ¥‚"),as=ss.reduce(((t,e,r)=>(t[r]=e,t)),[]),cs=ss.reduce(((t,e,r)=>(t[e.codePointAt(0)]=r,t)),[]),us=xo({prefix:"ðŸš€",name:"base256emoji",encode:function(t){return t.reduce(((t,e)=>t+as[e]),"")},decode:function(t){const e=[];for(const r of t){const t=cs[r.codePointAt(0)];if(void 0===t)throw new Error(`Non-base256emoji character: ${r}`);e.push(t)}return new Uint8Array(e)}});var ls=Object.freeze({__proto__:null,base256emoji:us}),hs=128,ds=-128,fs=Math.pow(2,31),ps=Math.pow(2,7),gs=Math.pow(2,14),ys=Math.pow(2,21),ms=Math.pow(2,28),bs=Math.pow(2,35),ws=Math.pow(2,42),vs=Math.pow(2,49),_s=Math.pow(2,56),Es=Math.pow(2,63),Ss=function t(e,r,n){r=r||[];for(var i=n=n||0;e>=fs;)r[n++]=255&e|hs,e/=128;for(;e&ds;)r[n++]=255&e|hs,e>>>=7;return r[n]=0|e,t.bytes=n-i+1,r},ks=function(t){return t<ps?1:t<gs?2:t<ys?3:t<ms?4:t<bs?5:t<ws?6:t<vs?7:t<_s?8:t<Es?9:10};const xs=(t,e,r=0)=>(Ss(t,e,r),e),As=t=>ks(t),Is=(t,e)=>{const r=e.byteLength,n=As(t),i=n+As(r),o=new Uint8Array(i+r);return xs(t,o,0),xs(r,o,n),o.set(e,i),new Ts(t,r,e,o)};class Ts{constructor(t,e,r,n){this.code=t,this.size=e,this.digest=r,this.bytes=n}}const Cs=({name:t,code:e,encode:r})=>new Os(t,e,r);class Os{constructor(t,e,r){this.name=t,this.code=e,this.encode=r}digest(t){if(t instanceof Uint8Array){const e=this.encode(t);return e instanceof Uint8Array?Is(this.code,e):e.then((t=>Is(this.code,t)))}throw Error("Unknown type, must be binary type")}}const Ps=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Rs=Cs({name:"sha2-256",code:18,encode:Ps("SHA-256")}),Ms=Cs({name:"sha2-512",code:19,encode:Ps("SHA-512")});Object.freeze({__proto__:null,sha256:Rs,sha512:Ms});const Ns=wo,Ls={code:0,name:"identity",encode:Ns,digest:t=>Is(0,Ns(t))};Object.freeze({__proto__:null,identity:Ls}),new TextEncoder,new TextDecoder;const Bs={...Co,...Po,...Mo,...Lo,...jo,...Go,...Jo,...ts,...os,...ls};function Ds(t){return null!=globalThis.Buffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function js(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Us=js("utf8","u",(t=>"u"+new TextDecoder("utf8").decode(t)),(t=>(new TextEncoder).encode(t.substring(1)))),zs=js("ascii","a",(t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}),(t=>{const e=function(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?Ds(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}((t=t.substring(1)).length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e})),Fs={utf8:Us,"utf-8":Us,hex:Bs.base16,latin1:zs,ascii:zs,binary:zs,...Bs},Ws="core",$s=`wc@2:${Ws}:`,qs={database:":memory:"},Hs="client_ed25519_seed",Vs=er.ONE_DAY,Ks=er.SIX_HOURS,Gs="wss://relay.walletconnect.com",Zs="wss://relay.walletconnect.org",Ys="relayer_message",Js="relayer_message_ack",Xs="relayer_connect",Qs="relayer_disconnect",ta="relayer_connection_stalled",ea="relayer_publish",ra="payload",na="connect",ia="disconnect",oa="error",sa=er.ONE_SECOND,aa="subscription_created",ca="subscription_deleted",ua="subscription_resubscribed",la=1e3*er.FIVE_SECONDS,ha={wc_pairingDelete:{req:{ttl:er.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:er.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:er.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:er.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:er.ONE_DAY,prompt:!1,tag:0},res:{ttl:er.ONE_DAY,prompt:!1,tag:0}}},da="pairing_create",fa="history_created",pa="history_updated",ga="history_deleted",ya="expirer_created",ma="expirer_deleted",ba="expirer_expired",wa="verify-api",va="https://verify.walletconnect.com",_a="https://verify.walletconnect.org";class Ea{constructor(t,e){this.core=t,this.logger=e,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=$s,this.init=async()=>{if(!this.initialized){const t=await this.getKeyChain();typeof t<"u"&&(this.keychain=t),this.initialized=!0}},this.has=t=>(this.isInitialized(),this.keychain.has(t)),this.set=async(t,e)=>{this.isInitialized(),this.keychain.set(t,e),await this.persist()},this.get=t=>{this.isInitialized();const e=this.keychain.get(t);if(typeof e>"u"){const{message:e}=vi("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(e)}return e},this.del=async t=>{this.isInitialized(),this.keychain.delete(t),await this.persist()},this.core=t,this.logger=(0,jr.generateChildLogger)(e,this.name)}get context(){return(0,jr.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,Yn(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Jn(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=vi("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Sa{constructor(t,e,r){this.core=t,this.logger=e,this.name="crypto",this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=t=>(this.isInitialized(),this.keychain.has(t)),this.getClientId=async()=>(this.isInitialized(),cn(un(await this.getClientSeed()).publicKey)),this.generateKeyPair=()=>{this.isInitialized();const t=function(){const t=kt.Au();return{privateKey:tr(t.secretKey,An),publicKey:tr(t.publicKey,An)}}();return this.setPrivateKey(t.publicKey,t.privateKey)},this.signJWT=async t=>{this.isInitialized();const e=un(await this.getClientSeed()),r=Cn(),n=Vs;return await async function(t,e,r,n,i=(0,er.fromMiliseconds)(Date.now())){const o={alg:"EdDSA",typ:"JWT"},s={iss:cn(n.publicKey),sub:t,aud:e,iat:i,exp:i+r},a=Qe([an((c={header:o,payload:s}).header),an(c.payload)].join("."),"utf8");var c;return function(t){return[an(t.header),an(t.payload),(e=t.signature,tr(e,Xr))].join(".");var e}({header:o,payload:s,signature:Jr.Xx(n.secretKey,a)})}(r,t,n,e)},this.generateSharedKey=(t,e,r)=>{this.isInitialized();const n=function(t,e){const r=kt.gi(Qe(t,An),Qe(e,An),!0);return tr(new _t.t(St.mE,r).expand(32),An)}(this.getPrivateKey(t),e);return this.setSymKey(n,r)},this.setSymKey=async(t,e)=>{this.isInitialized();const r=e||function(t){return tr((0,St.vp)(Qe(t,An)),An)}(t);return await this.keychain.set(r,t),r},this.deleteKeyPair=async t=>{this.isInitialized(),await this.keychain.del(t)},this.deleteSymKey=async t=>{this.isInitialized(),await this.keychain.del(t)},this.encode=async(t,e,r)=>{this.isInitialized();const n=Mn(r),i=Cr(e);if(Nn(n)){const e=n.senderPublicKey,r=n.receiverPublicKey;t=await this.generateSharedKey(e,r)}const o=this.getSymKey(t),{type:s,senderPublicKey:a}=n;return function(t){const e=function(t){return Qe(`${t}`,xn)}(typeof t.type<"u"?t.type:0);if(1===Pn(e)&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?Qe(t.senderPublicKey,An):void 0,n=typeof t.iv<"u"?Qe(t.iv,An):(0,Et.randomBytes)(12);return function(t){if(1===Pn(t.type)){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return tr(It([t.type,t.senderPublicKey,t.iv,t.sealed]),In)}return tr(It([t.type,t.iv,t.sealed]),In)}({type:e,sealed:new vt.OK(Qe(t.symKey,An)).seal(n,Qe(t.message,Tn)),iv:n,senderPublicKey:r})}({type:s,symKey:o,message:i,senderPublicKey:a})},this.decode=async(t,e,r)=>{this.isInitialized();const n=function(t,e){const r=Rn(t);return Mn({type:Pn(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?tr(r.senderPublicKey,An):void 0,receiverPublicKey:e?.receiverPublicKey})}(e,r);if(Nn(n)){const e=n.receiverPublicKey,r=n.senderPublicKey;t=await this.generateSharedKey(e,r)}try{const r=function(t){const e=new vt.OK(Qe(t.symKey,An)),{sealed:r,iv:n}=Rn(t.encoded),i=e.open(n,r);if(null===i)throw new Error("Failed to decrypt");return tr(i,Tn)}({symKey:this.getSymKey(t),encoded:e});return Tr(r)}catch(e){this.logger.error(`Failed to decode message from topic: '${t}', clientId: '${await this.getClientId()}'`),this.logger.error(e)}},this.getPayloadType=t=>Pn(Rn(t).type),this.getPayloadSenderPublicKey=t=>{const e=Rn(t);return e.senderPublicKey?tr(e.senderPublicKey,An):void 0},this.core=t,this.logger=(0,jr.generateChildLogger)(e,this.name),this.keychain=r||new Ea(this.core,this.logger)}get context(){return(0,jr.getLoggerContext)(this.logger)}async setPrivateKey(t,e){return await this.keychain.set(t,e),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(Hs)}catch{t=Cn(),await this.keychain.set(Hs,t)}return function(t,e="utf8"){const r=Fs[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${t}`):Ds(globalThis.Buffer.from(t,"utf-8"))}(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=vi("NOT_INITIALIZED",this.name);throw new Error(t)}}}class ka extends Wr{constructor(t,e){super(t,e),this.logger=t,this.core=e,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=$s,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const t=await this.getRelayerMessages();typeof t<"u"&&(this.messages=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}finally{this.initialized=!0}}},this.set=async(t,e)=>{this.isInitialized();const r=On(e);let n=this.messages.get(t);return typeof n>"u"&&(n={}),typeof n[r]<"u"||(n[r]=e,this.messages.set(t,n),await this.persist()),r},this.get=t=>{this.isInitialized();let e=this.messages.get(t);return typeof e>"u"&&(e={}),e},this.has=(t,e)=>(this.isInitialized(),typeof this.get(t)[On(e)]<"u"),this.del=async t=>{this.isInitialized(),this.messages.delete(t),await this.persist()},this.logger=(0,jr.generateChildLogger)(t,this.name),this.core=e}get context(){return(0,jr.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,Yn(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Jn(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:t}=vi("NOT_INITIALIZED",this.name);throw new Error(t)}}}class xa extends $r{constructor(t,e){super(t,e),this.relayer=t,this.logger=e,this.events=new bt.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,er.toMiliseconds)(er.TEN_SECONDS),this.needsTransportRestart=!1,this.publish=async(t,e,r)=>{var n;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:t,message:e,opts:r}});try{const i=r?.ttl||Ks,o=si(r),s=r?.prompt||!1,a=r?.tag||0,c=r?.id||Gi().toString(),u={topic:t,message:e,opts:{ttl:i,relay:o,prompt:s,tag:a,id:c}},l=setTimeout((()=>this.queue.set(c,u)),this.publishTimeout);try{await await Qn(this.rpcPublish(t,e,i,o,s,a,c),this.publishTimeout,"Failed to publish payload, please try again."),this.removeRequestFromQueue(c),this.relayer.events.emit(ea,u)}catch(t){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,null!=(n=r?.internal)&&n.throwOnFailedPublish)throw this.removeRequestFromQueue(c),t;return}finally{clearTimeout(l)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:t,message:e,opts:r}})}catch(t){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(t),t}},this.on=(t,e)=>{this.events.on(t,e)},this.once=(t,e)=>{this.events.once(t,e)},this.off=(t,e)=>{this.events.off(t,e)},this.removeListener=(t,e)=>{this.events.removeListener(t,e)},this.relayer=t,this.logger=(0,jr.generateChildLogger)(e,this.name),this.registerEventListeners()}get context(){return(0,jr.getLoggerContext)(this.logger)}rpcPublish(t,e,r,n,i,o,s){var a,c,u,l;const h={method:ai(n.protocol).publish,params:{topic:t,message:e,ttl:r,prompt:i,tag:o},id:s};return ki(null==(a=h.params)?void 0:a.prompt)&&(null==(c=h.params)||delete c.prompt),ki(null==(u=h.params)?void 0:u.tag)&&(null==(l=h.params)||delete l.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:h}),this.relayer.request(h)}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach((async t=>{const{topic:e,message:r,opts:n}=t;await this.publish(e,r,n)}))}registerEventListeners(){this.relayer.core.heartbeat.on(Dr.HEARTBEAT_EVENTS.pulse,(()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(ta);this.checkQueue()})),this.relayer.on(Js,(t=>{this.removeRequestFromQueue(t.id.toString())}))}}class Aa{constructor(){this.map=new Map,this.set=(t,e)=>{const r=this.get(t);this.exists(t,e)||this.map.set(t,[...r,e])},this.get=t=>this.map.get(t)||[],this.exists=(t,e)=>this.get(t).includes(e),this.delete=(t,e)=>{if(typeof e>"u")return void this.map.delete(t);if(!this.map.has(t))return;const r=this.get(t);if(!this.exists(t,e))return;const n=r.filter((t=>t!==e));n.length?this.map.set(t,n):this.map.delete(t)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var Ia=Object.defineProperty,Ta=Object.defineProperties,Ca=Object.getOwnPropertyDescriptors,Oa=Object.getOwnPropertySymbols,Pa=Object.prototype.hasOwnProperty,Ra=Object.prototype.propertyIsEnumerable,Ma=(t,e,r)=>e in t?Ia(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Na=(t,e)=>{for(var r in e||(e={}))Pa.call(e,r)&&Ma(t,r,e[r]);if(Oa)for(var r of Oa(e))Ra.call(e,r)&&Ma(t,r,e[r]);return t},La=(t,e)=>Ta(t,Ca(e));class Ba extends Vr{constructor(t,e){super(t,e),this.relayer=t,this.logger=e,this.subscriptions=new Map,this.topicMap=new Aa,this.events=new bt.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=$s,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(t,e)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:e}});try{const r=si(e),n={topic:t,relay:r};this.pending.set(t,n);const i=await this.rpcSubscribe(t,r);return this.onSubscribe(i,n),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:e}}),i}catch(t){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(t),t}},this.unsubscribe=async(t,e)=>{await this.restartToComplete(),this.isInitialized(),typeof e?.id<"u"?await this.unsubscribeById(t,e.id,e):await this.unsubscribeByTopic(t,e)},this.isSubscribed=async t=>!!this.topics.includes(t)||await new Promise(((e,r)=>{const n=new er.Watch;n.start(this.pendingSubscriptionWatchLabel);const i=setInterval((()=>{!this.pending.has(t)&&this.topics.includes(t)&&(clearInterval(i),n.stop(this.pendingSubscriptionWatchLabel),e(!0)),n.elapsed(this.pendingSubscriptionWatchLabel)>=la&&(clearInterval(i),n.stop(this.pendingSubscriptionWatchLabel),r(new Error("Subscription resolution timeout")))}),this.pollingInterval)})).catch((()=>!1)),this.on=(t,e)=>{this.events.on(t,e)},this.once=(t,e)=>{this.events.once(t,e)},this.off=(t,e)=>{this.events.off(t,e)},this.removeListener=(t,e)=>{this.events.removeListener(t,e)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=(0,jr.generateChildLogger)(e,this.name),this.clientId=""}get context(){return(0,jr.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,e){let r=!1;try{r=this.getSubscription(t).topic===e}catch{}return r}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,e){const r=this.topicMap.get(t);await Promise.all(r.map((async r=>await this.unsubscribeById(t,r,e))))}async unsubscribeById(t,e,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:e,opts:r}});try{const n=si(r);await this.rpcUnsubscribe(t,e,n);const i=_i("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,e,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:e,opts:r}})}catch(t){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(t),t}}async rpcSubscribe(t,e){const r={method:ai(e.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Qn(this.relayer.request(r),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(ta)}return On(t+this.clientId)}async rpcBatchSubscribe(t){if(!t.length)return;const e={method:ai(t[0].relay.protocol).batchSubscribe,params:{topics:t.map((t=>t.topic))}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:e});try{return await await Qn(this.relayer.request(e),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(ta)}}rpcUnsubscribe(t,e,r){const n={method:ai(r.protocol).unsubscribe,params:{topic:t,id:e}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(t,e){this.setSubscription(t,La(Na({},e),{id:t})),this.pending.delete(e.topic)}onBatchSubscribe(t){t.length&&t.forEach((t=>{this.setSubscription(t.id,Na({},t)),this.pending.delete(t.topic)}))}async onUnsubscribe(t,e,r){this.events.removeAllListeners(e),this.hasSubscription(e,t)&&this.deleteSubscription(e,r),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,e){this.subscriptions.has(t)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:e}),this.addSubscription(t,e))}addSubscription(t,e){this.subscriptions.set(t,Na({},e)),this.topicMap.set(e.topic,t),this.events.emit(aa,e)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const e=this.subscriptions.get(t);if(!e){const{message:e}=vi("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(e)}return e}deleteSubscription(t,e){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:e});const r=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(r.topic,t),this.events.emit(ca,La(Na({},r),{reason:e}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit("subscription_sync")}async reset(){if(this.cached.length){const t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let e=0;e<t;e++){const t=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit(ua)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:t}=vi("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;const e=await this.rpcBatchSubscribe(t);Ei(e)&&this.onBatchSubscribe(e.map(((e,r)=>La(Na({},t[r]),{id:e}))))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;const t=[];this.pending.forEach((e=>{t.push(e)})),await this.batchSubscribe(t)}registerEventListeners(){this.relayer.core.heartbeat.on(Dr.HEARTBEAT_EVENTS.pulse,(async()=>{await this.checkPending()})),this.relayer.on(Xs,(async()=>{await this.onConnect()})),this.relayer.on(Qs,(()=>{this.onDisconnect()})),this.events.on(aa,(async t=>{const e=aa;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),await this.persist()})),this.events.on(ca,(async t=>{const e=ca;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),await this.persist()}))}isInitialized(){if(!this.initialized){const{message:t}=vi("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(){this.restartInProgress&&await new Promise((t=>{const e=setInterval((()=>{this.restartInProgress||(clearInterval(e),t())}),this.pollingInterval)}))}}var Da=Object.defineProperty,ja=Object.getOwnPropertySymbols,Ua=Object.prototype.hasOwnProperty,za=Object.prototype.propertyIsEnumerable,Fa=(t,e,r)=>e in t?Da(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;class Wa extends qr{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new bt.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.request=async t=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(t)}catch(t){throw this.logger.debug("Failed to Publish Request"),this.logger.error(t),t}},this.onPayloadHandler=t=>{this.onProviderPayload(t)},this.onConnectHandler=()=>{this.events.emit(Xs)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=t=>{this.logger.error(t),this.events.emit("relayer_error",t),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(ra,this.onPayloadHandler),this.provider.on(na,this.onConnectHandler),this.provider.on(ia,this.onDisconnectHandler),this.provider.on(oa,this.onProviderErrorHandler)},this.core=t.core,this.logger=typeof t.logger<"u"&&"string"!=typeof t.logger?(0,jr.generateChildLogger)(t.logger,this.name):(0,jr.pino)((0,jr.getDefaultLoggerOptions)({level:t.logger||"error"})),this.messages=new ka(this.logger,t.core),this.subscriber=new Ba(this,this.logger),this.publisher=new xa(this,this.logger),this.relayUrl=t?.relayUrl||Gs,this.projectId=t.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${Zs}...`),await this.restartTransport(Zs)}this.initialized=!0,setTimeout((async()=>{0===this.subscriber.topics.length&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)}),1e4)}get context(){return(0,jr.getLoggerContext)(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(t,e,r){this.isInitialized(),await this.publisher.publish(t,e,r),await this.recordMessageEvent({topic:t,message:e,publishedAt:Date.now()})}async subscribe(t,e){var r;this.isInitialized();let n=(null==(r=this.subscriber.topicMap.get(t))?void 0:r[0])||"";return n||(await Promise.all([new Promise((e=>{this.subscriber.once(aa,(r=>{r.topic===t&&e()}))})),new Promise((async r=>{n=await this.subscriber.subscribe(t,e),r()}))]),n)}async unsubscribe(t,e){this.isInitialized(),await this.subscriber.unsubscribe(t,e)}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async transportClose(){this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await Qn(this.provider.disconnect(),1e3,"provider.disconnect()").catch((()=>this.onProviderDisconnect())):this.connected&&await this.provider.disconnect()}async transportOpen(t){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise((t=>{if(!this.initialized)return t();this.subscriber.once(ua,(()=>{t()}))})),new Promise((async(t,e)=>{try{await Qn(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(t){return void e(t)}t()}))])}catch(t){this.logger.error(t);const e=t;if(!this.isConnectionStalled(e.message))throw t;this.provider.events.emit(ia)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(t){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=t||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Bi())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(t){return this.staleConnectionErrors.some((e=>t.includes(e)))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new ho(new go(function({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:o,useOnCloseEvent:s}){const a=r.split("?"),c={auth:i,ua:Gn(t,e,n),projectId:o,useOnCloseEvent:s||void 0},u=function(t,e){let r=rr.parse(t);return r=zn(zn({},r),e),rr.stringify(r)}(a[1]||"",c);return a[0]+"?"+u}({sdkVersion:"2.10.1",protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(t){const{topic:e,message:r}=t;await this.messages.set(e,r)}async shouldIgnoreMessageEvent(t){const{topic:e,message:r}=t;if(!r||0===r.length)return this.logger.debug(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isSubscribed(e))return this.logger.debug(`Ignoring message for non-subscribed topic ${e}`),!0;const n=this.messages.has(e,r);return n&&this.logger.debug(`Ignoring duplicate message: ${r}`),n}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),ao(t)){if(!t.method.endsWith("_subscription"))return;const e=t.params,{topic:r,message:n,publishedAt:i}=e.data,o={topic:r,message:n,publishedAt:i};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(((t,e)=>{for(var r in e||(e={}))Ua.call(e,r)&&Fa(t,r,e[r]);if(ja)for(var r of ja(e))za.call(e,r)&&Fa(t,r,e[r]);return t})({type:"event",event:e.id},o)),this.events.emit(e.id,o),await this.acknowledgePayload(t),await this.onMessageEvent(o)}else co(t)&&this.events.emit(Js,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(Ys,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){const e=Yi(t.id,!0);await this.provider.connection.send(e)}unregisterProviderListeners(){this.provider.off(ra,this.onPayloadHandler),this.provider.off(na,this.onConnectHandler),this.provider.off(ia,this.onDisconnectHandler),this.provider.off(oa,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(ta,(()=>{this.restartTransport().catch((t=>this.logger.error(t)))}));let t=await Bi();!function(t){switch(Kn()){case Wn.browser:!function(t){Vn()&&(window.addEventListener("online",(()=>t(!0))),window.addEventListener("offline",(()=>t(!1))))}(t);break;case Wn.reactNative:!function(t){Hn()&&typeof __webpack_require__.g<"u"&&null!=__webpack_require__.g&&__webpack_require__.g.NetInfo&&__webpack_require__.g?.NetInfo.addEventListener((e=>t(e?.isConnected)))}(t);case Wn.node:}}((async e=>{this.initialized&&t!==e&&(t=e,e?await this.restartTransport().catch((t=>this.logger.error(t))):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch((t=>this.logger.error(t)))))}))}onProviderDisconnect(){this.events.emit(Qs),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout((async()=>{await this.restartTransport().catch((t=>this.logger.error(t)))}),(0,er.toMiliseconds)(sa)))}isInitialized(){if(!this.initialized){const{message:t}=vi("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise((t=>{const e=setInterval((()=>{this.connected&&(clearInterval(e),t())}),this.connectionStatusPollingInterval)}));await this.restartTransport()}}}var $a=Object.defineProperty,qa=Object.getOwnPropertySymbols,Ha=Object.prototype.hasOwnProperty,Va=Object.prototype.propertyIsEnumerable,Ka=(t,e,r)=>e in t?$a(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ga=(t,e)=>{for(var r in e||(e={}))Ha.call(e,r)&&Ka(t,r,e[r]);if(qa)for(var r of qa(e))Va.call(e,r)&&Ka(t,r,e[r]);return t};class Za extends Hr{constructor(t,e,r,n=$s,i=void 0){super(t,e,r,n),this.core=t,this.logger=e,this.name=r,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=$s,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((t=>{this.getKey&&null!==t&&!ki(t)?this.map.set(this.getKey(t),t):function(t){var e;return null==(e=t?.proposer)?void 0:e.publicKey}(t)?this.map.set(t.id,t):function(t){return t?.topic}(t)&&this.map.set(t.topic,t)})),this.cached=[],this.initialized=!0)},this.set=async(t,e)=>{this.isInitialized(),this.map.has(t)?await this.update(t,e):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:t,value:e}),this.map.set(t,e),await this.persist())},this.get=t=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:t}),this.getData(t)),this.getAll=t=>(this.isInitialized(),t?this.values.filter((e=>Object.keys(t).every((r=>mo()(e[r],t[r]))))):this.values),this.update=async(t,e)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:t,update:e});const r=Ga(Ga({},this.getData(t)),e);this.map.set(t,r),await this.persist()},this.delete=async(t,e)=>{this.isInitialized(),this.map.has(t)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:t,reason:e}),this.map.delete(t),await this.persist())},this.logger=(0,jr.generateChildLogger)(e,this.name),this.storagePrefix=n,this.getKey=i}get context(){return(0,jr.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const e=this.map.get(t);if(!e){const{message:e}=vi("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(e),new Error(e)}return e}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:t}=vi("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=vi("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Ya{constructor(t,e){this.core=t,this.logger=e,this.name="pairing",this.version="0.3",this.events=new(wt()),this.initialized=!1,this.storagePrefix=$s,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:t})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...t])]},this.create=async()=>{this.isInitialized();const t=Cn(),e=await this.core.crypto.setSymKey(t),r=ri(er.FIVE_MINUTES),n={protocol:"irn"},i={topic:e,expiry:r,relay:n,active:!1},o=function(t){return`${t.protocol}:${t.topic}@${t.version}?`+rr.stringify(((t,e)=>{for(var r in e||(e={}))li.call(e,r)&&di(t,r,e[r]);if(ui)for(var r of ui(e))hi.call(e,r)&&di(t,r,e[r]);return t})({symKey:t.symKey},function(t,e="-"){const r={};return Object.keys(t).forEach((n=>{const i="relay"+e+n;t[n]&&(r[i]=t[n])})),r}(t.relay)))}({protocol:this.core.protocol,version:this.core.version,topic:e,symKey:t,relay:n});return await this.pairings.set(e,i),await this.core.relayer.subscribe(e),this.core.expirer.set(e,r),{topic:e,uri:o}},this.pair=async t=>{this.isInitialized(),this.isValidPair(t);const{topic:e,symKey:r,relay:n}=function(t){const e=t.indexOf(":"),r=-1!==t.indexOf("?")?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),o=typeof r<"u"?t.substring(r):"",s=rr.parse(o);return{protocol:n,topic:pi(i[0]),version:parseInt(i[1],10),symKey:s.symKey,relay:fi(s)}}(t.uri);let i;if(this.pairings.keys.includes(e)&&(i=this.pairings.get(e),i.active))throw new Error(`Pairing already exists: ${e}. Please try again with a new connection URI.`);this.core.crypto.keychain.has(e)||(await this.core.crypto.setSymKey(r,e),await this.core.relayer.subscribe(e,{relay:n}));const o=ri(er.FIVE_MINUTES),s={topic:e,relay:n,expiry:o,active:!1};return await this.pairings.set(e,s),this.core.expirer.set(e,o),t.activatePairing&&await this.activate({topic:e}),this.events.emit(da,s),s},this.activate=async({topic:t})=>{this.isInitialized();const e=ri(er.THIRTY_DAYS);await this.pairings.update(t,{active:!0,expiry:e}),this.core.expirer.set(t,e)},this.ping=async t=>{this.isInitialized(),await this.isValidPing(t);const{topic:e}=t;if(this.pairings.keys.includes(e)){const t=await this.sendRequest(e,"wc_pairingPing",{}),{done:r,resolve:n,reject:i}=Xn();this.events.once(ii("pairing_ping",t),(({error:t})=>{t?i(t):n()})),await r()}},this.updateExpiry=async({topic:t,expiry:e})=>{this.isInitialized(),await this.pairings.update(t,{expiry:e})},this.updateMetadata=async({topic:t,metadata:e})=>{this.isInitialized(),await this.pairings.update(t,{peerMetadata:e})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async t=>{this.isInitialized(),await this.isValidDisconnect(t);const{topic:e}=t;this.pairings.keys.includes(e)&&(await this.sendRequest(e,"wc_pairingDelete",_i("USER_DISCONNECTED")),await this.deletePairing(e))},this.sendRequest=async(t,e,r)=>{const n=Zi(e,r),i=await this.core.crypto.encode(t,n),o=ha[e].req;return this.core.history.set(t,n),this.core.relayer.publish(t,i,o),n.id},this.sendResult=async(t,e,r)=>{const n=Yi(t,r),i=await this.core.crypto.encode(e,n),o=await this.core.history.get(e,t),s=ha[o.request.method].res;await this.core.relayer.publish(e,i,s),await this.core.history.resolve(n)},this.sendError=async(t,e,r)=>{const n=Ji(t,r),i=await this.core.crypto.encode(e,n),o=await this.core.history.get(e,t),s=ha[o.request.method]?ha[o.request.method].res:ha.unregistered_method.res;await this.core.relayer.publish(e,i,s),await this.core.history.resolve(n)},this.deletePairing=async(t,e)=>{await this.core.relayer.unsubscribe(t),await Promise.all([this.pairings.delete(t,_i("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(t),e?Promise.resolve():this.core.expirer.del(t)])},this.cleanup=async()=>{const t=this.pairings.getAll().filter((t=>ni(t.expiry)));await Promise.all(t.map((t=>this.deletePairing(t.topic))))},this.onRelayEventRequest=t=>{const{topic:e,payload:r}=t;switch(r.method){case"wc_pairingPing":return this.onPairingPingRequest(e,r);case"wc_pairingDelete":return this.onPairingDeleteRequest(e,r);default:return this.onUnknownRpcMethodRequest(e,r)}},this.onRelayEventResponse=async t=>{const{topic:e,payload:r}=t,n=(await this.core.history.get(e,r.id)).request.method;return"wc_pairingPing"===n?this.onPairingPingResponse(e,r):this.onUnknownRpcMethodResponse(n)},this.onPairingPingRequest=async(t,e)=>{const{id:r}=e;try{this.isValidPing({topic:t}),await this.sendResult(r,t,!0),this.events.emit("pairing_ping",{id:r,topic:t})}catch(e){await this.sendError(r,t,e),this.logger.error(e)}},this.onPairingPingResponse=(t,e)=>{const{id:r}=e;setTimeout((()=>{uo(e)?this.events.emit(ii("pairing_ping",r),{}):lo(e)&&this.events.emit(ii("pairing_ping",r),{error:e.error})}),500)},this.onPairingDeleteRequest=async(t,e)=>{const{id:r}=e;try{this.isValidDisconnect({topic:t}),await this.deletePairing(t),this.events.emit("pairing_delete",{id:r,topic:t})}catch(e){await this.sendError(r,t,e),this.logger.error(e)}},this.onUnknownRpcMethodRequest=async(t,e)=>{const{id:r,method:n}=e;try{if(this.registeredMethods.includes(n))return;const e=_i("WC_METHOD_UNSUPPORTED",n);await this.sendError(r,t,e),this.logger.error(e)}catch(e){await this.sendError(r,t,e),this.logger.error(e)}},this.onUnknownRpcMethodResponse=t=>{this.registeredMethods.includes(t)||this.logger.error(_i("WC_METHOD_UNSUPPORTED",t))},this.isValidPair=t=>{if(!Ri(t)){const{message:e}=vi("MISSING_OR_INVALID",`pair() params: ${t}`);throw new Error(e)}if(!function(t){if(xi(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}(t.uri)){const{message:e}=vi("MISSING_OR_INVALID",`pair() uri: ${t.uri}`);throw new Error(e)}},this.isValidPing=async t=>{if(!Ri(t)){const{message:e}=vi("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidPairingTopic(e)},this.isValidDisconnect=async t=>{if(!Ri(t)){const{message:e}=vi("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidPairingTopic(e)},this.isValidPairingTopic=async t=>{if(!xi(t,!1)){const{message:e}=vi("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(e)}if(!this.pairings.keys.includes(t)){const{message:e}=vi("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(e)}if(ni(this.pairings.get(t).expiry)){await this.deletePairing(t);const{message:e}=vi("EXPIRED",`pairing topic: ${t}`);throw new Error(e)}},this.core=t,this.logger=(0,jr.generateChildLogger)(e,this.name),this.pairings=new Za(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,jr.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=vi("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(Ys,(async t=>{const{topic:e,message:r}=t;if(!this.pairings.keys.includes(e)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))return;const n=await this.core.crypto.decode(e,r);try{ao(n)?(this.core.history.set(e,n),this.onRelayEventRequest({topic:e,payload:n})):co(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:e,payload:n}),this.core.history.delete(e,n.id))}catch(t){this.logger.error(t)}}))}registerExpirerEvents(){this.core.expirer.on(ba,(async t=>{const{topic:e}=ei(t.target);e&&this.pairings.keys.includes(e)&&(await this.deletePairing(e,!0),this.events.emit("pairing_expire",{topic:e}))}))}}class Ja extends Fr{constructor(t,e){super(t,e),this.core=t,this.logger=e,this.records=new Map,this.events=new bt.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=$s,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((t=>this.records.set(t.id,t))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(t,e,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:t,request:e,chainId:r}),this.records.has(e.id))return;const n={id:e.id,topic:t,request:{method:e.method,params:e.params||null},chainId:r,expiry:ri(er.THIRTY_DAYS)};this.records.set(n.id,n),this.events.emit(fa,n)},this.resolve=async t=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:t}),!this.records.has(t.id))return;const e=await this.getRecord(t.id);typeof e.response>"u"&&(e.response=lo(t)?{error:t.error}:{result:t.result},this.records.set(e.id,e),this.events.emit(pa,e))},this.get=async(t,e)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:t,id:e}),await this.getRecord(e)),this.delete=(t,e)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:e}),this.values.forEach((r=>{if(r.topic===t){if(typeof e<"u"&&r.id!==e)return;this.records.delete(r.id),this.events.emit(ga,r)}}))},this.exists=async(t,e)=>(this.isInitialized(),!!this.records.has(e)&&(await this.getRecord(e)).topic===t),this.on=(t,e)=>{this.events.on(t,e)},this.once=(t,e)=>{this.events.once(t,e)},this.off=(t,e)=>{this.events.off(t,e)},this.removeListener=(t,e)=>{this.events.removeListener(t,e)},this.logger=(0,jr.generateChildLogger)(e,this.name)}get context(){return(0,jr.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach((e=>{if(typeof e.response<"u")return;const r={topic:e.topic,request:Zi(e.request.method,e.request.params,e.id),chainId:e.chainId};return t.push(r)})),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const e=this.records.get(t);if(!e){const{message:e}=vi("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(e)}return e}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit("history_sync")}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:t}=vi("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(fa,(t=>{const e=fa;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,record:t}),this.persist()})),this.events.on(pa,(t=>{const e=pa;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,record:t}),this.persist()})),this.events.on(ga,(t=>{const e=ga;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,record:t}),this.persist()})),this.core.heartbeat.on(Dr.HEARTBEAT_EVENTS.pulse,(()=>{this.cleanup()}))}cleanup(){try{this.records.forEach((t=>{(0,er.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.delete(t.topic,t.id))}))}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=vi("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Xa extends Kr{constructor(t,e){super(t,e),this.core=t,this.logger=e,this.expirations=new Map,this.events=new bt.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=$s,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((t=>this.expirations.set(t.target,t))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=t=>{try{const e=this.formatTarget(t);return typeof this.getExpiration(e)<"u"}catch{return!1}},this.set=(t,e)=>{this.isInitialized();const r=this.formatTarget(t),n={target:r,expiry:e};this.expirations.set(r,n),this.checkExpiry(r,n),this.events.emit(ya,{target:r,expiration:n})},this.get=t=>{this.isInitialized();const e=this.formatTarget(t);return this.getExpiration(e)},this.del=t=>{if(this.isInitialized(),this.has(t)){const e=this.formatTarget(t),r=this.getExpiration(e);this.expirations.delete(e),this.events.emit(ma,{target:e,expiration:r})}},this.on=(t,e)=>{this.events.on(t,e)},this.once=(t,e)=>{this.events.once(t,e)},this.off=(t,e)=>{this.events.off(t,e)},this.removeListener=(t,e)=>{this.events.removeListener(t,e)},this.logger=(0,jr.generateChildLogger)(e,this.name)}get context(){return(0,jr.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if("string"==typeof t)return function(t){return ti("topic",t)}(t);if("number"==typeof t)return function(t){return ti("id",t)}(t);const{message:e}=vi("UNKNOWN_TYPE","Target type: "+typeof t);throw new Error(e)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit("expirer_sync")}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:t}=vi("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const e=this.expirations.get(t);if(!e){const{message:e}=vi("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(e),new Error(e)}return e}checkExpiry(t,e){const{expiry:r}=e;(0,er.toMiliseconds)(r)-Date.now()<=0&&this.expire(t,e)}expire(t,e){this.expirations.delete(t),this.events.emit(ba,{target:t,expiration:e})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach(((t,e)=>this.checkExpiry(e,t)))}registerEventListeners(){this.core.heartbeat.on(Dr.HEARTBEAT_EVENTS.pulse,(()=>this.checkExpirations())),this.events.on(ya,(t=>{const e=ya;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),this.persist()})),this.events.on(ba,(t=>{const e=ba;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),this.persist()})),this.events.on(ma,(t=>{const e=ma;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),this.persist()}))}isInitialized(){if(!this.initialized){const{message:t}=vi("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Qa extends Gr{constructor(t,e){super(t,e),this.projectId=t,this.logger=e,this.name=wa,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async t=>{if(this.verifyDisabled||Hn()||!Vn())return;const e=t?.verifyUrl||va;this.verifyUrl!==e&&this.removeIframe(),this.verifyUrl=e;try{await this.createIframe()}catch(t){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(t)}if(!this.initialized){this.removeIframe(),this.verifyUrl=_a;try{await this.createIframe()}catch(t){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(t),this.verifyDisabled=!0}}},this.register=async t=>{this.initialized?this.sendPost(t.attestationId):(this.addToQueue(t.attestationId),await this.init())},this.resolve=async t=>{if(this.isDevEnv)return"";const e=t?.verifyUrl||va;let r;try{r=await this.fetchAttestation(t.attestationId,e)}catch(n){this.logger.info(`failed to resolve attestation: ${t.attestationId} from url: ${e}`),this.logger.info(n),r=await this.fetchAttestation(t.attestationId,_a)}return r},this.fetchAttestation=async(t,e)=>{this.logger.info(`resolving attestation: ${t} from url: ${e}`);const r=this.startAbortTimer(2*er.ONE_SECOND),n=await fetch(`${e}/attestation/${t}`,{signal:this.abortController.signal});return clearTimeout(r),200===n.status?await n.json():void 0},this.addToQueue=t=>{this.queue.push(t)},this.processQueue=()=>{0!==this.queue.length&&(this.queue.forEach((t=>this.sendPost(t))),this.queue=[])},this.sendPost=t=>{var e;try{if(!this.iframe)return;null==(e=this.iframe.contentWindow)||e.postMessage(t,"*"),this.logger.info(`postMessage sent: ${t} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let t;const e=r=>{"verify_ready"===r.data&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",e),t())};await Promise.race([new Promise((r=>{if(document.getElementById(wa))return r();window.addEventListener("message",e);const n=document.createElement("iframe");n.id=wa,n.src=`${this.verifyUrl}/${this.projectId}`,n.style.display="none",document.body.append(n),this.iframe=n,t=r})),new Promise(((t,r)=>setTimeout((()=>{window.removeEventListener("message",e),r("verify iframe load timeout")}),(0,er.toMiliseconds)(er.FIVE_SECONDS))))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.logger=(0,jr.generateChildLogger)(e,this.name),this.verifyUrl=va,this.abortController=new AbortController,this.isDevEnv=qn()&&process.env.IS_VITEST}get context(){return(0,jr.getLoggerContext)(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout((()=>this.abortController.abort()),(0,er.toMiliseconds)(t))}}var tc=Object.defineProperty,ec=Object.getOwnPropertySymbols,rc=Object.prototype.hasOwnProperty,nc=Object.prototype.propertyIsEnumerable,ic=(t,e,r)=>e in t?tc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,oc=(t,e)=>{for(var r in e||(e={}))rc.call(e,r)&&ic(t,r,e[r]);if(ec)for(var r of ec(e))nc.call(e,r)&&ic(t,r,e[r]);return t};class sc extends zr{constructor(t){super(t),this.protocol="wc",this.version=2,this.name=Ws,this.events=new bt.EventEmitter,this.initialized=!1,this.on=(t,e)=>this.events.on(t,e),this.once=(t,e)=>this.events.once(t,e),this.off=(t,e)=>this.events.off(t,e),this.removeListener=(t,e)=>this.events.removeListener(t,e),this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||Gs;const e=typeof t?.logger<"u"&&"string"!=typeof t?.logger?t.logger:(0,jr.pino)((0,jr.getDefaultLoggerOptions)({level:t?.logger||"error"}));this.logger=(0,jr.generateChildLogger)(e,this.name),this.heartbeat=new Dr.HeartBeat,this.crypto=new Sa(this,this.logger,t?.keychain),this.history=new Ja(this,this.logger),this.expirer=new Xa(this,this.logger),this.storage=null!=t&&t.storage?t.storage:new Br(oc(oc({},qs),t?.storageOptions)),this.relayer=new Wa({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Ya(this,this.logger),this.verify=new Qa(this.projectId||"",this.logger)}static async init(t){const e=new sc(t);await e.initialize();const r=await e.crypto.getClientId();return await e.storage.setItem("WALLETCONNECT_CLIENT_ID",r),e}get context(){return(0,jr.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}}const ac=sc,cc="client",uc=`wc@2:${cc}:`,lc=cc,hc="WALLETCONNECT_DEEPLINK_CHOICE",dc="Proposal expired",fc=er.SEVEN_DAYS,pc={wc_sessionPropose:{req:{ttl:er.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:er.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:er.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:er.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:er.ONE_DAY,prompt:!1,tag:1104},res:{ttl:er.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:er.ONE_DAY,prompt:!1,tag:1106},res:{ttl:er.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:er.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:er.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:er.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:er.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:er.ONE_DAY,prompt:!1,tag:1112},res:{ttl:er.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:er.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:er.THIRTY_SECONDS,prompt:!1,tag:1115}}},gc={min:er.FIVE_MINUTES,max:er.SEVEN_DAYS},yc="IDLE",mc="ACTIVE",bc=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var wc=Object.defineProperty,vc=Object.defineProperties,_c=Object.getOwnPropertyDescriptors,Ec=Object.getOwnPropertySymbols,Sc=Object.prototype.hasOwnProperty,kc=Object.prototype.propertyIsEnumerable,xc=(t,e,r)=>e in t?wc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ac=(t,e)=>{for(var r in e||(e={}))Sc.call(e,r)&&xc(t,r,e[r]);if(Ec)for(var r of Ec(e))kc.call(e,r)&&xc(t,r,e[r]);return t},Ic=(t,e)=>vc(t,_c(e));class Tc extends Yr{constructor(t){super(t),this.name="engine",this.events=new(wt()),this.initialized=!1,this.ignoredPayloadTypes=[1],this.requestQueue={state:yc,queue:[]},this.sessionRequestQueue={state:yc,queue:[]},this.requestQueueDelay=er.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(pc)}),this.initialized=!0,setTimeout((()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()}),(0,er.toMiliseconds)(this.requestQueueDelay)))},this.connect=async t=>{await this.isInitialized();const e=Ic(Ac({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(e);const{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:i,sessionProperties:o,relays:s}=e;let a,c=r,u=!1;if(c&&(u=this.client.core.pairing.pairings.get(c).active),!c||!u){const{topic:t,uri:e}=await this.client.core.pairing.create();c=t,a=e}const l=await this.client.core.crypto.generateKeyPair(),h=Ac({requiredNamespaces:n,optionalNamespaces:i,relays:s??[{protocol:"irn"}],proposer:{publicKey:l,metadata:this.client.metadata}},o&&{sessionProperties:o}),{reject:d,resolve:f,done:p}=Xn(er.FIVE_MINUTES,dc);if(this.events.once(ii("session_connect"),(async({error:t,session:e})=>{if(t)d(t);else if(e){e.self.publicKey=l;const t=Ic(Ac({},e),{requiredNamespaces:e.requiredNamespaces,optionalNamespaces:e.optionalNamespaces});await this.client.session.set(e.topic,t),await this.setExpiry(e.topic,e.expiry),c&&await this.client.core.pairing.updateMetadata({topic:c,metadata:e.peer.metadata}),f(t)}})),!c){const{message:t}=vi("NO_MATCHING_KEY",`connect() pairing topic: ${c}`);throw new Error(t)}const g=await this.sendRequest({topic:c,method:"wc_sessionPropose",params:h}),y=ri(er.FIVE_MINUTES);return await this.setProposal(g,Ac({id:g,expiry:y},h)),{uri:a,approval:p}},this.pair=async t=>(await this.isInitialized(),await this.client.core.pairing.pair(t)),this.approve=async t=>{await this.isInitialized(),await this.isValidApprove(t);const{id:e,relayProtocol:r,namespaces:n,sessionProperties:i}=t,o=this.client.proposal.get(e);let{pairingTopic:s,proposer:a,requiredNamespaces:c,optionalNamespaces:u}=o;s=s||"",Si(c)||(c=function(t,e){const r=Oi(t,"approve()");if(r)throw new Error(r.message);const n={};for(const[e,r]of Object.entries(t))n[e]={methods:r.methods,events:r.events,chains:r.accounts.map((t=>`${t.split(":")[0]}:${t.split(":")[1]}`))};return n}(n));const l=await this.client.core.crypto.generateKeyPair(),h=a.publicKey,d=await this.client.core.crypto.generateSharedKey(l,h);s&&e&&(await this.client.core.pairing.updateMetadata({topic:s,metadata:a.metadata}),await this.sendResult({id:e,topic:s,result:{relay:{protocol:r??"irn"},responderPublicKey:l}}),await this.client.proposal.delete(e,_i("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:s}));const f=Ac({relay:{protocol:r??"irn"},namespaces:n,requiredNamespaces:c,optionalNamespaces:u,pairingTopic:s,controller:{publicKey:l,metadata:this.client.metadata},expiry:ri(fc)},i&&{sessionProperties:i});await this.client.core.relayer.subscribe(d),await this.sendRequest({topic:d,method:"wc_sessionSettle",params:f,throwOnFailedPublish:!0});const p=Ic(Ac({},f),{topic:d,pairingTopic:s,acknowledged:!1,self:f.controller,peer:{publicKey:a.publicKey,metadata:a.metadata},controller:l});return await this.client.session.set(d,p),await this.setExpiry(d,ri(fc)),{topic:d,acknowledged:()=>new Promise((t=>setTimeout((()=>t(this.client.session.get(d))),500)))}},this.reject=async t=>{await this.isInitialized(),await this.isValidReject(t);const{id:e,reason:r}=t,{pairingTopic:n}=this.client.proposal.get(e);n&&(await this.sendError(e,n,r),await this.client.proposal.delete(e,_i("USER_DISCONNECTED")))},this.update=async t=>{await this.isInitialized(),await this.isValidUpdate(t);const{topic:e,namespaces:r}=t,n=await this.sendRequest({topic:e,method:"wc_sessionUpdate",params:{namespaces:r}}),{done:i,resolve:o,reject:s}=Xn();return this.events.once(ii("session_update",n),(({error:t})=>{t?s(t):o()})),await this.client.session.update(e,{namespaces:r}),{acknowledged:i}},this.extend=async t=>{await this.isInitialized(),await this.isValidExtend(t);const{topic:e}=t,r=await this.sendRequest({topic:e,method:"wc_sessionExtend",params:{}}),{done:n,resolve:i,reject:o}=Xn();return this.events.once(ii("session_extend",r),(({error:t})=>{t?o(t):i()})),await this.setExpiry(e,ri(fc)),{acknowledged:n}},this.request=async t=>{await this.isInitialized(),await this.isValidRequest(t);const{chainId:e,request:r,topic:n,expiry:i}=t,o=Ki(),{done:s,resolve:a,reject:c}=Xn(i);return this.events.once(ii("session_request",o),(({error:t,result:e})=>{t?c(t):a(e)})),await Promise.all([new Promise((async t=>{await this.sendRequest({clientRpcId:o,topic:n,method:"wc_sessionRequest",params:{request:r,chainId:e},expiry:i,throwOnFailedPublish:!0}).catch((t=>c(t))),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:e,id:o}),t()})),new Promise((async t=>{const e=await this.client.core.storage.getItem(hc);(async function({id:t,topic:e,wcDeepLink:r}){try{if(!r)return;const n="string"==typeof r?JSON.parse(r):r;let i=n?.href;if("string"!=typeof i)return;i.endsWith("/")&&(i=i.slice(0,-1));const o=`${i}/wc?requestId=${t}&sessionTopic=${e}`,s=Kn();s===Wn.browser?o.startsWith("https://")?window.open(o,"_blank","noreferrer noopener"):window.open(o,"_self","noreferrer noopener"):s===Wn.reactNative&&typeof(null==__webpack_require__.g?void 0:__webpack_require__.g.Linking)<"u"&&await __webpack_require__.g.Linking.openURL(o)}catch(t){console.error(t)}})({id:o,topic:n,wcDeepLink:e}),t()})),s()]).then((t=>t[2]))},this.respond=async t=>{await this.isInitialized(),await this.isValidRespond(t);const{topic:e,response:r}=t,{id:n}=r;uo(r)?await this.sendResult({id:n,topic:e,result:r.result,throwOnFailedPublish:!0}):lo(r)&&await this.sendError(n,e,r.error),this.cleanupAfterResponse(t)},this.ping=async t=>{await this.isInitialized(),await this.isValidPing(t);const{topic:e}=t;if(this.client.session.keys.includes(e)){const t=await this.sendRequest({topic:e,method:"wc_sessionPing",params:{}}),{done:r,resolve:n,reject:i}=Xn();this.events.once(ii("session_ping",t),(({error:t})=>{t?i(t):n()})),await r()}else this.client.core.pairing.pairings.keys.includes(e)&&await this.client.core.pairing.ping({topic:e})},this.emit=async t=>{await this.isInitialized(),await this.isValidEmit(t);const{topic:e,event:r,chainId:n}=t;await this.sendRequest({topic:e,method:"wc_sessionEvent",params:{event:r,chainId:n}})},this.disconnect=async t=>{await this.isInitialized(),await this.isValidDisconnect(t);const{topic:e}=t;this.client.session.keys.includes(e)?(await this.sendRequest({topic:e,method:"wc_sessionDelete",params:_i("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession(e)):await this.client.core.pairing.disconnect({topic:e})},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter((e=>function(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let o=!0;return!!Zn(i,n)&&(n.forEach((e=>{const{accounts:n,methods:i,events:s}=t.namespaces[e],a=gi(n),c=r[e];Zn(kn(e,c),a)&&Zn(c.methods,i)&&Zn(c.events,s)||(o=!1)})),o)}(e,t)))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async t=>{if(t.pairingTopic)try{const e=this.client.core.pairing.pairings.get(t.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter((r=>{var n,i;return(null==(n=r.peerMetadata)?void 0:n.url)&&(null==(i=r.peerMetadata)?void 0:i.url)===t.peer.metadata.url&&r.topic&&r.topic!==e.topic}));if(0===r.length)return;this.client.logger.info(`Cleaning up ${r.length} duplicate pairing(s)`),await Promise.all(r.map((t=>this.client.core.pairing.disconnect({topic:t.topic})))),this.client.logger.info("Duplicate pairings clean up finished")}catch(t){this.client.logger.error(t)}},this.deleteSession=async(t,e)=>{const{self:r}=this.client.session.get(t);await this.client.core.relayer.unsubscribe(t),this.client.session.delete(t,_i("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(r.publicKey)&&await this.client.core.crypto.deleteKeyPair(r.publicKey),this.client.core.crypto.keychain.has(t)&&await this.client.core.crypto.deleteSymKey(t),e||this.client.core.expirer.del(t),this.client.core.storage.removeItem(hc).catch((t=>this.client.logger.warn(t)))},this.deleteProposal=async(t,e)=>{await Promise.all([this.client.proposal.delete(t,_i("USER_DISCONNECTED")),e?Promise.resolve():this.client.core.expirer.del(t)])},this.deletePendingSessionRequest=async(t,e,r=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,e),r?Promise.resolve():this.client.core.expirer.del(t)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter((e=>e.id!==t)),r&&(this.sessionRequestQueue.state=yc)},this.setExpiry=async(t,e)=>{this.client.session.keys.includes(t)&&await this.client.session.update(t,{expiry:e}),this.client.core.expirer.set(t,e)},this.setProposal=async(t,e)=>{await this.client.proposal.set(t,e),this.client.core.expirer.set(t,e.expiry)},this.setPendingSessionRequest=async t=>{const e=pc.wc_sessionRequest.req.ttl,{id:r,topic:n,params:i,verifyContext:o}=t;await this.client.pendingRequest.set(r,{id:r,topic:n,params:i,verifyContext:o}),e&&this.client.core.expirer.set(r,ri(e))},this.sendRequest=async t=>{const{topic:e,method:r,params:n,expiry:i,relayRpcId:o,clientRpcId:s,throwOnFailedPublish:a}=t,c=Zi(r,n,s);if(Vn()&&bc.includes(r)){const t=On(JSON.stringify(c));this.client.core.verify.register({attestationId:t})}const u=await this.client.core.crypto.encode(e,c),l=pc[r].req;return i&&(l.ttl=i),o&&(l.id=o),this.client.core.history.set(e,c),a?(l.internal=Ic(Ac({},l.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(e,u,l)):this.client.core.relayer.publish(e,u,l).catch((t=>this.client.logger.error(t))),c.id},this.sendResult=async t=>{const{id:e,topic:r,result:n,throwOnFailedPublish:i}=t,o=Yi(e,n),s=await this.client.core.crypto.encode(r,o),a=await this.client.core.history.get(r,e),c=pc[a.request.method].res;i?(c.internal=Ic(Ac({},c.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,s,c)):this.client.core.relayer.publish(r,s,c).catch((t=>this.client.logger.error(t))),await this.client.core.history.resolve(o)},this.sendError=async(t,e,r)=>{const n=Ji(t,r),i=await this.client.core.crypto.encode(e,n),o=await this.client.core.history.get(e,t),s=pc[o.request.method].res;this.client.core.relayer.publish(e,i,s),await this.client.core.history.resolve(n)},this.cleanup=async()=>{const t=[],e=[];this.client.session.getAll().forEach((e=>{ni(e.expiry)&&t.push(e.topic)})),this.client.proposal.getAll().forEach((t=>{ni(t.expiry)&&e.push(t.id)})),await Promise.all([...t.map((t=>this.deleteSession(t))),...e.map((t=>this.deleteProposal(t)))])},this.onRelayEventRequest=async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state!==mc){for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=mc;const t=this.requestQueue.queue.shift();if(t)try{this.processRequest(t),await new Promise((t=>setTimeout(t,300)))}catch(t){this.client.logger.warn(t)}}this.requestQueue.state=yc}else this.client.logger.info("Request queue already active, skipping...")},this.processRequest=t=>{const{topic:e,payload:r}=t,n=r.method;switch(n){case"wc_sessionPropose":return this.onSessionProposeRequest(e,r);case"wc_sessionSettle":return this.onSessionSettleRequest(e,r);case"wc_sessionUpdate":return this.onSessionUpdateRequest(e,r);case"wc_sessionExtend":return this.onSessionExtendRequest(e,r);case"wc_sessionPing":return this.onSessionPingRequest(e,r);case"wc_sessionDelete":return this.onSessionDeleteRequest(e,r);case"wc_sessionRequest":return this.onSessionRequest(e,r);case"wc_sessionEvent":return this.onSessionEventRequest(e,r);default:return this.client.logger.info(`Unsupported request method ${n}`)}},this.onRelayEventResponse=async t=>{const{topic:e,payload:r}=t,n=(await this.client.core.history.get(e,r.id)).request.method;switch(n){case"wc_sessionPropose":return this.onSessionProposeResponse(e,r);case"wc_sessionSettle":return this.onSessionSettleResponse(e,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(e,r);case"wc_sessionExtend":return this.onSessionExtendResponse(e,r);case"wc_sessionPing":return this.onSessionPingResponse(e,r);case"wc_sessionRequest":return this.onSessionRequestResponse(e,r);default:return this.client.logger.info(`Unsupported response method ${n}`)}},this.onRelayEventUnknownPayload=t=>{const{topic:e}=t,{message:r}=vi("MISSING_OR_INVALID",`Decoded payload on topic ${e} is not identifiable as a JSON-RPC request or a response.`);throw new Error(r)},this.onSessionProposeRequest=async(t,e)=>{const{params:r,id:n}=e;try{this.isValidConnect(Ac({},e.params));const i=ri(er.FIVE_MINUTES),o=Ac({id:n,pairingTopic:t,expiry:i},r);await this.setProposal(n,o);const s=On(JSON.stringify(e)),a=await this.getVerifyContext(s,o.proposer.metadata);this.client.events.emit("session_proposal",{id:n,params:o,verifyContext:a})}catch(e){await this.sendError(n,t,e),this.client.logger.error(e)}},this.onSessionProposeResponse=async(t,e)=>{const{id:r}=e;if(uo(e)){const{result:n}=e;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:n});const i=this.client.proposal.get(r);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:i});const o=i.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});const s=n.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:s});const a=await this.client.core.crypto.generateSharedKey(o,s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:a});const c=await this.client.core.relayer.subscribe(a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:c}),await this.client.core.pairing.activate({topic:t})}else lo(e)&&(await this.client.proposal.delete(r,_i("USER_DISCONNECTED")),this.events.emit(ii("session_connect"),{error:e.error}))},this.onSessionSettleRequest=async(t,e)=>{const{id:r,params:n}=e;try{this.isValidSessionSettleRequest(n);const{relay:r,controller:i,expiry:o,namespaces:s,requiredNamespaces:a,optionalNamespaces:c,sessionProperties:u,pairingTopic:l}=e.params,h=Ac({topic:t,relay:r,expiry:o,namespaces:s,acknowledged:!0,pairingTopic:l,requiredNamespaces:a,optionalNamespaces:c,controller:i.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},u&&{sessionProperties:u});await this.sendResult({id:e.id,topic:t,result:!0}),this.events.emit(ii("session_connect"),{session:h}),this.cleanupDuplicatePairings(h)}catch(e){await this.sendError(r,t,e),this.client.logger.error(e)}},this.onSessionSettleResponse=async(t,e)=>{const{id:r}=e;uo(e)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(ii("session_approve",r),{})):lo(e)&&(await this.client.session.delete(t,_i("USER_DISCONNECTED")),this.events.emit(ii("session_approve",r),{error:e.error}))},this.onSessionUpdateRequest=async(t,e)=>{const{params:r,id:n}=e;try{const e=`${t}_session_update`,i=ji.get(e);if(i&&this.isRequestOutOfSync(i,n))return void this.client.logger.info(`Discarding out of sync request - ${n}`);this.isValidUpdate(Ac({topic:t},r)),await this.client.session.update(t,{namespaces:r.namespaces}),await this.sendResult({id:n,topic:t,result:!0}),this.client.events.emit("session_update",{id:n,topic:t,params:r}),ji.set(e,n)}catch(e){await this.sendError(n,t,e),this.client.logger.error(e)}},this.isRequestOutOfSync=(t,e)=>parseInt(e.toString().slice(0,-3))<=parseInt(t.toString().slice(0,-3)),this.onSessionUpdateResponse=(t,e)=>{const{id:r}=e;uo(e)?this.events.emit(ii("session_update",r),{}):lo(e)&&this.events.emit(ii("session_update",r),{error:e.error})},this.onSessionExtendRequest=async(t,e)=>{const{id:r}=e;try{this.isValidExtend({topic:t}),await this.setExpiry(t,ri(fc)),await this.sendResult({id:r,topic:t,result:!0}),this.client.events.emit("session_extend",{id:r,topic:t})}catch(e){await this.sendError(r,t,e),this.client.logger.error(e)}},this.onSessionExtendResponse=(t,e)=>{const{id:r}=e;uo(e)?this.events.emit(ii("session_extend",r),{}):lo(e)&&this.events.emit(ii("session_extend",r),{error:e.error})},this.onSessionPingRequest=async(t,e)=>{const{id:r}=e;try{this.isValidPing({topic:t}),await this.sendResult({id:r,topic:t,result:!0}),this.client.events.emit("session_ping",{id:r,topic:t})}catch(e){await this.sendError(r,t,e),this.client.logger.error(e)}},this.onSessionPingResponse=(t,e)=>{const{id:r}=e;setTimeout((()=>{uo(e)?this.events.emit(ii("session_ping",r),{}):lo(e)&&this.events.emit(ii("session_ping",r),{error:e.error})}),500)},this.onSessionDeleteRequest=async(t,e)=>{const{id:r}=e;try{this.isValidDisconnect({topic:t,reason:e.params}),await Promise.all([new Promise((e=>{this.client.core.relayer.once(ea,(async()=>{e(await this.deleteSession(t))}))})),this.sendResult({id:r,topic:t,result:!0})]),this.client.events.emit("session_delete",{id:r,topic:t})}catch(t){this.client.logger.error(t)}},this.onSessionRequest=async(t,e)=>{const{id:r,params:n}=e;try{this.isValidRequest(Ac({topic:t},n));const e=On(JSON.stringify(Zi("wc_sessionRequest",n,r))),i=this.client.session.get(t),o={id:r,topic:t,params:n,verifyContext:await this.getVerifyContext(e,i.peer.metadata)};await this.setPendingSessionRequest(o),this.addSessionRequestToSessionRequestQueue(o),this.processSessionRequestQueue()}catch(e){await this.sendError(r,t,e),this.client.logger.error(e)}},this.onSessionRequestResponse=(t,e)=>{const{id:r}=e;uo(e)?this.events.emit(ii("session_request",r),{result:e.result}):lo(e)&&this.events.emit(ii("session_request",r),{error:e.error})},this.onSessionEventRequest=async(t,e)=>{const{id:r,params:n}=e;try{const e=`${t}_session_event_${n.event.name}`,i=ji.get(e);if(i&&this.isRequestOutOfSync(i,r))return void this.client.logger.info(`Discarding out of sync request - ${r}`);this.isValidEmit(Ac({topic:t},n)),this.client.events.emit("session_event",{id:r,topic:t,params:n}),ji.set(e,r)}catch(e){await this.sendError(r,t,e),this.client.logger.error(e)}},this.addSessionRequestToSessionRequestQueue=t=>{this.sessionRequestQueue.queue.push(t)},this.cleanupAfterResponse=t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout((()=>{this.sessionRequestQueue.state=yc,this.processSessionRequestQueue()}),(0,er.toMiliseconds)(this.requestQueueDelay))},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===mc)return void this.client.logger.info("session request queue is already active.");const t=this.sessionRequestQueue.queue[0];if(t)try{this.sessionRequestQueue.state=mc,this.client.events.emit("session_request",t)}catch(t){this.client.logger.error(t)}else this.client.logger.info("session request queue is empty.")},this.onPairingCreated=t=>{if(t.active)return;const e=this.client.proposal.getAll().find((e=>e.pairingTopic===t.topic));e&&this.onSessionProposeRequest(t.topic,Zi("wc_sessionPropose",{requiredNamespaces:e.requiredNamespaces,optionalNamespaces:e.optionalNamespaces,relays:e.relays,proposer:e.proposer},e.id))},this.isValidConnect=async t=>{if(!Ri(t)){const{message:e}=vi("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(e)}const{pairingTopic:e,requiredNamespaces:r,optionalNamespaces:n,sessionProperties:i,relays:o}=t;if(ki(e)||await this.isValidPairingTopic(e),!function(t,e){let r=!1;return t?t&&Ei(t)&&t.length&&t.forEach((t=>{r=Pi(t)})):r=!0,r}(o)){const{message:t}=vi("MISSING_OR_INVALID",`connect() relays: ${o}`);throw new Error(t)}!ki(r)&&0!==Si(r)&&this.validateNamespaces(r,"requiredNamespaces"),!ki(n)&&0!==Si(n)&&this.validateNamespaces(n,"optionalNamespaces"),ki(i)||this.validateSessionProps(i,"sessionProperties")},this.validateNamespaces=(t,e)=>{const r=function(t,e,r){let n=null;if(t&&Si(t)){const i=Ci(t,e);i&&(n=i);const o=function(t,e,r){let n=null;return Object.entries(t).forEach((([t,i])=>{if(n)return;const o=function(t,e,r){let n=null;return Ei(e)&&e.length?e.forEach((t=>{n||Ii(t)||(n=_i("UNSUPPORTED_CHAINS",`${r}, chain ${t} should be a string and conform to "namespace:chainId" format`))})):Ii(t)||(n=_i("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}(t,kn(t,i),`${e} ${r}`);o&&(n=o)})),n}(t,e,r);o&&(n=o)}else n=vi("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}(t,"connect()",e);if(r)throw new Error(r.message)},this.isValidApprove=async t=>{if(!Ri(t))throw new Error(vi("MISSING_OR_INVALID",`approve() params: ${t}`).message);const{id:e,namespaces:r,relayProtocol:n,sessionProperties:i}=t;await this.isValidProposalId(e);const o=this.client.proposal.get(e),s=Oi(r,"approve()");if(s)throw new Error(s.message);const a=Ni(o.requiredNamespaces,r,"approve()");if(a)throw new Error(a.message);if(!xi(n,!0)){const{message:t}=vi("MISSING_OR_INVALID",`approve() relayProtocol: ${n}`);throw new Error(t)}ki(i)||this.validateSessionProps(i,"sessionProperties")},this.isValidReject=async t=>{if(!Ri(t)){const{message:e}=vi("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(e)}const{id:e,reason:r}=t;if(await this.isValidProposalId(e),!function(t){return!!(t&&"object"==typeof t&&t.code&&Ai(t.code,!1)&&t.message&&xi(t.message,!1))}(r)){const{message:t}=vi("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(r)}`);throw new Error(t)}},this.isValidSessionSettleRequest=t=>{if(!Ri(t)){const{message:e}=vi("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(e)}const{relay:e,controller:r,namespaces:n,expiry:i}=t;if(!Pi(e)){const{message:t}=vi("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(t)}const o=function(t,e){let r=null;return xi(t?.publicKey,!1)||(r=vi("MISSING_OR_INVALID","onSessionSettleRequest() controller public key should be a string")),r}(r);if(o)throw new Error(o.message);const s=Oi(n,"onSessionSettleRequest()");if(s)throw new Error(s.message);if(ni(i)){const{message:t}=vi("EXPIRED","onSessionSettleRequest()");throw new Error(t)}},this.isValidUpdate=async t=>{if(!Ri(t)){const{message:e}=vi("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(e)}const{topic:e,namespaces:r}=t;await this.isValidSessionTopic(e);const n=this.client.session.get(e),i=Oi(r,"update()");if(i)throw new Error(i.message);const o=Ni(n.requiredNamespaces,r,"update()");if(o)throw new Error(o.message)},this.isValidExtend=async t=>{if(!Ri(t)){const{message:e}=vi("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidSessionTopic(e)},this.isValidRequest=async t=>{if(!Ri(t)){const{message:e}=vi("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(e)}const{topic:e,request:r,chainId:n,expiry:i}=t;await this.isValidSessionTopic(e);const{namespaces:o}=this.client.session.get(e);if(!Mi(o,n)){const{message:t}=vi("MISSING_OR_INVALID",`request() chainId: ${n}`);throw new Error(t)}if(!function(t){return!(ki(t)||!xi(t.method,!1))}(r)){const{message:t}=vi("MISSING_OR_INVALID",`request() ${JSON.stringify(r)}`);throw new Error(t)}if(!function(t,e,r){return!!xi(r,!1)&&function(t,e){const r=[];return Object.values(t).forEach((t=>{gi(t.accounts).includes(e)&&r.push(...t.methods)})),r}(t,e).includes(r)}(o,n,r.method)){const{message:t}=vi("MISSING_OR_INVALID",`request() method: ${r.method}`);throw new Error(t)}if(i&&!function(t,e){return Ai(t,!1)&&t<=e.max&&t>=e.min}(i,gc)){const{message:t}=vi("MISSING_OR_INVALID",`request() expiry: ${i}. Expiry must be a number (in seconds) between ${gc.min} and ${gc.max}`);throw new Error(t)}},this.isValidRespond=async t=>{if(!Ri(t)){const{message:e}=vi("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(e)}const{topic:e,response:r}=t;if(await this.isValidSessionTopic(e),!function(t){return!(ki(t)||ki(t.result)&&ki(t.error)||!Ai(t.id,!1)||!xi(t.jsonrpc,!1))}(r)){const{message:t}=vi("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(r)}`);throw new Error(t)}},this.isValidPing=async t=>{if(!Ri(t)){const{message:e}=vi("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidSessionOrPairingTopic(e)},this.isValidEmit=async t=>{if(!Ri(t)){const{message:e}=vi("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(e)}const{topic:e,event:r,chainId:n}=t;await this.isValidSessionTopic(e);const{namespaces:i}=this.client.session.get(e);if(!Mi(i,n)){const{message:t}=vi("MISSING_OR_INVALID",`emit() chainId: ${n}`);throw new Error(t)}if(!function(t){return!(ki(t)||!xi(t.name,!1))}(r)){const{message:t}=vi("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw new Error(t)}if(!function(t,e,r){return!!xi(r,!1)&&function(t,e){const r=[];return Object.values(t).forEach((t=>{gi(t.accounts).includes(e)&&r.push(...t.events)})),r}(t,e).includes(r)}(i,n,r.name)){const{message:t}=vi("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw new Error(t)}},this.isValidDisconnect=async t=>{if(!Ri(t)){const{message:e}=vi("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidSessionOrPairingTopic(e)},this.getVerifyContext=async(t,e)=>{const r={verified:{verifyUrl:e.verifyUrl||va,validation:"UNKNOWN",origin:e.url||""}};try{const n=await this.client.core.verify.resolve({attestationId:t,verifyUrl:e.verifyUrl});n&&(r.verified.origin=n.origin,r.verified.isScam=n.isScam,r.verified.validation=n.origin===new URL(e.url).origin?"VALID":"INVALID")}catch(t){this.client.logger.info(t)}return this.client.logger.info(`Verify context: ${JSON.stringify(r)}`),r},this.validateSessionProps=(t,e)=>{Object.values(t).forEach((t=>{if(!xi(t,!1)){const{message:r}=vi("MISSING_OR_INVALID",`${e} must be in Record<string, string> format. Received: ${JSON.stringify(t)}`);throw new Error(r)}}))}}async isInitialized(){if(!this.initialized){const{message:t}=vi("NOT_INITIALIZED",this.name);throw new Error(t)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Ys,(async t=>{const{topic:e,message:r}=t;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(r)))return;const n=await this.client.core.crypto.decode(e,r);try{ao(n)?(this.client.core.history.set(e,n),this.onRelayEventRequest({topic:e,payload:n})):co(n)?(await this.client.core.history.resolve(n),await this.onRelayEventResponse({topic:e,payload:n}),this.client.core.history.delete(e,n.id)):this.onRelayEventUnknownPayload({topic:e,payload:n})}catch(t){this.client.logger.error(t)}}))}registerExpirerEvents(){this.client.core.expirer.on(ba,(async t=>{const{topic:e,id:r}=ei(t.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,vi("EXPIRED"),!0);e?this.client.session.keys.includes(e)&&(await this.deleteSession(e,!0),this.client.events.emit("session_expire",{topic:e})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))}))}registerPairingEvents(){this.client.core.pairing.events.on(da,(t=>this.onPairingCreated(t)))}isValidPairingTopic(t){if(!xi(t,!1)){const{message:e}=vi("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(e)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:e}=vi("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(e)}if(ni(this.client.core.pairing.pairings.get(t).expiry)){const{message:e}=vi("EXPIRED",`pairing topic: ${t}`);throw new Error(e)}}async isValidSessionTopic(t){if(!xi(t,!1)){const{message:e}=vi("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(e)}if(!this.client.session.keys.includes(t)){const{message:e}=vi("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(e)}if(ni(this.client.session.get(t).expiry)){await this.deleteSession(t);const{message:e}=vi("EXPIRED",`session topic: ${t}`);throw new Error(e)}}async isValidSessionOrPairingTopic(t){if(this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else{if(!this.client.core.pairing.pairings.keys.includes(t)){if(xi(t,!1)){const{message:e}=vi("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(e)}{const{message:e}=vi("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(e)}}this.isValidPairingTopic(t)}}async isValidProposalId(t){if("number"!=typeof t){const{message:e}=vi("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(e)}if(!this.client.proposal.keys.includes(t)){const{message:e}=vi("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(e)}if(ni(this.client.proposal.get(t).expiry)){await this.deleteProposal(t);const{message:e}=vi("EXPIRED",`proposal id: ${t}`);throw new Error(e)}}}class Cc extends Za{constructor(t,e){super(t,e,"proposal",uc),this.core=t,this.logger=e}}class Oc extends Za{constructor(t,e){super(t,e,"session",uc),this.core=t,this.logger=e}}class Pc extends Za{constructor(t,e){super(t,e,"request",uc,(t=>t.id)),this.core=t,this.logger=e}}class Rc extends Zr{constructor(t){super(t),this.protocol="wc",this.version=2,this.name=lc,this.events=new bt.EventEmitter,this.on=(t,e)=>this.events.on(t,e),this.once=(t,e)=>this.events.once(t,e),this.off=(t,e)=>this.events.off(t,e),this.removeListener=(t,e)=>this.events.removeListener(t,e),this.removeAllListeners=t=>this.events.removeAllListeners(t),this.connect=async t=>{try{return await this.engine.connect(t)}catch(t){throw this.logger.error(t.message),t}},this.pair=async t=>{try{return await this.engine.pair(t)}catch(t){throw this.logger.error(t.message),t}},this.approve=async t=>{try{return await this.engine.approve(t)}catch(t){throw this.logger.error(t.message),t}},this.reject=async t=>{try{return await this.engine.reject(t)}catch(t){throw this.logger.error(t.message),t}},this.update=async t=>{try{return await this.engine.update(t)}catch(t){throw this.logger.error(t.message),t}},this.extend=async t=>{try{return await this.engine.extend(t)}catch(t){throw this.logger.error(t.message),t}},this.request=async t=>{try{return await this.engine.request(t)}catch(t){throw this.logger.error(t.message),t}},this.respond=async t=>{try{return await this.engine.respond(t)}catch(t){throw this.logger.error(t.message),t}},this.ping=async t=>{try{return await this.engine.ping(t)}catch(t){throw this.logger.error(t.message),t}},this.emit=async t=>{try{return await this.engine.emit(t)}catch(t){throw this.logger.error(t.message),t}},this.disconnect=async t=>{try{return await this.engine.disconnect(t)}catch(t){throw this.logger.error(t.message),t}},this.find=t=>{try{return this.engine.find(t)}catch(t){throw this.logger.error(t.message),t}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(t){throw this.logger.error(t.message),t}},this.name=t?.name||lc,this.metadata=t?.metadata||(0,En.D)()||{name:"",description:"",url:"",icons:[""]};const e=typeof t?.logger<"u"&&"string"!=typeof t?.logger?t.logger:(0,jr.pino)((0,jr.getDefaultLoggerOptions)({level:t?.logger||"error"}));this.core=t?.core||new ac(t),this.logger=(0,jr.generateChildLogger)(e,this.name),this.session=new Oc(this.core,this.logger),this.proposal=new Cc(this.core,this.logger),this.pendingRequest=new Pc(this.core,this.logger),this.engine=new Tc(this)}static async init(t){const e=new Rc(t);return await e.initialize(),e}get context(){return(0,jr.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}}var Mc=__webpack_require__(4098),Nc=__webpack_require__.n(Mc);const Lc={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class Bc{constructor(t,e=!1){if(this.url=t,this.disableProviderPing=e,this.events=new bt.EventEmitter,this.isAvailable=!1,this.registering=!1,!no(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t,e){this.isAvailable||await this.register();try{const e=Cr(t),r=await Nc()(this.url,Object.assign(Object.assign({},Lc),{body:e})),n=await r.json();this.onPayload({data:n})}catch(e){this.onError(t.id,e)}}async register(t=this.url){if(!no(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise(((t,e)=>{this.events.once("register_error",(t=>{this.resetMaxListeners(),e(t)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),void 0===this.isAvailable)return e(new Error("HTTP connection is missing or invalid"));t()}))}))}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const e=Cr({id:1,jsonrpc:"2.0",method:"test",params:[]});await Nc()(t,Object.assign(Object.assign({},Lc),{body:e}))}this.onOpen()}catch(t){const e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(void 0===t.data)return;const e="string"==typeof t.data?Tr(t.data):t.data;this.events.emit("payload",e)}onError(t,e){const r=this.parseError(e),n=Ji(t,r.message||r.toString());this.events.emit("payload",n)}parseError(t,e=this.url){return Hi(t,e,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}const Dc=Bc,jc="error",Uc="wc@2:universal_provider:",zc="default_chain_changed";var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof __webpack_require__.g<"u"?__webpack_require__.g:typeof self<"u"?self:{},Wc={exports:{}};!function(t,e){(function(){var r,n="Expected a function",i="__lodash_hash_undefined__",o="__lodash_placeholder__",s=32,a=128,c=1/0,u=9007199254740991,l=NaN,h=4294967295,d=[["ary",a],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",s],["partialRight",64],["rearg",256]],f="[object Arguments]",p="[object Array]",g="[object Boolean]",y="[object Date]",m="[object Error]",b="[object Function]",w="[object GeneratorFunction]",v="[object Map]",_="[object Number]",E="[object Object]",S="[object Promise]",k="[object RegExp]",x="[object Set]",A="[object String]",I="[object Symbol]",T="[object WeakMap]",C="[object ArrayBuffer]",O="[object DataView]",P="[object Float32Array]",R="[object Float64Array]",M="[object Int8Array]",N="[object Int16Array]",L="[object Int32Array]",B="[object Uint8Array]",D="[object Uint8ClampedArray]",j="[object Uint16Array]",U="[object Uint32Array]",z=/\b__p \+= '';/g,F=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,H=RegExp($.source),V=RegExp(q.source),K=/<%-([\s\S]+?)%>/g,G=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,X=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q=/[\\^$.*+?()[\]{}|]/g,tt=RegExp(Q.source),et=/^\s+/,rt=/\s/,nt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,it=/\{\n\/\* \[wrapped with (.+)\] \*/,ot=/,? & /,st=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,at=/[()=,{}\[\]\/\s]/,ct=/\\(\\)?/g,ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,lt=/\w*$/,ht=/^[-+]0x[0-9a-f]+$/i,dt=/^0b[01]+$/i,ft=/^\[object .+?Constructor\]$/,pt=/^0o[0-7]+$/i,gt=/^(?:0|[1-9]\d*)$/,yt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mt=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,wt="\\ud800-\\udfff",vt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",_t="\\u2700-\\u27bf",Et="a-z\\xdf-\\xf6\\xf8-\\xff",St="A-Z\\xc0-\\xd6\\xd8-\\xde",kt="\\ufe0e\\ufe0f",xt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",At="["+wt+"]",It="["+xt+"]",Tt="["+vt+"]",Ct="\\d+",Ot="["+_t+"]",Pt="["+Et+"]",Rt="[^"+wt+xt+Ct+_t+Et+St+"]",Mt="\\ud83c[\\udffb-\\udfff]",Nt="[^"+wt+"]",Lt="(?:\\ud83c[\\udde6-\\uddff]){2}",Bt="[\\ud800-\\udbff][\\udc00-\\udfff]",Dt="["+St+"]",jt="\\u200d",Ut="(?:"+Pt+"|"+Rt+")",zt="(?:"+Dt+"|"+Rt+")",Ft="(?:['â€™](?:d|ll|m|re|s|t|ve))?",Wt="(?:['â€™](?:D|LL|M|RE|S|T|VE))?",$t="(?:"+Tt+"|"+Mt+")?",qt="["+kt+"]?",Ht=qt+$t+"(?:"+jt+"(?:"+[Nt,Lt,Bt].join("|")+")"+qt+$t+")*",Vt="(?:"+[Ot,Lt,Bt].join("|")+")"+Ht,Kt="(?:"+[Nt+Tt+"?",Tt,Lt,Bt,At].join("|")+")",Gt=RegExp("['â€™]","g"),Zt=RegExp(Tt,"g"),Yt=RegExp(Mt+"(?="+Mt+")|"+Kt+Ht,"g"),Jt=RegExp([Dt+"?"+Pt+"+"+Ft+"(?="+[It,Dt,"$"].join("|")+")",zt+"+"+Wt+"(?="+[It,Dt+Ut,"$"].join("|")+")",Dt+"?"+Ut+"+"+Ft,Dt+"+"+Wt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ct,Vt].join("|"),"g"),Xt=RegExp("["+jt+wt+vt+kt+"]"),Qt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,te=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ee=-1,re={};re[P]=re[R]=re[M]=re[N]=re[L]=re[B]=re[D]=re[j]=re[U]=!0,re[f]=re[p]=re[C]=re[g]=re[O]=re[y]=re[m]=re[b]=re[v]=re[_]=re[E]=re[k]=re[x]=re[A]=re[T]=!1;var ne={};ne[f]=ne[p]=ne[C]=ne[O]=ne[g]=ne[y]=ne[P]=ne[R]=ne[M]=ne[N]=ne[L]=ne[v]=ne[_]=ne[E]=ne[k]=ne[x]=ne[A]=ne[I]=ne[B]=ne[D]=ne[j]=ne[U]=!0,ne[m]=ne[b]=ne[T]=!1;var ie={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},oe=parseFloat,se=parseInt,ae="object"==typeof Fc&&Fc&&Fc.Object===Object&&Fc,ce="object"==typeof self&&self&&self.Object===Object&&self,ue=ae||ce||Function("return this")(),le=e&&!e.nodeType&&e,he=le&&t&&!t.nodeType&&t,de=he&&he.exports===le,fe=de&&ae.process,pe=function(){try{return he&&he.require&&he.require("util").types||fe&&fe.binding&&fe.binding("util")}catch{}}(),ge=pe&&pe.isArrayBuffer,ye=pe&&pe.isDate,me=pe&&pe.isMap,be=pe&&pe.isRegExp,we=pe&&pe.isSet,ve=pe&&pe.isTypedArray;function _e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Ee(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(n,s,r(s),t)}return n}function Se(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function ke(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function xe(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function Ae(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}function Ie(t,e){return!(null==t||!t.length)&&De(t,e,0)>-1}function Te(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function Ce(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function Oe(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Pe(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function Re(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function Me(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Ne=Fe("length");function Le(t,e,r){var n;return r(t,(function(t,r,i){if(e(t,r,i))return n=r,!1})),n}function Be(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function De(t,e,r){return e==e?function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):Be(t,Ue,r)}function je(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function Ue(t){return t!=t}function ze(t,e){var r=null==t?0:t.length;return r?qe(t,e)/r:l}function Fe(t){return function(e){return null==e?r:e[t]}}function We(t){return function(e){return null==t?r:t[e]}}function $e(t,e,r,n,i){return i(t,(function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)})),r}function qe(t,e){for(var n,i=-1,o=t.length;++i<o;){var s=e(t[i]);s!==r&&(n=n===r?s:n+s)}return n}function He(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function Ve(t){return t&&t.slice(0,cr(t)+1).replace(et,"")}function Ke(t){return function(e){return t(e)}}function Ge(t,e){return Ce(e,(function(e){return t[e]}))}function Ze(t,e){return t.has(e)}function Ye(t,e){for(var r=-1,n=t.length;++r<n&&De(e,t[r],0)>-1;);return r}function Je(t,e){for(var r=t.length;r--&&De(e,t[r],0)>-1;);return r}var Xe=We({Ã€:"A",Ã:"A",Ã‚:"A",Ãƒ:"A",Ã„:"A",Ã…:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã‡:"C",Ã§:"c",Ã:"D",Ã°:"d",Ãˆ:"E",Ã‰:"E",ÃŠ:"E",Ã‹:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",ÃŒ:"I",Ã:"I",ÃŽ:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã‘:"N",Ã±:"n",Ã’:"O",Ã“:"O",Ã”:"O",Ã•:"O",Ã–:"O",Ã˜:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã™:"U",Ãš:"U",Ã›:"U",Ãœ:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã†:"Ae",Ã¦:"ae",Ãž:"Th",Ã¾:"th",ÃŸ:"ss",Ä€:"A",Ä‚:"A",Ä„:"A",Ä:"a",Äƒ:"a",Ä…:"a",Ä†:"C",Äˆ:"C",ÄŠ:"C",ÄŒ:"C",Ä‡:"c",Ä‰:"c",Ä‹:"c",Ä:"c",ÄŽ:"D",Ä:"D",Ä:"d",Ä‘:"d",Ä’:"E",Ä”:"E",Ä–:"E",Ä˜:"E",Äš:"E",Ä“:"e",Ä•:"e",Ä—:"e",Ä™:"e",Ä›:"e",Äœ:"G",Äž:"G",Ä :"G",Ä¢:"G",Ä:"g",ÄŸ:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å€:"l",Å‚:"l",Åƒ:"N",Å…:"N",Å‡:"N",ÅŠ:"N",Å„:"n",Å†:"n",Åˆ:"n",Å‹:"n",ÅŒ:"O",ÅŽ:"O",Å:"O",Å:"o",Å:"o",Å‘:"o",Å”:"R",Å–:"R",Å˜:"R",Å•:"r",Å—:"r",Å™:"r",Åš:"S",Åœ:"S",Åž:"S",Å :"S",Å›:"s",Å:"s",ÅŸ:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å’:"Oe",Å“:"oe",Å‰:"'n",Å¿:"s"}),Qe=We({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tr(t){return"\\"+ie[t]}function er(t){return Xt.test(t)}function rr(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function nr(t,e){return function(r){return t(e(r))}}function ir(t,e){for(var r=-1,n=t.length,i=0,s=[];++r<n;){var a=t[r];(a===e||a===o)&&(t[r]=o,s[i++]=r)}return s}function or(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function sr(t){return er(t)?function(t){for(var e=Yt.lastIndex=0;Yt.test(t);)++e;return e}(t):Ne(t)}function ar(t){return er(t)?function(t){return t.match(Yt)||[]}(t):function(t){return t.split("")}(t)}function cr(t){for(var e=t.length;e--&&rt.test(t.charAt(e)););return e}var ur=We({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),lr=function t(e){var rt=(e=null==e?ue:lr.defaults(ue.Object(),e,lr.pick(ue,te))).Array,wt=e.Date,vt=e.Error,_t=e.Function,Et=e.Math,St=e.Object,kt=e.RegExp,xt=e.String,At=e.TypeError,It=rt.prototype,Tt=_t.prototype,Ct=St.prototype,Ot=e["__core-js_shared__"],Pt=Tt.toString,Rt=Ct.hasOwnProperty,Mt=0,Nt=function(){var t=/[^.]+$/.exec(Ot&&Ot.keys&&Ot.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Lt=Ct.toString,Bt=Pt.call(St),Dt=ue._,jt=kt("^"+Pt.call(Rt).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=de?e.Buffer:r,zt=e.Symbol,Ft=e.Uint8Array,Wt=Ut?Ut.allocUnsafe:r,$t=nr(St.getPrototypeOf,St),qt=St.create,Ht=Ct.propertyIsEnumerable,Vt=It.splice,Kt=zt?zt.isConcatSpreadable:r,Yt=zt?zt.iterator:r,Xt=zt?zt.toStringTag:r,ie=function(){try{var t=so(St,"defineProperty");return t({},"",{}),t}catch{}}(),ae=e.clearTimeout!==ue.clearTimeout&&e.clearTimeout,ce=wt&&wt.now!==ue.Date.now&&wt.now,le=e.setTimeout!==ue.setTimeout&&e.setTimeout,he=Et.ceil,fe=Et.floor,pe=St.getOwnPropertySymbols,Ne=Ut?Ut.isBuffer:r,We=e.isFinite,hr=It.join,dr=nr(St.keys,St),fr=Et.max,pr=Et.min,gr=wt.now,yr=e.parseInt,mr=Et.random,br=It.reverse,wr=so(e,"DataView"),vr=so(e,"Map"),_r=so(e,"Promise"),Er=so(e,"Set"),Sr=so(e,"WeakMap"),kr=so(St,"create"),xr=Sr&&new Sr,Ar={},Ir=Lo(wr),Tr=Lo(vr),Cr=Lo(_r),Or=Lo(Er),Pr=Lo(Sr),Rr=zt?zt.prototype:r,Mr=Rr?Rr.valueOf:r,Nr=Rr?Rr.toString:r;function Lr(t){if(Xs(t)&&!Fs(t)&&!(t instanceof Ur)){if(t instanceof jr)return t;if(Rt.call(t,"__wrapped__"))return Bo(t)}return new jr(t)}var Br=function(){function t(){}return function(e){if(!Js(e))return{};if(qt)return qt(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function Dr(){}function jr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function Ur(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function zr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Fr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Wr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function $r(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Wr;++e<r;)this.add(t[e])}function qr(t){var e=this.__data__=new Fr(t);this.size=e.size}function Hr(t,e){var r=Fs(t),n=!r&&zs(t),i=!r&&!n&&Hs(t),o=!r&&!n&&!i&&sa(t),s=r||n||i||o,a=s?He(t.length,xt):[],c=a.length;for(var u in t)(e||Rt.call(t,u))&&(!s||!("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||po(u,c)))&&a.push(u);return a}function Vr(t){var e=t.length;return e?t[$n(0,e-1)]:r}function Kr(t,e){return Oo(ki(t),rn(e,0,t.length))}function Gr(t){return Oo(ki(t))}function Zr(t,e,n){(n!==r&&!Ds(t[e],n)||n===r&&!(e in t))&&tn(t,e,n)}function Yr(t,e,n){var i=t[e];(!Rt.call(t,e)||!Ds(i,n)||n===r&&!(e in t))&&tn(t,e,n)}function Jr(t,e){for(var r=t.length;r--;)if(Ds(t[r][0],e))return r;return-1}function Xr(t,e,r,n){return cn(t,(function(t,i,o){e(n,t,r(t),o)})),n}function Qr(t,e){return t&&xi(e,Ta(e),t)}function tn(t,e,r){"__proto__"==e&&ie?ie(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function en(t,e){for(var n=-1,i=e.length,o=rt(i),s=null==t;++n<i;)o[n]=s?r:Sa(t,e[n]);return o}function rn(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function nn(t,e,n,i,o,s){var a,c=1&e,u=2&e,l=4&e;if(n&&(a=o?n(t,i,o,s):n(t)),a!==r)return a;if(!Js(t))return t;var h=Fs(t);if(h){if(a=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Rt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!c)return ki(t,a)}else{var d=uo(t),p=d==b||d==w;if(Hs(t))return bi(t,c);if(d==E||d==f||p&&!o){if(a=u||p?{}:ho(t),!c)return u?function(t,e){return xi(t,co(t),e)}(t,function(t,e){return t&&xi(e,Ca(e),t)}(a,t)):function(t,e){return xi(t,ao(t),e)}(t,Qr(a,t))}else{if(!ne[d])return o?t:{};a=function(t,e,r){var n=t.constructor;switch(e){case C:return wi(t);case g:case y:return new n(+t);case O:return function(t,e){var r=e?wi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case P:case R:case M:case N:case L:case B:case D:case j:case U:return vi(t,r);case v:return new n;case _:case A:return new n(t);case k:return function(t){var e=new t.constructor(t.source,lt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case x:return new n;case I:return function(t){return Mr?St(Mr.call(t)):{}}(t)}}(t,d,c)}}s||(s=new qr);var m=s.get(t);if(m)return m;s.set(t,a),na(t)?t.forEach((function(r){a.add(nn(r,e,n,r,t,s))})):Qs(t)&&t.forEach((function(r,i){a.set(i,nn(r,e,n,i,t,s))}));var S=h?r:(l?u?Qi:Xi:u?Ca:Ta)(t);return Se(S||t,(function(r,i){S&&(r=t[i=r]),Yr(a,i,nn(r,e,n,i,t,s))})),a}function on(t,e,n){var i=n.length;if(null==t)return!i;for(t=St(t);i--;){var o=n[i],s=e[o],a=t[o];if(a===r&&!(o in t)||!s(a))return!1}return!0}function sn(t,e,i){if("function"!=typeof t)throw new At(n);return Ao((function(){t.apply(r,i)}),e)}function an(t,e,r,n){var i=-1,o=Ie,s=!0,a=t.length,c=[],u=e.length;if(!a)return c;r&&(e=Ce(e,Ke(r))),n?(o=Te,s=!1):e.length>=200&&(o=Ze,s=!1,e=new $r(e));t:for(;++i<a;){var l=t[i],h=null==r?l:r(l);if(l=n||0!==l?l:0,s&&h==h){for(var d=u;d--;)if(e[d]===h)continue t;c.push(l)}else o(e,h,n)||c.push(l)}return c}Lr.templateSettings={escape:K,evaluate:G,interpolate:Z,variable:"",imports:{_:Lr}},Lr.prototype=Dr.prototype,Lr.prototype.constructor=Lr,jr.prototype=Br(Dr.prototype),jr.prototype.constructor=jr,Ur.prototype=Br(Dr.prototype),Ur.prototype.constructor=Ur,zr.prototype.clear=function(){this.__data__=kr?kr(null):{},this.size=0},zr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},zr.prototype.get=function(t){var e=this.__data__;if(kr){var n=e[t];return n===i?r:n}return Rt.call(e,t)?e[t]:r},zr.prototype.has=function(t){var e=this.__data__;return kr?e[t]!==r:Rt.call(e,t)},zr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=kr&&e===r?i:e,this},Fr.prototype.clear=function(){this.__data__=[],this.size=0},Fr.prototype.delete=function(t){var e=this.__data__,r=Jr(e,t);return!(r<0||(r==e.length-1?e.pop():Vt.call(e,r,1),--this.size,0))},Fr.prototype.get=function(t){var e=this.__data__,n=Jr(e,t);return n<0?r:e[n][1]},Fr.prototype.has=function(t){return Jr(this.__data__,t)>-1},Fr.prototype.set=function(t,e){var r=this.__data__,n=Jr(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Wr.prototype.clear=function(){this.size=0,this.__data__={hash:new zr,map:new(vr||Fr),string:new zr}},Wr.prototype.delete=function(t){var e=io(this,t).delete(t);return this.size-=e?1:0,e},Wr.prototype.get=function(t){return io(this,t).get(t)},Wr.prototype.has=function(t){return io(this,t).has(t)},Wr.prototype.set=function(t,e){var r=io(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},$r.prototype.add=$r.prototype.push=function(t){return this.__data__.set(t,i),this},$r.prototype.has=function(t){return this.__data__.has(t)},qr.prototype.clear=function(){this.__data__=new Fr,this.size=0},qr.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},qr.prototype.get=function(t){return this.__data__.get(t)},qr.prototype.has=function(t){return this.__data__.has(t)},qr.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Fr){var n=r.__data__;if(!vr||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Wr(n)}return r.set(t,e),this.size=r.size,this};var cn=Ti(yn),un=Ti(mn,!0);function ln(t,e){var r=!0;return cn(t,(function(t,n,i){return r=!!e(t,n,i)})),r}function hn(t,e,n){for(var i=-1,o=t.length;++i<o;){var s=t[i],a=e(s);if(null!=a&&(c===r?a==a&&!oa(a):n(a,c)))var c=a,u=s}return u}function dn(t,e){var r=[];return cn(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function fn(t,e,r,n,i){var o=-1,s=t.length;for(r||(r=fo),i||(i=[]);++o<s;){var a=t[o];e>0&&r(a)?e>1?fn(a,e-1,r,n,i):Oe(i,a):n||(i[i.length]=a)}return i}var pn=Ci(),gn=Ci(!0);function yn(t,e){return t&&pn(t,e,Ta)}function mn(t,e){return t&&gn(t,e,Ta)}function bn(t,e){return Ae(e,(function(e){return Gs(t[e])}))}function wn(t,e){for(var n=0,i=(e=pi(e,t)).length;null!=t&&n<i;)t=t[No(e[n++])];return n&&n==i?t:r}function vn(t,e,r){var n=e(t);return Fs(t)?n:Oe(n,r(t))}function _n(t){return null==t?t===r?"[object Undefined]":"[object Null]":Xt&&Xt in St(t)?function(t){var e=Rt.call(t,Xt),n=t[Xt];try{t[Xt]=r;var i=!0}catch{}var o=Lt.call(t);return i&&(e?t[Xt]=n:delete t[Xt]),o}(t):function(t){return Lt.call(t)}(t)}function En(t,e){return t>e}function Sn(t,e){return null!=t&&Rt.call(t,e)}function kn(t,e){return null!=t&&e in St(t)}function xn(t,e,n){for(var i=n?Te:Ie,o=t[0].length,s=t.length,a=s,c=rt(s),u=1/0,l=[];a--;){var h=t[a];a&&e&&(h=Ce(h,Ke(e))),u=pr(h.length,u),c[a]=!n&&(e||o>=120&&h.length>=120)?new $r(a&&h):r}h=t[0];var d=-1,f=c[0];t:for(;++d<o&&l.length<u;){var p=h[d],g=e?e(p):p;if(p=n||0!==p?p:0,!(f?Ze(f,g):i(l,g,n))){for(a=s;--a;){var y=c[a];if(!(y?Ze(y,g):i(t[a],g,n)))continue t}f&&f.push(g),l.push(p)}}return l}function An(t,e,n){var i=null==(t=So(t,e=pi(e,t)))?t:t[No(Ko(e))];return null==i?r:_e(i,t,n)}function In(t){return Xs(t)&&_n(t)==f}function Tn(t,e,n,i,o){return t===e||(null==t||null==e||!Xs(t)&&!Xs(e)?t!=t&&e!=e:function(t,e,n,i,o,s){var a=Fs(t),c=Fs(e),u=a?p:uo(t),l=c?p:uo(e),h=(u=u==f?E:u)==E,d=(l=l==f?E:l)==E,b=u==l;if(b&&Hs(t)){if(!Hs(e))return!1;a=!0,h=!1}if(b&&!h)return s||(s=new qr),a||sa(t)?Yi(t,e,n,i,o,s):function(t,e,r,n,i,o,s){switch(r){case O:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case C:return!(t.byteLength!=e.byteLength||!o(new Ft(t),new Ft(e)));case g:case y:case _:return Ds(+t,+e);case m:return t.name==e.name&&t.message==e.message;case k:case A:return t==e+"";case v:var a=rr;case x:var c=1&n;if(a||(a=or),t.size!=e.size&&!c)return!1;var u=s.get(t);if(u)return u==e;n|=2,s.set(t,e);var l=Yi(a(t),a(e),n,i,o,s);return s.delete(t),l;case I:if(Mr)return Mr.call(t)==Mr.call(e)}return!1}(t,e,u,n,i,o,s);if(!(1&n)){var w=h&&Rt.call(t,"__wrapped__"),S=d&&Rt.call(e,"__wrapped__");if(w||S){var T=w?t.value():t,P=S?e.value():e;return s||(s=new qr),o(T,P,n,i,s)}}return!!b&&(s||(s=new qr),function(t,e,n,i,o,s){var a=1&n,c=Xi(t),u=c.length;if(u!=Xi(e).length&&!a)return!1;for(var l=u;l--;){var h=c[l];if(!(a?h in e:Rt.call(e,h)))return!1}var d=s.get(t),f=s.get(e);if(d&&f)return d==e&&f==t;var p=!0;s.set(t,e),s.set(e,t);for(var g=a;++l<u;){var y=t[h=c[l]],m=e[h];if(i)var b=a?i(m,y,h,e,t,s):i(y,m,h,t,e,s);if(!(b===r?y===m||o(y,m,n,i,s):b)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var w=t.constructor,v=e.constructor;w!=v&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof v&&v instanceof v)&&(p=!1)}return s.delete(t),s.delete(e),p}(t,e,n,i,o,s))}(t,e,n,i,Tn,o))}function Cn(t,e,n,i){var o=n.length,s=o,a=!i;if(null==t)return!s;for(t=St(t);o--;){var c=n[o];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<s;){var u=(c=n[o])[0],l=t[u],h=c[1];if(a&&c[2]){if(l===r&&!(u in t))return!1}else{var d=new qr;if(i)var f=i(l,h,u,t,e,d);if(!(f===r?Tn(h,l,3,i,d):f))return!1}}return!0}function On(t){return!(!Js(t)||function(t){return!!Nt&&Nt in t}(t))&&(Gs(t)?jt:ft).test(Lo(t))}function Pn(t){return"function"==typeof t?t:null==t?tc:"object"==typeof t?Fs(t)?Bn(t[0],t[1]):Ln(t):uc(t)}function Rn(t){if(!wo(t))return dr(t);var e=[];for(var r in St(t))Rt.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Mn(t,e){return t<e}function Nn(t,e){var r=-1,n=$s(t)?rt(t.length):[];return cn(t,(function(t,i,o){n[++r]=e(t,i,o)})),n}function Ln(t){var e=oo(t);return 1==e.length&&e[0][2]?_o(e[0][0],e[0][1]):function(r){return r===t||Cn(r,t,e)}}function Bn(t,e){return yo(t)&&vo(e)?_o(No(t),e):function(n){var i=Sa(n,t);return i===r&&i===e?ka(n,t):Tn(e,i,3)}}function Dn(t,e,n,i,o){t!==e&&pn(e,(function(s,a){if(o||(o=new qr),Js(s))!function(t,e,n,i,o,s,a){var c=ko(t,n),u=ko(e,n),l=a.get(u);if(l)Zr(t,n,l);else{var h=s?s(c,u,n+"",t,e,a):r,d=h===r;if(d){var f=Fs(u),p=!f&&Hs(u),g=!f&&!p&&sa(u);h=u,f||p||g?Fs(c)?h=c:qs(c)?h=ki(c):p?(d=!1,h=bi(u,!0)):g?(d=!1,h=vi(u,!0)):h=[]:ea(u)||zs(u)?(h=c,zs(c)?h=pa(c):(!Js(c)||Gs(c))&&(h=ho(u))):d=!1}d&&(a.set(u,h),o(h,u,i,s,a),a.delete(u)),Zr(t,n,h)}}(t,e,a,n,Dn,i,o);else{var c=i?i(ko(t,a),s,a+"",t,e,o):r;c===r&&(c=s),Zr(t,a,c)}}),Ca)}function jn(t,e){var n=t.length;if(n)return po(e+=e<0?n:0,n)?t[e]:r}function Un(t,e,r){e=e.length?Ce(e,(function(t){return Fs(t)?function(e){return wn(e,1===t.length?t[0]:t)}:t})):[tc];var n=-1;return e=Ce(e,Ke(no())),function(t,e){var n=t.length;for(t.sort((function(t,e){return function(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,s=i.length,a=r.length;++n<s;){var c=_i(i[n],o[n]);if(c)return n>=a?c:c*("desc"==r[n]?-1:1)}return t.index-e.index}(t,e,r)}));n--;)t[n]=t[n].value;return t}(Nn(t,(function(t,r,i){return{criteria:Ce(e,(function(e){return e(t)})),index:++n,value:t}})))}function zn(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var s=e[n],a=wn(t,s);r(a,s)&&Gn(o,pi(s,t),a)}return o}function Fn(t,e,r,n){var i=n?je:De,o=-1,s=e.length,a=t;for(t===e&&(e=ki(e)),r&&(a=Ce(t,Ke(r)));++o<s;)for(var c=0,u=e[o],l=r?r(u):u;(c=i(a,l,c,n))>-1;)a!==t&&Vt.call(a,c,1),Vt.call(t,c,1);return t}function Wn(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;po(i)?Vt.call(t,i,1):si(t,i)}}return t}function $n(t,e){return t+fe(mr()*(e-t+1))}function qn(t,e){var r="";if(!t||e<1||e>u)return r;do{e%2&&(r+=t),(e=fe(e/2))&&(t+=t)}while(e);return r}function Hn(t,e){return Io(Eo(t,e,tc),t+"")}function Vn(t){return Vr(Da(t))}function Kn(t,e){var r=Da(t);return Oo(r,rn(e,0,r.length))}function Gn(t,e,n,i){if(!Js(t))return t;for(var o=-1,s=(e=pi(e,t)).length,a=s-1,c=t;null!=c&&++o<s;){var u=No(e[o]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(o!=a){var h=c[u];(l=i?i(h,u,c):r)===r&&(l=Js(h)?h:po(e[o+1])?[]:{})}Yr(c,u,l),c=c[u]}return t}var Zn=xr?function(t,e){return xr.set(t,e),t}:tc,Yn=ie?function(t,e){return ie(t,"toString",{configurable:!0,enumerable:!1,value:Ja(e),writable:!0})}:tc;function Jn(t){return Oo(Da(t))}function Xn(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=rt(i);++n<i;)o[n]=t[n+e];return o}function Qn(t,e){var r;return cn(t,(function(t,n,i){return!(r=e(t,n,i))})),!!r}function ti(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;n<i;){var o=n+i>>>1,s=t[o];null!==s&&!oa(s)&&(r?s<=e:s<e)?n=o+1:i=o}return i}return ei(t,e,tc,r)}function ei(t,e,n,i){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=n(e))!=e,c=null===e,u=oa(e),l=e===r;o<s;){var h=fe((o+s)/2),d=n(t[h]),f=d!==r,p=null===d,g=d==d,y=oa(d);if(a)var m=i||g;else m=l?g&&(i||f):c?g&&f&&(i||!p):u?g&&f&&!p&&(i||!y):!p&&!y&&(i?d<=e:d<e);m?o=h+1:s=h}return pr(s,4294967294)}function ri(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r],a=e?e(s):s;if(!r||!Ds(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function ni(t){return"number"==typeof t?t:oa(t)?l:+t}function ii(t){if("string"==typeof t)return t;if(Fs(t))return Ce(t,ii)+"";if(oa(t))return Nr?Nr.call(t):"";var e=t+"";return"0"==e&&1/t==-c?"-0":e}function oi(t,e,r){var n=-1,i=Ie,o=t.length,s=!0,a=[],c=a;if(r)s=!1,i=Te;else if(o>=200){var u=e?null:qi(t);if(u)return or(u);s=!1,i=Ze,c=new $r}else c=e?[]:a;t:for(;++n<o;){var l=t[n],h=e?e(l):l;if(l=r||0!==l?l:0,s&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue t;e&&c.push(h),a.push(l)}else i(c,h,r)||(c!==a&&c.push(h),a.push(l))}return a}function si(t,e){return null==(t=So(t,e=pi(e,t)))||delete t[No(Ko(e))]}function ai(t,e,r,n){return Gn(t,e,r(wn(t,e)),n)}function ci(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?Xn(t,n?0:o,n?o+1:i):Xn(t,n?o+1:0,n?i:o)}function ui(t,e){var r=t;return r instanceof Ur&&(r=r.value()),Pe(e,(function(t,e){return e.func.apply(e.thisArg,Oe([t],e.args))}),r)}function li(t,e,r){var n=t.length;if(n<2)return n?oi(t[0]):[];for(var i=-1,o=rt(n);++i<n;)for(var s=t[i],a=-1;++a<n;)a!=i&&(o[i]=an(o[i]||s,t[a],e,r));return oi(fn(o,1),e,r)}function hi(t,e,n){for(var i=-1,o=t.length,s=e.length,a={};++i<o;){var c=i<s?e[i]:r;n(a,t[i],c)}return a}function di(t){return qs(t)?t:[]}function fi(t){return"function"==typeof t?t:tc}function pi(t,e){return Fs(t)?t:yo(t,e)?[t]:Mo(ga(t))}var gi=Hn;function yi(t,e,n){var i=t.length;return n=n===r?i:n,!e&&n>=i?t:Xn(t,e,n)}var mi=ae||function(t){return ue.clearTimeout(t)};function bi(t,e){if(e)return t.slice();var r=t.length,n=Wt?Wt(r):new t.constructor(r);return t.copy(n),n}function wi(t){var e=new t.constructor(t.byteLength);return new Ft(e).set(new Ft(t)),e}function vi(t,e){var r=e?wi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function _i(t,e){if(t!==e){var n=t!==r,i=null===t,o=t==t,s=oa(t),a=e!==r,c=null===e,u=e==e,l=oa(e);if(!c&&!l&&!s&&t>e||s&&a&&u&&!c&&!l||i&&a&&u||!n&&u||!o)return 1;if(!i&&!s&&!l&&t<e||l&&n&&o&&!i&&!s||c&&n&&o||!a&&o||!u)return-1}return 0}function Ei(t,e,r,n){for(var i=-1,o=t.length,s=r.length,a=-1,c=e.length,u=fr(o-s,0),l=rt(c+u),h=!n;++a<c;)l[a]=e[a];for(;++i<s;)(h||i<o)&&(l[r[i]]=t[i]);for(;u--;)l[a++]=t[i++];return l}function Si(t,e,r,n){for(var i=-1,o=t.length,s=-1,a=r.length,c=-1,u=e.length,l=fr(o-a,0),h=rt(l+u),d=!n;++i<l;)h[i]=t[i];for(var f=i;++c<u;)h[f+c]=e[c];for(;++s<a;)(d||i<o)&&(h[f+r[s]]=t[i++]);return h}function ki(t,e){var r=-1,n=t.length;for(e||(e=rt(n));++r<n;)e[r]=t[r];return e}function xi(t,e,n,i){var o=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var c=e[s],u=i?i(n[c],t[c],c,n,t):r;u===r&&(u=t[c]),o?tn(n,c,u):Yr(n,c,u)}return n}function Ai(t,e){return function(r,n){var i=Fs(r)?Ee:Xr,o=e?e():{};return i(r,t,no(n,2),o)}}function Ii(t){return Hn((function(e,n){var i=-1,o=n.length,s=o>1?n[o-1]:r,a=o>2?n[2]:r;for(s=t.length>3&&"function"==typeof s?(o--,s):r,a&&go(n[0],n[1],a)&&(s=o<3?r:s,o=1),e=St(e);++i<o;){var c=n[i];c&&t(e,c,i,s)}return e}))}function Ti(t,e){return function(r,n){if(null==r)return r;if(!$s(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=St(r);(e?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function Ci(t){return function(e,r,n){for(var i=-1,o=St(e),s=n(e),a=s.length;a--;){var c=s[t?a:++i];if(!1===r(o[c],c,o))break}return e}}function Oi(t){return function(e){var n=er(e=ga(e))?ar(e):r,i=n?n[0]:e.charAt(0),o=n?yi(n,1).join(""):e.slice(1);return i[t]()+o}}function Pi(t){return function(e){return Pe(Ga(za(e).replace(Gt,"")),t,"")}}function Ri(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Br(t.prototype),n=t.apply(r,e);return Js(n)?n:r}}function Mi(t){return function(e,n,i){var o=St(e);if(!$s(e)){var s=no(n,3);e=Ta(e),n=function(t){return s(o[t],t,o)}}var a=t(e,n,i);return a>-1?o[s?e[a]:a]:r}}function Ni(t){return Ji((function(e){var i=e.length,o=i,s=jr.prototype.thru;for(t&&e.reverse();o--;){var a=e[o];if("function"!=typeof a)throw new At(n);if(s&&!c&&"wrapper"==eo(a))var c=new jr([],!0)}for(o=c?o:i;++o<i;){var u=eo(a=e[o]),l="wrapper"==u?to(a):r;c=l&&mo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[eo(l[0])].apply(c,l[3]):1==a.length&&mo(a)?c[u]():c.thru(a)}return function(){var t=arguments,r=t[0];if(c&&1==t.length&&Fs(r))return c.plant(r).value();for(var n=0,o=i?e[n].apply(this,t):r;++n<i;)o=e[n].call(this,o);return o}}))}function Li(t,e,n,i,o,s,c,u,l,h){var d=e&a,f=1&e,p=2&e,g=24&e,y=512&e,m=p?r:Ri(t);return function a(){for(var b=arguments.length,w=rt(b),v=b;v--;)w[v]=arguments[v];if(g)var _=ro(a),E=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}(w,_);if(i&&(w=Ei(w,i,o,g)),s&&(w=Si(w,s,c,g)),b-=E,g&&b<h){var S=ir(w,_);return Wi(t,e,Li,a.placeholder,n,w,S,u,l,h-b)}var k=f?n:this,x=p?k[t]:t;return b=w.length,u?w=function(t,e){for(var n=t.length,i=pr(e.length,n),o=ki(t);i--;){var s=e[i];t[i]=po(s,n)?o[s]:r}return t}(w,u):y&&b>1&&w.reverse(),d&&l<b&&(w.length=l),this&&this!==ue&&this instanceof a&&(x=m||Ri(x)),x.apply(k,w)}}function Bi(t,e){return function(r,n){return function(t,e,r,n){return yn(t,(function(t,i,o){e(n,r(t),i,o)})),n}(r,t,e(n),{})}}function Di(t,e){return function(n,i){var o;if(n===r&&i===r)return e;if(n!==r&&(o=n),i!==r){if(o===r)return i;"string"==typeof n||"string"==typeof i?(n=ii(n),i=ii(i)):(n=ni(n),i=ni(i)),o=t(n,i)}return o}}function ji(t){return Ji((function(e){return e=Ce(e,Ke(no())),Hn((function(r){var n=this;return t(e,(function(t){return _e(t,n,r)}))}))}))}function Ui(t,e){var n=(e=e===r?" ":ii(e)).length;if(n<2)return n?qn(e,t):e;var i=qn(e,he(t/sr(e)));return er(e)?yi(ar(i),0,t).join(""):i.slice(0,t)}function zi(t){return function(e,n,i){return i&&"number"!=typeof i&&go(e,n,i)&&(n=i=r),e=la(e),n===r?(n=e,e=0):n=la(n),function(t,e,r,n){for(var i=-1,o=fr(he((e-t)/(r||1)),0),s=rt(o);o--;)s[n?o:++i]=t,t+=r;return s}(e,n,i=i===r?e<n?1:-1:la(i),t)}}function Fi(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=fa(e),r=fa(r)),t(e,r)}}function Wi(t,e,n,i,o,a,c,u,l,h){var d=8&e;e|=d?s:64,4&(e&=~(d?64:s))||(e&=-4);var f=[t,e,o,d?a:r,d?c:r,d?r:a,d?r:c,u,l,h],p=n.apply(r,f);return mo(t)&&xo(p,f),p.placeholder=i,To(p,t,e)}function $i(t){var e=Et[t];return function(t,r){if(t=fa(t),(r=null==r?0:pr(ha(r),292))&&We(t)){var n=(ga(t)+"e").split("e");return+((n=(ga(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var qi=Er&&1/or(new Er([,-0]))[1]==c?function(t){return new Er(t)}:oc;function Hi(t){return function(e){var r=uo(e);return r==v?rr(e):r==x?function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}(e):function(t,e){return Ce(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Vi(t,e,i,c,u,l,h,d){var f=2&e;if(!f&&"function"!=typeof t)throw new At(n);var p=c?c.length:0;if(p||(e&=-97,c=u=r),h=h===r?h:fr(ha(h),0),d=d===r?d:ha(d),p-=u?u.length:0,64&e){var g=c,y=u;c=u=r}var m=f?r:to(t),b=[t,e,i,c,u,g,y,l,h,d];if(m&&function(t,e){var r=t[1],n=e[1],i=r|n,s=i<131,c=n==a&&8==r||n==a&&256==r&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!s&&!c)return t;1&n&&(t[2]=e[2],i|=1&r?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?Ei(l,u,e[4]):u,t[4]=l?ir(t[3],o):e[4]}(u=e[5])&&(l=t[5],t[5]=l?Si(l,u,e[6]):u,t[6]=l?ir(t[5],o):e[6]),(u=e[7])&&(t[7]=u),n&a&&(t[8]=null==t[8]?e[8]:pr(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(b,m),t=b[0],e=b[1],i=b[2],c=b[3],u=b[4],!(d=b[9]=b[9]===r?f?0:t.length:fr(b[9]-p,0))&&24&e&&(e&=-25),e&&1!=e)w=8==e||16==e?function(t,e,n){var i=Ri(t);return function o(){for(var s=arguments.length,a=rt(s),c=s,u=ro(o);c--;)a[c]=arguments[c];var l=s<3&&a[0]!==u&&a[s-1]!==u?[]:ir(a,u);return(s-=l.length)<n?Wi(t,e,Li,o.placeholder,r,a,l,r,r,n-s):_e(this&&this!==ue&&this instanceof o?i:t,this,a)}}(t,e,d):e!=s&&33!=e||u.length?Li.apply(r,b):function(t,e,r,n){var i=1&e,o=Ri(t);return function e(){for(var s=-1,a=arguments.length,c=-1,u=n.length,l=rt(u+a),h=this&&this!==ue&&this instanceof e?o:t;++c<u;)l[c]=n[c];for(;a--;)l[c++]=arguments[++s];return _e(h,i?r:this,l)}}(t,e,i,c);else var w=function(t,e,r){var n=1&e,i=Ri(t);return function e(){return(this&&this!==ue&&this instanceof e?i:t).apply(n?r:this,arguments)}}(t,e,i);return To((m?Zn:xo)(w,b),t,e)}function Ki(t,e,n,i){return t===r||Ds(t,Ct[n])&&!Rt.call(i,n)?e:t}function Gi(t,e,n,i,o,s){return Js(t)&&Js(e)&&(s.set(e,t),Dn(t,e,r,Gi,s),s.delete(e)),t}function Zi(t){return ea(t)?r:t}function Yi(t,e,n,i,o,s){var a=1&n,c=t.length,u=e.length;if(c!=u&&!(a&&u>c))return!1;var l=s.get(t),h=s.get(e);if(l&&h)return l==e&&h==t;var d=-1,f=!0,p=2&n?new $r:r;for(s.set(t,e),s.set(e,t);++d<c;){var g=t[d],y=e[d];if(i)var m=a?i(y,g,d,e,t,s):i(g,y,d,t,e,s);if(m!==r){if(m)continue;f=!1;break}if(p){if(!Me(e,(function(t,e){if(!Ze(p,e)&&(g===t||o(g,t,n,i,s)))return p.push(e)}))){f=!1;break}}else if(g!==y&&!o(g,y,n,i,s)){f=!1;break}}return s.delete(t),s.delete(e),f}function Ji(t){return Io(Eo(t,r,Wo),t+"")}function Xi(t){return vn(t,Ta,ao)}function Qi(t){return vn(t,Ca,co)}var to=xr?function(t){return xr.get(t)}:oc;function eo(t){for(var e=t.name+"",r=Ar[e],n=Rt.call(Ar,e)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function ro(t){return(Rt.call(Lr,"placeholder")?Lr:t).placeholder}function no(){var t=Lr.iteratee||ec;return t=t===ec?Pn:t,arguments.length?t(arguments[0],arguments[1]):t}function io(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function oo(t){for(var e=Ta(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,vo(i)]}return e}function so(t,e){var n=function(t,e){return null==t?r:t[e]}(t,e);return On(n)?n:r}var ao=pe?function(t){return null==t?[]:(t=St(t),Ae(pe(t),(function(e){return Ht.call(t,e)})))}:dc,co=pe?function(t){for(var e=[];t;)Oe(e,ao(t)),t=$t(t);return e}:dc,uo=_n;function lo(t,e,r){for(var n=-1,i=(e=pi(e,t)).length,o=!1;++n<i;){var s=No(e[n]);if(!(o=null!=t&&r(t,s)))break;t=t[s]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&Ys(i)&&po(s,i)&&(Fs(t)||zs(t))}function ho(t){return"function"!=typeof t.constructor||wo(t)?{}:Br($t(t))}function fo(t){return Fs(t)||zs(t)||!!(Kt&&t&&t[Kt])}function po(t,e){var r=typeof t;return!!(e=e??u)&&("number"==r||"symbol"!=r&&gt.test(t))&&t>-1&&t%1==0&&t<e}function go(t,e,r){if(!Js(r))return!1;var n=typeof e;return!!("number"==n?$s(r)&&po(e,r.length):"string"==n&&e in r)&&Ds(r[e],t)}function yo(t,e){if(Fs(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!oa(t))||J.test(t)||!Y.test(t)||null!=e&&t in St(e)}function mo(t){var e=eo(t),r=Lr[e];if("function"!=typeof r||!(e in Ur.prototype))return!1;if(t===r)return!0;var n=to(r);return!!n&&t===n[0]}(wr&&uo(new wr(new ArrayBuffer(1)))!=O||vr&&uo(new vr)!=v||_r&&uo(_r.resolve())!=S||Er&&uo(new Er)!=x||Sr&&uo(new Sr)!=T)&&(uo=function(t){var e=_n(t),n=e==E?t.constructor:r,i=n?Lo(n):"";if(i)switch(i){case Ir:return O;case Tr:return v;case Cr:return S;case Or:return x;case Pr:return T}return e});var bo=Ot?Gs:fc;function wo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ct)}function vo(t){return t==t&&!Js(t)}function _o(t,e){return function(n){return null!=n&&n[t]===e&&(e!==r||t in St(n))}}function Eo(t,e,n){return e=fr(e===r?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=fr(r.length-e,0),s=rt(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=rt(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),_e(t,this,a)}}function So(t,e){return e.length<2?t:wn(t,Xn(e,0,-1))}function ko(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var xo=Co(Zn),Ao=le||function(t,e){return ue.setTimeout(t,e)},Io=Co(Yn);function To(t,e,r){var n=e+"";return Io(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(nt,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Se(d,(function(r){var n="_."+r[0];e&r[1]&&!Ie(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(it);return e?e[1].split(ot):[]}(n),r)))}function Co(t){var e=0,n=0;return function(){var i=gr(),o=16-(i-n);if(n=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(r,arguments)}}function Oo(t,e){var n=-1,i=t.length,o=i-1;for(e=e===r?i:e;++n<e;){var s=$n(n,o),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var Po,Ro,Mo=(Po=Ps((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(X,(function(t,r,n,i){e.push(n?i.replace(ct,"$1"):r||t)})),e}),(function(t){return 500===Ro.size&&Ro.clear(),t})),Ro=Po.cache,Po);function No(t){if("string"==typeof t||oa(t))return t;var e=t+"";return"0"==e&&1/t==-c?"-0":e}function Lo(t){if(null!=t){try{return Pt.call(t)}catch{}try{return t+""}catch{}}return""}function Bo(t){if(t instanceof Ur)return t.clone();var e=new jr(t.__wrapped__,t.__chain__);return e.__actions__=ki(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Do=Hn((function(t,e){return qs(t)?an(t,fn(e,1,qs,!0)):[]})),jo=Hn((function(t,e){var n=Ko(e);return qs(n)&&(n=r),qs(t)?an(t,fn(e,1,qs,!0),no(n,2)):[]})),Uo=Hn((function(t,e){var n=Ko(e);return qs(n)&&(n=r),qs(t)?an(t,fn(e,1,qs,!0),r,n):[]}));function zo(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:ha(r);return i<0&&(i=fr(n+i,0)),Be(t,no(e,3),i)}function Fo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return n!==r&&(o=ha(n),o=n<0?fr(i+o,0):pr(o,i-1)),Be(t,no(e,3),o,!0)}function Wo(t){return null!=t&&t.length?fn(t,1):[]}function $o(t){return t&&t.length?t[0]:r}var qo=Hn((function(t){var e=Ce(t,di);return e.length&&e[0]===t[0]?xn(e):[]})),Ho=Hn((function(t){var e=Ko(t),n=Ce(t,di);return e===Ko(n)?e=r:n.pop(),n.length&&n[0]===t[0]?xn(n,no(e,2)):[]})),Vo=Hn((function(t){var e=Ko(t),n=Ce(t,di);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?xn(n,r,e):[]}));function Ko(t){var e=null==t?0:t.length;return e?t[e-1]:r}var Go=Hn(Zo);function Zo(t,e){return t&&t.length&&e&&e.length?Fn(t,e):t}var Yo=Ji((function(t,e){var r=null==t?0:t.length,n=en(t,e);return Wn(t,Ce(e,(function(t){return po(t,r)?+t:t})).sort(_i)),n}));function Jo(t){return null==t?t:br.call(t)}var Xo=Hn((function(t){return oi(fn(t,1,qs,!0))})),Qo=Hn((function(t){var e=Ko(t);return qs(e)&&(e=r),oi(fn(t,1,qs,!0),no(e,2))})),ts=Hn((function(t){var e=Ko(t);return e="function"==typeof e?e:r,oi(fn(t,1,qs,!0),r,e)}));function es(t){if(!t||!t.length)return[];var e=0;return t=Ae(t,(function(t){if(qs(t))return e=fr(t.length,e),!0})),He(e,(function(e){return Ce(t,Fe(e))}))}function rs(t,e){if(!t||!t.length)return[];var n=es(t);return null==e?n:Ce(n,(function(t){return _e(e,r,t)}))}var ns=Hn((function(t,e){return qs(t)?an(t,e):[]})),is=Hn((function(t){return li(Ae(t,qs))})),os=Hn((function(t){var e=Ko(t);return qs(e)&&(e=r),li(Ae(t,qs),no(e,2))})),ss=Hn((function(t){var e=Ko(t);return e="function"==typeof e?e:r,li(Ae(t,qs),r,e)})),as=Hn(es),cs=Hn((function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,rs(t,n)}));function us(t){var e=Lr(t);return e.__chain__=!0,e}function ls(t,e){return e(t)}var hs=Ji((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return en(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Ur&&po(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:ls,args:[o],thisArg:r}),new jr(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(o)})),ds=Ai((function(t,e,r){Rt.call(t,r)?++t[r]:tn(t,r,1)})),fs=Mi(zo),ps=Mi(Fo);function gs(t,e){return(Fs(t)?Se:cn)(t,no(e,3))}function ys(t,e){return(Fs(t)?ke:un)(t,no(e,3))}var ms=Ai((function(t,e,r){Rt.call(t,r)?t[r].push(e):tn(t,r,[e])})),bs=Hn((function(t,e,r){var n=-1,i="function"==typeof e,o=$s(t)?rt(t.length):[];return cn(t,(function(t){o[++n]=i?_e(e,t,r):An(t,e,r)})),o})),ws=Ai((function(t,e,r){tn(t,r,e)}));function vs(t,e){return(Fs(t)?Ce:Nn)(t,no(e,3))}var _s=Ai((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]})),Es=Hn((function(t,e){if(null==t)return[];var r=e.length;return r>1&&go(t,e[0],e[1])?e=[]:r>2&&go(e[0],e[1],e[2])&&(e=[e[0]]),Un(t,fn(e,1),[])})),Ss=ce||function(){return ue.Date.now()};function ks(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,Vi(t,a,r,r,r,r,e)}function xs(t,e){var i;if("function"!=typeof e)throw new At(n);return t=ha(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=r),i}}var As=Hn((function(t,e,r){var n=1;if(r.length){var i=ir(r,ro(As));n|=s}return Vi(t,n,e,r,i)})),Is=Hn((function(t,e,r){var n=3;if(r.length){var i=ir(r,ro(Is));n|=s}return Vi(e,n,t,r,i)}));function Ts(t,e,i){var o,s,a,c,u,l,h=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new At(n);function g(e){var n=o,i=s;return o=s=r,h=e,c=t.apply(i,n)}function y(t){var n=t-l;return l===r||n>=e||n<0||f&&t-h>=a}function m(){var t=Ss();if(y(t))return b(t);u=Ao(m,function(t){var r=e-(t-l);return f?pr(r,a-(t-h)):r}(t))}function b(t){return u=r,p&&o?g(t):(o=s=r,c)}function w(){var t=Ss(),n=y(t);if(o=arguments,s=this,l=t,n){if(u===r)return function(t){return h=t,u=Ao(m,e),d?g(t):c}(l);if(f)return mi(u),u=Ao(m,e),g(l)}return u===r&&(u=Ao(m,e)),c}return e=fa(e)||0,Js(i)&&(d=!!i.leading,a=(f="maxWait"in i)?fr(fa(i.maxWait)||0,e):a,p="trailing"in i?!!i.trailing:p),w.cancel=function(){u!==r&&mi(u),h=0,o=l=s=u=r},w.flush=function(){return u===r?c:b(Ss())},w}var Cs=Hn((function(t,e){return sn(t,1,e)})),Os=Hn((function(t,e,r){return sn(t,fa(e)||0,r)}));function Ps(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new At(n);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Ps.Cache||Wr),r}function Rs(t){if("function"!=typeof t)throw new At(n);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ps.Cache=Wr;var Ms=gi((function(t,e){var r=(e=1==e.length&&Fs(e[0])?Ce(e[0],Ke(no())):Ce(fn(e,1),Ke(no()))).length;return Hn((function(n){for(var i=-1,o=pr(n.length,r);++i<o;)n[i]=e[i].call(this,n[i]);return _e(t,this,n)}))})),Ns=Hn((function(t,e){var n=ir(e,ro(Ns));return Vi(t,s,r,e,n)})),Ls=Hn((function(t,e){var n=ir(e,ro(Ls));return Vi(t,64,r,e,n)})),Bs=Ji((function(t,e){return Vi(t,256,r,r,r,e)}));function Ds(t,e){return t===e||t!=t&&e!=e}var js=Fi(En),Us=Fi((function(t,e){return t>=e})),zs=In(function(){return arguments}())?In:function(t){return Xs(t)&&Rt.call(t,"callee")&&!Ht.call(t,"callee")},Fs=rt.isArray,Ws=ge?Ke(ge):function(t){return Xs(t)&&_n(t)==C};function $s(t){return null!=t&&Ys(t.length)&&!Gs(t)}function qs(t){return Xs(t)&&$s(t)}var Hs=Ne||fc,Vs=ye?Ke(ye):function(t){return Xs(t)&&_n(t)==y};function Ks(t){if(!Xs(t))return!1;var e=_n(t);return e==m||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ea(t)}function Gs(t){if(!Js(t))return!1;var e=_n(t);return e==b||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Zs(t){return"number"==typeof t&&t==ha(t)}function Ys(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=u}function Js(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Xs(t){return null!=t&&"object"==typeof t}var Qs=me?Ke(me):function(t){return Xs(t)&&uo(t)==v};function ta(t){return"number"==typeof t||Xs(t)&&_n(t)==_}function ea(t){if(!Xs(t)||_n(t)!=E)return!1;var e=$t(t);if(null===e)return!0;var r=Rt.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Pt.call(r)==Bt}var ra=be?Ke(be):function(t){return Xs(t)&&_n(t)==k},na=we?Ke(we):function(t){return Xs(t)&&uo(t)==x};function ia(t){return"string"==typeof t||!Fs(t)&&Xs(t)&&_n(t)==A}function oa(t){return"symbol"==typeof t||Xs(t)&&_n(t)==I}var sa=ve?Ke(ve):function(t){return Xs(t)&&Ys(t.length)&&!!re[_n(t)]},aa=Fi(Mn),ca=Fi((function(t,e){return t<=e}));function ua(t){if(!t)return[];if($s(t))return ia(t)?ar(t):ki(t);if(Yt&&t[Yt])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[Yt]());var e=uo(t);return(e==v?rr:e==x?or:Da)(t)}function la(t){return t?(t=fa(t))===c||t===-c?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ha(t){var e=la(t),r=e%1;return e==e?r?e-r:e:0}function da(t){return t?rn(ha(t),0,h):0}function fa(t){if("number"==typeof t)return t;if(oa(t))return l;if(Js(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Js(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ve(t);var r=dt.test(t);return r||pt.test(t)?se(t.slice(2),r?2:8):ht.test(t)?l:+t}function pa(t){return xi(t,Ca(t))}function ga(t){return null==t?"":ii(t)}var ya=Ii((function(t,e){if(wo(e)||$s(e))xi(e,Ta(e),t);else for(var r in e)Rt.call(e,r)&&Yr(t,r,e[r])})),ma=Ii((function(t,e){xi(e,Ca(e),t)})),ba=Ii((function(t,e,r,n){xi(e,Ca(e),t,n)})),wa=Ii((function(t,e,r,n){xi(e,Ta(e),t,n)})),va=Ji(en),_a=Hn((function(t,e){t=St(t);var n=-1,i=e.length,o=i>2?e[2]:r;for(o&&go(e[0],e[1],o)&&(i=1);++n<i;)for(var s=e[n],a=Ca(s),c=-1,u=a.length;++c<u;){var l=a[c],h=t[l];(h===r||Ds(h,Ct[l])&&!Rt.call(t,l))&&(t[l]=s[l])}return t})),Ea=Hn((function(t){return t.push(r,Gi),_e(Pa,r,t)}));function Sa(t,e,n){var i=null==t?r:wn(t,e);return i===r?n:i}function ka(t,e){return null!=t&&lo(t,e,kn)}var xa=Bi((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),t[e]=r}),Ja(tc)),Aa=Bi((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),Rt.call(t,e)?t[e].push(r):t[e]=[r]}),no),Ia=Hn(An);function Ta(t){return $s(t)?Hr(t):Rn(t)}function Ca(t){return $s(t)?Hr(t,!0):function(t){if(!Js(t))return function(t){var e=[];if(null!=t)for(var r in St(t))e.push(r);return e}(t);var e=wo(t),r=[];for(var n in t)"constructor"==n&&(e||!Rt.call(t,n))||r.push(n);return r}(t)}var Oa=Ii((function(t,e,r){Dn(t,e,r)})),Pa=Ii((function(t,e,r,n){Dn(t,e,r,n)})),Ra=Ji((function(t,e){var r={};if(null==t)return r;var n=!1;e=Ce(e,(function(e){return e=pi(e,t),n||(n=e.length>1),e})),xi(t,Qi(t),r),n&&(r=nn(r,7,Zi));for(var i=e.length;i--;)si(r,e[i]);return r})),Ma=Ji((function(t,e){return null==t?{}:function(t,e){return zn(t,e,(function(e,r){return ka(t,r)}))}(t,e)}));function Na(t,e){if(null==t)return{};var r=Ce(Qi(t),(function(t){return[t]}));return e=no(e),zn(t,r,(function(t,r){return e(t,r[0])}))}var La=Hi(Ta),Ba=Hi(Ca);function Da(t){return null==t?[]:Ge(t,Ta(t))}var ja=Pi((function(t,e,r){return e=e.toLowerCase(),t+(r?Ua(e):e)}));function Ua(t){return Ka(ga(t).toLowerCase())}function za(t){return(t=ga(t))&&t.replace(yt,Xe).replace(Zt,"")}var Fa=Pi((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),Wa=Pi((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),$a=Oi("toLowerCase"),qa=Pi((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()})),Ha=Pi((function(t,e,r){return t+(r?" ":"")+Ka(e)})),Va=Pi((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),Ka=Oi("toUpperCase");function Ga(t,e,n){return t=ga(t),(e=n?r:e)===r?function(t){return Qt.test(t)}(t)?function(t){return t.match(Jt)||[]}(t):function(t){return t.match(st)||[]}(t):t.match(e)||[]}var Za=Hn((function(t,e){try{return _e(t,r,e)}catch(t){return Ks(t)?t:new vt(t)}})),Ya=Ji((function(t,e){return Se(e,(function(e){e=No(e),tn(t,e,As(t[e],t))})),t}));function Ja(t){return function(){return t}}var Xa=Ni(),Qa=Ni(!0);function tc(t){return t}function ec(t){return Pn("function"==typeof t?t:nn(t,1))}var rc=Hn((function(t,e){return function(r){return An(r,t,e)}})),nc=Hn((function(t,e){return function(r){return An(t,r,e)}}));function ic(t,e,r){var n=Ta(e),i=bn(e,n);null==r&&(!Js(e)||!i.length&&n.length)&&(r=e,e=t,t=this,i=bn(e,Ta(e)));var o=!(Js(r)&&"chain"in r&&!r.chain),s=Gs(t);return Se(i,(function(r){var n=e[r];t[r]=n,s&&(t.prototype[r]=function(){var e=this.__chain__;if(o||e){var r=t(this.__wrapped__);return(r.__actions__=ki(this.__actions__)).push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,Oe([this.value()],arguments))})})),t}function oc(){}var sc=ji(Ce),ac=ji(xe),cc=ji(Me);function uc(t){return yo(t)?Fe(No(t)):function(t){return function(e){return wn(e,t)}}(t)}var lc=zi(),hc=zi(!0);function dc(){return[]}function fc(){return!1}var pc=Di((function(t,e){return t+e}),0),gc=$i("ceil"),yc=Di((function(t,e){return t/e}),1),mc=$i("floor"),bc=Di((function(t,e){return t*e}),1),wc=$i("round"),vc=Di((function(t,e){return t-e}),0);return Lr.after=function(t,e){if("function"!=typeof e)throw new At(n);return t=ha(t),function(){if(--t<1)return e.apply(this,arguments)}},Lr.ary=ks,Lr.assign=ya,Lr.assignIn=ma,Lr.assignInWith=ba,Lr.assignWith=wa,Lr.at=va,Lr.before=xs,Lr.bind=As,Lr.bindAll=Ya,Lr.bindKey=Is,Lr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Fs(t)?t:[t]},Lr.chain=us,Lr.chunk=function(t,e,n){e=(n?go(t,e,n):e===r)?1:fr(ha(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,s=0,a=rt(he(i/e));o<i;)a[s++]=Xn(t,o,o+=e);return a},Lr.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i},Lr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=rt(t-1),r=arguments[0],n=t;n--;)e[n-1]=arguments[n];return Oe(Fs(r)?ki(r):[r],fn(e,1))},Lr.cond=function(t){var e=null==t?0:t.length,r=no();return t=e?Ce(t,(function(t){if("function"!=typeof t[1])throw new At(n);return[r(t[0]),t[1]]})):[],Hn((function(r){for(var n=-1;++n<e;){var i=t[n];if(_e(i[0],this,r))return _e(i[1],this,r)}}))},Lr.conforms=function(t){return function(t){var e=Ta(t);return function(r){return on(r,t,e)}}(nn(t,1))},Lr.constant=Ja,Lr.countBy=ds,Lr.create=function(t,e){var r=Br(t);return null==e?r:Qr(r,e)},Lr.curry=function t(e,n,i){var o=Vi(e,8,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},Lr.curryRight=function t(e,n,i){var o=Vi(e,16,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},Lr.debounce=Ts,Lr.defaults=_a,Lr.defaultsDeep=Ea,Lr.defer=Cs,Lr.delay=Os,Lr.difference=Do,Lr.differenceBy=jo,Lr.differenceWith=Uo,Lr.drop=function(t,e,n){var i=null==t?0:t.length;return i?Xn(t,(e=n||e===r?1:ha(e))<0?0:e,i):[]},Lr.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Xn(t,0,(e=i-(e=n||e===r?1:ha(e)))<0?0:e):[]},Lr.dropRightWhile=function(t,e){return t&&t.length?ci(t,no(e,3),!0,!0):[]},Lr.dropWhile=function(t,e){return t&&t.length?ci(t,no(e,3),!0):[]},Lr.fill=function(t,e,n,i){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&go(t,e,n)&&(n=0,i=o),function(t,e,n,i){var o=t.length;for((n=ha(n))<0&&(n=-n>o?0:o+n),(i=i===r||i>o?o:ha(i))<0&&(i+=o),i=n>i?0:da(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},Lr.filter=function(t,e){return(Fs(t)?Ae:dn)(t,no(e,3))},Lr.flatMap=function(t,e){return fn(vs(t,e),1)},Lr.flatMapDeep=function(t,e){return fn(vs(t,e),c)},Lr.flatMapDepth=function(t,e,n){return n=n===r?1:ha(n),fn(vs(t,e),n)},Lr.flatten=Wo,Lr.flattenDeep=function(t){return null!=t&&t.length?fn(t,c):[]},Lr.flattenDepth=function(t,e){return null!=t&&t.length?fn(t,e=e===r?1:ha(e)):[]},Lr.flip=function(t){return Vi(t,512)},Lr.flow=Xa,Lr.flowRight=Qa,Lr.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},Lr.functions=function(t){return null==t?[]:bn(t,Ta(t))},Lr.functionsIn=function(t){return null==t?[]:bn(t,Ca(t))},Lr.groupBy=ms,Lr.initial=function(t){return null!=t&&t.length?Xn(t,0,-1):[]},Lr.intersection=qo,Lr.intersectionBy=Ho,Lr.intersectionWith=Vo,Lr.invert=xa,Lr.invertBy=Aa,Lr.invokeMap=bs,Lr.iteratee=ec,Lr.keyBy=ws,Lr.keys=Ta,Lr.keysIn=Ca,Lr.map=vs,Lr.mapKeys=function(t,e){var r={};return e=no(e,3),yn(t,(function(t,n,i){tn(r,e(t,n,i),t)})),r},Lr.mapValues=function(t,e){var r={};return e=no(e,3),yn(t,(function(t,n,i){tn(r,n,e(t,n,i))})),r},Lr.matches=function(t){return Ln(nn(t,1))},Lr.matchesProperty=function(t,e){return Bn(t,nn(e,1))},Lr.memoize=Ps,Lr.merge=Oa,Lr.mergeWith=Pa,Lr.method=rc,Lr.methodOf=nc,Lr.mixin=ic,Lr.negate=Rs,Lr.nthArg=function(t){return t=ha(t),Hn((function(e){return jn(e,t)}))},Lr.omit=Ra,Lr.omitBy=function(t,e){return Na(t,Rs(no(e)))},Lr.once=function(t){return xs(2,t)},Lr.orderBy=function(t,e,n,i){return null==t?[]:(Fs(e)||(e=null==e?[]:[e]),Fs(n=i?r:n)||(n=null==n?[]:[n]),Un(t,e,n))},Lr.over=sc,Lr.overArgs=Ms,Lr.overEvery=ac,Lr.overSome=cc,Lr.partial=Ns,Lr.partialRight=Ls,Lr.partition=_s,Lr.pick=Ma,Lr.pickBy=Na,Lr.property=uc,Lr.propertyOf=function(t){return function(e){return null==t?r:wn(t,e)}},Lr.pull=Go,Lr.pullAll=Zo,Lr.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?Fn(t,e,no(r,2)):t},Lr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Fn(t,e,r,n):t},Lr.pullAt=Yo,Lr.range=lc,Lr.rangeRight=hc,Lr.rearg=Bs,Lr.reject=function(t,e){return(Fs(t)?Ae:dn)(t,Rs(no(e,3)))},Lr.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=no(e,3);++n<o;){var s=t[n];e(s,n,t)&&(r.push(s),i.push(n))}return Wn(t,i),r},Lr.rest=function(t,e){if("function"!=typeof t)throw new At(n);return Hn(t,e=e===r?e:ha(e))},Lr.reverse=Jo,Lr.sampleSize=function(t,e,n){return e=(n?go(t,e,n):e===r)?1:ha(e),(Fs(t)?Kr:Kn)(t,e)},Lr.set=function(t,e,r){return null==t?t:Gn(t,e,r)},Lr.setWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:Gn(t,e,n,i)},Lr.shuffle=function(t){return(Fs(t)?Gr:Jn)(t)},Lr.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&go(t,e,n)?(e=0,n=i):(e=null==e?0:ha(e),n=n===r?i:ha(n)),Xn(t,e,n)):[]},Lr.sortBy=Es,Lr.sortedUniq=function(t){return t&&t.length?ri(t):[]},Lr.sortedUniqBy=function(t,e){return t&&t.length?ri(t,no(e,2)):[]},Lr.split=function(t,e,n){return n&&"number"!=typeof n&&go(t,e,n)&&(e=n=r),(n=n===r?h:n>>>0)?(t=ga(t))&&("string"==typeof e||null!=e&&!ra(e))&&!(e=ii(e))&&er(t)?yi(ar(t),0,n):t.split(e,n):[]},Lr.spread=function(t,e){if("function"!=typeof t)throw new At(n);return e=null==e?0:fr(ha(e),0),Hn((function(r){var n=r[e],i=yi(r,0,e);return n&&Oe(i,n),_e(t,this,i)}))},Lr.tail=function(t){var e=null==t?0:t.length;return e?Xn(t,1,e):[]},Lr.take=function(t,e,n){return t&&t.length?Xn(t,0,(e=n||e===r?1:ha(e))<0?0:e):[]},Lr.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Xn(t,(e=i-(e=n||e===r?1:ha(e)))<0?0:e,i):[]},Lr.takeRightWhile=function(t,e){return t&&t.length?ci(t,no(e,3),!1,!0):[]},Lr.takeWhile=function(t,e){return t&&t.length?ci(t,no(e,3)):[]},Lr.tap=function(t,e){return e(t),t},Lr.throttle=function(t,e,r){var i=!0,o=!0;if("function"!=typeof t)throw new At(n);return Js(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),Ts(t,e,{leading:i,maxWait:e,trailing:o})},Lr.thru=ls,Lr.toArray=ua,Lr.toPairs=La,Lr.toPairsIn=Ba,Lr.toPath=function(t){return Fs(t)?Ce(t,No):oa(t)?[t]:ki(Mo(ga(t)))},Lr.toPlainObject=pa,Lr.transform=function(t,e,r){var n=Fs(t),i=n||Hs(t)||sa(t);if(e=no(e,4),null==r){var o=t&&t.constructor;r=i?n?new o:[]:Js(t)&&Gs(o)?Br($t(t)):{}}return(i?Se:yn)(t,(function(t,n,i){return e(r,t,n,i)})),r},Lr.unary=function(t){return ks(t,1)},Lr.union=Xo,Lr.unionBy=Qo,Lr.unionWith=ts,Lr.uniq=function(t){return t&&t.length?oi(t):[]},Lr.uniqBy=function(t,e){return t&&t.length?oi(t,no(e,2)):[]},Lr.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?oi(t,r,e):[]},Lr.unset=function(t,e){return null==t||si(t,e)},Lr.unzip=es,Lr.unzipWith=rs,Lr.update=function(t,e,r){return null==t?t:ai(t,e,fi(r))},Lr.updateWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:ai(t,e,fi(n),i)},Lr.values=Da,Lr.valuesIn=function(t){return null==t?[]:Ge(t,Ca(t))},Lr.without=ns,Lr.words=Ga,Lr.wrap=function(t,e){return Ns(fi(e),t)},Lr.xor=is,Lr.xorBy=os,Lr.xorWith=ss,Lr.zip=as,Lr.zipObject=function(t,e){return hi(t||[],e||[],Yr)},Lr.zipObjectDeep=function(t,e){return hi(t||[],e||[],Gn)},Lr.zipWith=cs,Lr.entries=La,Lr.entriesIn=Ba,Lr.extend=ma,Lr.extendWith=ba,ic(Lr,Lr),Lr.add=pc,Lr.attempt=Za,Lr.camelCase=ja,Lr.capitalize=Ua,Lr.ceil=gc,Lr.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=fa(n))==n?n:0),e!==r&&(e=(e=fa(e))==e?e:0),rn(fa(t),e,n)},Lr.clone=function(t){return nn(t,4)},Lr.cloneDeep=function(t){return nn(t,5)},Lr.cloneDeepWith=function(t,e){return nn(t,5,e="function"==typeof e?e:r)},Lr.cloneWith=function(t,e){return nn(t,4,e="function"==typeof e?e:r)},Lr.conformsTo=function(t,e){return null==e||on(t,e,Ta(e))},Lr.deburr=za,Lr.defaultTo=function(t,e){return null==t||t!=t?e:t},Lr.divide=yc,Lr.endsWith=function(t,e,n){t=ga(t),e=ii(e);var i=t.length,o=n=n===r?i:rn(ha(n),0,i);return(n-=e.length)>=0&&t.slice(n,o)==e},Lr.eq=Ds,Lr.escape=function(t){return(t=ga(t))&&V.test(t)?t.replace(q,Qe):t},Lr.escapeRegExp=function(t){return(t=ga(t))&&tt.test(t)?t.replace(Q,"\\$&"):t},Lr.every=function(t,e,n){var i=Fs(t)?xe:ln;return n&&go(t,e,n)&&(e=r),i(t,no(e,3))},Lr.find=fs,Lr.findIndex=zo,Lr.findKey=function(t,e){return Le(t,no(e,3),yn)},Lr.findLast=ps,Lr.findLastIndex=Fo,Lr.findLastKey=function(t,e){return Le(t,no(e,3),mn)},Lr.floor=mc,Lr.forEach=gs,Lr.forEachRight=ys,Lr.forIn=function(t,e){return null==t?t:pn(t,no(e,3),Ca)},Lr.forInRight=function(t,e){return null==t?t:gn(t,no(e,3),Ca)},Lr.forOwn=function(t,e){return t&&yn(t,no(e,3))},Lr.forOwnRight=function(t,e){return t&&mn(t,no(e,3))},Lr.get=Sa,Lr.gt=js,Lr.gte=Us,Lr.has=function(t,e){return null!=t&&lo(t,e,Sn)},Lr.hasIn=ka,Lr.head=$o,Lr.identity=tc,Lr.includes=function(t,e,r,n){t=$s(t)?t:Da(t),r=r&&!n?ha(r):0;var i=t.length;return r<0&&(r=fr(i+r,0)),ia(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&De(t,e,r)>-1},Lr.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:ha(r);return i<0&&(i=fr(n+i,0)),De(t,e,i)},Lr.inRange=function(t,e,n){return e=la(e),n===r?(n=e,e=0):n=la(n),function(t,e,r){return t>=pr(e,r)&&t<fr(e,r)}(t=fa(t),e,n)},Lr.invoke=Ia,Lr.isArguments=zs,Lr.isArray=Fs,Lr.isArrayBuffer=Ws,Lr.isArrayLike=$s,Lr.isArrayLikeObject=qs,Lr.isBoolean=function(t){return!0===t||!1===t||Xs(t)&&_n(t)==g},Lr.isBuffer=Hs,Lr.isDate=Vs,Lr.isElement=function(t){return Xs(t)&&1===t.nodeType&&!ea(t)},Lr.isEmpty=function(t){if(null==t)return!0;if($s(t)&&(Fs(t)||"string"==typeof t||"function"==typeof t.splice||Hs(t)||sa(t)||zs(t)))return!t.length;var e=uo(t);if(e==v||e==x)return!t.size;if(wo(t))return!Rn(t).length;for(var r in t)if(Rt.call(t,r))return!1;return!0},Lr.isEqual=function(t,e){return Tn(t,e)},Lr.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:r)?n(t,e):r;return i===r?Tn(t,e,r,n):!!i},Lr.isError=Ks,Lr.isFinite=function(t){return"number"==typeof t&&We(t)},Lr.isFunction=Gs,Lr.isInteger=Zs,Lr.isLength=Ys,Lr.isMap=Qs,Lr.isMatch=function(t,e){return t===e||Cn(t,e,oo(e))},Lr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,Cn(t,e,oo(e),n)},Lr.isNaN=function(t){return ta(t)&&t!=+t},Lr.isNative=function(t){if(bo(t))throw new vt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return On(t)},Lr.isNil=function(t){return null==t},Lr.isNull=function(t){return null===t},Lr.isNumber=ta,Lr.isObject=Js,Lr.isObjectLike=Xs,Lr.isPlainObject=ea,Lr.isRegExp=ra,Lr.isSafeInteger=function(t){return Zs(t)&&t>=-u&&t<=u},Lr.isSet=na,Lr.isString=ia,Lr.isSymbol=oa,Lr.isTypedArray=sa,Lr.isUndefined=function(t){return t===r},Lr.isWeakMap=function(t){return Xs(t)&&uo(t)==T},Lr.isWeakSet=function(t){return Xs(t)&&"[object WeakSet]"==_n(t)},Lr.join=function(t,e){return null==t?"":hr.call(t,e)},Lr.kebabCase=Fa,Lr.last=Ko,Lr.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i;return n!==r&&(o=(o=ha(n))<0?fr(i+o,0):pr(o,i-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,o):Be(t,Ue,o,!0)},Lr.lowerCase=Wa,Lr.lowerFirst=$a,Lr.lt=aa,Lr.lte=ca,Lr.max=function(t){return t&&t.length?hn(t,tc,En):r},Lr.maxBy=function(t,e){return t&&t.length?hn(t,no(e,2),En):r},Lr.mean=function(t){return ze(t,tc)},Lr.meanBy=function(t,e){return ze(t,no(e,2))},Lr.min=function(t){return t&&t.length?hn(t,tc,Mn):r},Lr.minBy=function(t,e){return t&&t.length?hn(t,no(e,2),Mn):r},Lr.stubArray=dc,Lr.stubFalse=fc,Lr.stubObject=function(){return{}},Lr.stubString=function(){return""},Lr.stubTrue=function(){return!0},Lr.multiply=bc,Lr.nth=function(t,e){return t&&t.length?jn(t,ha(e)):r},Lr.noConflict=function(){return ue._===this&&(ue._=Dt),this},Lr.noop=oc,Lr.now=Ss,Lr.pad=function(t,e,r){t=ga(t);var n=(e=ha(e))?sr(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return Ui(fe(i),r)+t+Ui(he(i),r)},Lr.padEnd=function(t,e,r){t=ga(t);var n=(e=ha(e))?sr(t):0;return e&&n<e?t+Ui(e-n,r):t},Lr.padStart=function(t,e,r){t=ga(t);var n=(e=ha(e))?sr(t):0;return e&&n<e?Ui(e-n,r)+t:t},Lr.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),yr(ga(t).replace(et,""),e||0)},Lr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&go(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=la(t),e===r?(e=t,t=0):e=la(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var o=mr();return pr(t+o*(e-t+oe("1e-"+((o+"").length-1))),e)}return $n(t,e)},Lr.reduce=function(t,e,r){var n=Fs(t)?Pe:$e,i=arguments.length<3;return n(t,no(e,4),r,i,cn)},Lr.reduceRight=function(t,e,r){var n=Fs(t)?Re:$e,i=arguments.length<3;return n(t,no(e,4),r,i,un)},Lr.repeat=function(t,e,n){return e=(n?go(t,e,n):e===r)?1:ha(e),qn(ga(t),e)},Lr.replace=function(){var t=arguments,e=ga(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Lr.result=function(t,e,n){var i=-1,o=(e=pi(e,t)).length;for(o||(o=1,t=r);++i<o;){var s=null==t?r:t[No(e[i])];s===r&&(i=o,s=n),t=Gs(s)?s.call(t):s}return t},Lr.round=wc,Lr.runInContext=t,Lr.sample=function(t){return(Fs(t)?Vr:Vn)(t)},Lr.size=function(t){if(null==t)return 0;if($s(t))return ia(t)?sr(t):t.length;var e=uo(t);return e==v||e==x?t.size:Rn(t).length},Lr.snakeCase=qa,Lr.some=function(t,e,n){var i=Fs(t)?Me:Qn;return n&&go(t,e,n)&&(e=r),i(t,no(e,3))},Lr.sortedIndex=function(t,e){return ti(t,e)},Lr.sortedIndexBy=function(t,e,r){return ei(t,e,no(r,2))},Lr.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=ti(t,e);if(n<r&&Ds(t[n],e))return n}return-1},Lr.sortedLastIndex=function(t,e){return ti(t,e,!0)},Lr.sortedLastIndexBy=function(t,e,r){return ei(t,e,no(r,2),!0)},Lr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var r=ti(t,e,!0)-1;if(Ds(t[r],e))return r}return-1},Lr.startCase=Ha,Lr.startsWith=function(t,e,r){return t=ga(t),r=null==r?0:rn(ha(r),0,t.length),e=ii(e),t.slice(r,r+e.length)==e},Lr.subtract=vc,Lr.sum=function(t){return t&&t.length?qe(t,tc):0},Lr.sumBy=function(t,e){return t&&t.length?qe(t,no(e,2)):0},Lr.template=function(t,e,n){var i=Lr.templateSettings;n&&go(t,e,n)&&(e=r),t=ga(t),e=ba({},e,i,Ki);var o,s,a=ba({},e.imports,i.imports,Ki),c=Ta(a),u=Ge(a,c),l=0,h=e.interpolate||mt,d="__p += '",f=kt((e.escape||mt).source+"|"+h.source+"|"+(h===Z?ut:mt).source+"|"+(e.evaluate||mt).source+"|$","g"),p="//# sourceURL="+(Rt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ee+"]")+"\n";t.replace(f,(function(e,r,n,i,a,c){return n||(n=i),d+=t.slice(l,c).replace(bt,tr),r&&(o=!0,d+="' +\n__e("+r+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=c+e.length,e})),d+="';\n";var g=Rt.call(e,"variable")&&e.variable;if(g){if(at.test(g))throw new vt("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(z,""):d).replace(F,"$1").replace(W,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var y=Za((function(){return _t(c,p+"return "+d).apply(r,u)}));if(y.source=d,Ks(y))throw y;return y},Lr.times=function(t,e){if((t=ha(t))<1||t>u)return[];var r=h,n=pr(t,h);e=no(e),t-=h;for(var i=He(n,e);++r<t;)e(r);return i},Lr.toFinite=la,Lr.toInteger=ha,Lr.toLength=da,Lr.toLower=function(t){return ga(t).toLowerCase()},Lr.toNumber=fa,Lr.toSafeInteger=function(t){return t?rn(ha(t),-u,u):0===t?t:0},Lr.toString=ga,Lr.toUpper=function(t){return ga(t).toUpperCase()},Lr.trim=function(t,e,n){if((t=ga(t))&&(n||e===r))return Ve(t);if(!t||!(e=ii(e)))return t;var i=ar(t),o=ar(e);return yi(i,Ye(i,o),Je(i,o)+1).join("")},Lr.trimEnd=function(t,e,n){if((t=ga(t))&&(n||e===r))return t.slice(0,cr(t)+1);if(!t||!(e=ii(e)))return t;var i=ar(t);return yi(i,0,Je(i,ar(e))+1).join("")},Lr.trimStart=function(t,e,n){if((t=ga(t))&&(n||e===r))return t.replace(et,"");if(!t||!(e=ii(e)))return t;var i=ar(t);return yi(i,Ye(i,ar(e))).join("")},Lr.truncate=function(t,e){var n=30,i="...";if(Js(e)){var o="separator"in e?e.separator:o;n="length"in e?ha(e.length):n,i="omission"in e?ii(e.omission):i}var s=(t=ga(t)).length;if(er(t)){var a=ar(t);s=a.length}if(n>=s)return t;var c=n-sr(i);if(c<1)return i;var u=a?yi(a,0,c).join(""):t.slice(0,c);if(o===r)return u+i;if(a&&(c+=u.length-c),ra(o)){if(t.slice(c).search(o)){var l,h=u;for(o.global||(o=kt(o.source,ga(lt.exec(o))+"g")),o.lastIndex=0;l=o.exec(h);)var d=l.index;u=u.slice(0,d===r?c:d)}}else if(t.indexOf(ii(o),c)!=c){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+i},Lr.unescape=function(t){return(t=ga(t))&&H.test(t)?t.replace($,ur):t},Lr.uniqueId=function(t){var e=++Mt;return ga(t)+e},Lr.upperCase=Va,Lr.upperFirst=Ka,Lr.each=gs,Lr.eachRight=ys,Lr.first=$o,ic(Lr,function(){var t={};return yn(Lr,(function(e,r){Rt.call(Lr.prototype,r)||(t[r]=e)})),t}(),{chain:!1}),Lr.VERSION="4.17.21",Se(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Lr[t].placeholder=Lr})),Se(["drop","take"],(function(t,e){Ur.prototype[t]=function(n){n=n===r?1:fr(ha(n),0);var i=this.__filtered__&&!e?new Ur(this):this.clone();return i.__filtered__?i.__takeCount__=pr(n,i.__takeCount__):i.__views__.push({size:pr(n,h),type:t+(i.__dir__<0?"Right":"")}),i},Ur.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Se(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;Ur.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:no(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),Se(["head","last"],(function(t,e){var r="take"+(e?"Right":"");Ur.prototype[t]=function(){return this[r](1).value()[0]}})),Se(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");Ur.prototype[t]=function(){return this.__filtered__?new Ur(this):this[r](1)}})),Ur.prototype.compact=function(){return this.filter(tc)},Ur.prototype.find=function(t){return this.filter(t).head()},Ur.prototype.findLast=function(t){return this.reverse().find(t)},Ur.prototype.invokeMap=Hn((function(t,e){return"function"==typeof t?new Ur(this):this.map((function(r){return An(r,t,e)}))})),Ur.prototype.reject=function(t){return this.filter(Rs(no(t)))},Ur.prototype.slice=function(t,e){t=ha(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Ur(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=ha(e))<0?n.dropRight(-e):n.take(e-t)),n)},Ur.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Ur.prototype.toArray=function(){return this.take(h)},yn(Ur.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=Lr[i?"take"+("last"==e?"Right":""):e],s=i||/^find/.test(e);o&&(Lr.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,c=e instanceof Ur,u=a[0],l=c||Fs(e),h=function(t){var e=o.apply(Lr,Oe([t],a));return i&&d?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var d=this.__chain__,f=!!this.__actions__.length,p=s&&!d,g=c&&!f;if(!s&&l){e=g?e:new Ur(this);var y=t.apply(e,a);return y.__actions__.push({func:ls,args:[h],thisArg:r}),new jr(y,d)}return p&&g?t.apply(this,a):(y=this.thru(h),p?i?y.value()[0]:y.value():y)})})),Se(["pop","push","shift","sort","splice","unshift"],(function(t){var e=It[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Lr.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(Fs(i)?i:[],t)}return this[r]((function(r){return e.apply(Fs(r)?r:[],t)}))}})),yn(Ur.prototype,(function(t,e){var r=Lr[e];if(r){var n=r.name+"";Rt.call(Ar,n)||(Ar[n]=[]),Ar[n].push({name:e,func:r})}})),Ar[Li(r,2).name]=[{name:"wrapper",func:r}],Ur.prototype.clone=function(){var t=new Ur(this.__wrapped__);return t.__actions__=ki(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ki(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ki(this.__views__),t},Ur.prototype.reverse=function(){if(this.__filtered__){var t=new Ur(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Ur.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=Fs(t),n=e<0,i=r?t.length:0,o=function(t,e,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=pr(e,t+s);break;case"takeRight":t=fr(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,c=a-s,u=n?a:s-1,l=this.__iteratees__,h=l.length,d=0,f=pr(c,this.__takeCount__);if(!r||!n&&i==c&&f==c)return ui(t,this.__actions__);var p=[];t:for(;c--&&d<f;){for(var g=-1,y=t[u+=e];++g<h;){var m=l[g],b=m.iteratee,w=m.type,v=b(y);if(2==w)y=v;else if(!v){if(1==w)continue t;break t}}p[d++]=y}return p},Lr.prototype.at=hs,Lr.prototype.chain=function(){return us(this)},Lr.prototype.commit=function(){return new jr(this.value(),this.__chain__)},Lr.prototype.next=function(){this.__values__===r&&(this.__values__=ua(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},Lr.prototype.plant=function(t){for(var e,n=this;n instanceof Dr;){var i=Bo(n);i.__index__=0,i.__values__=r,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e},Lr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Ur){var e=t;return this.__actions__.length&&(e=new Ur(this)),(e=e.reverse()).__actions__.push({func:ls,args:[Jo],thisArg:r}),new jr(e,this.__chain__)}return this.thru(Jo)},Lr.prototype.toJSON=Lr.prototype.valueOf=Lr.prototype.value=function(){return ui(this.__wrapped__,this.__actions__)},Lr.prototype.first=Lr.prototype.head,Yt&&(Lr.prototype[Yt]=function(){return this}),Lr}();he?((he.exports=lr)._=lr,le._=lr):ue._=lr}).call(Fc)}(Wc,Wc.exports);var $c=Object.defineProperty,qc=Object.defineProperties,Hc=Object.getOwnPropertyDescriptors,Vc=Object.getOwnPropertySymbols,Kc=Object.prototype.hasOwnProperty,Gc=Object.prototype.propertyIsEnumerable,Zc=(t,e,r)=>e in t?$c(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Yc=(t,e)=>{for(var r in e||(e={}))Kc.call(e,r)&&Zc(t,r,e[r]);if(Vc)for(var r of Vc(e))Gc.call(e,r)&&Zc(t,r,e[r]);return t},Jc=(t,e)=>qc(t,Hc(e));function Xc(t,e,r){var n;const i=function(t){const[e,r]=t.split(Sn);return{namespace:e,reference:r}}(t);return(null==(n=e.rpcMap)?void 0:n[i.reference])||`https://rpc.walletconnect.com/v1/?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function Qc(t){return t.includes(":")?t.split(":")[1]:t}function tu(t){return t.map((t=>`${t.split(":")[0]}:${t.split(":")[1]}`))}function eu(t){var e,r,n,i;const o={};if(!Si(t))return o;for(const[s,a]of Object.entries(t)){const t=yi(s)?[s]:a.chains,c=a.methods||[],u=a.events||[],l=a.rpcMap||{},h=mi(s);o[h]=Jc(Yc(Yc({},o[h]),a),{chains:oi(t,null==(e=o[h])?void 0:e.chains),methods:oi(c,null==(r=o[h])?void 0:r.methods),events:oi(u,null==(n=o[h])?void 0:n.events),rpcMap:Yc(Yc({},l),null==(i=o[h])?void 0:i.rpcMap)})}return o}function ru(t){return t.includes(":")?t.split(":")[2]:t}function nu(t){const e={};for(const[r,n]of Object.entries(t)){const t=n.methods||[],i=n.events||[],o=n.accounts||[],s=yi(r)?[r]:n.chains?n.chains:tu(n.accounts);e[r]={chains:s,methods:t,events:i,accounts:o}}return e}function iu(t){return"number"==typeof t?t:t.includes("0x")?parseInt(t,16):t.includes(":")?Number(t.split(":")[1]):Number(t)}const ou={},su=t=>ou[t],au=(t,e)=>{ou[t]=e};class cu{constructor(t){this.name="polkadot",this.namespace=t.namespace,this.events=su("events"),this.client=su("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(zc,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t&&t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2]))||[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const n=Qc(e);t[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||Xc(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new ho(new Dc(r,su("disableProviderPing")))}}class uu{constructor(t){this.name="eip155",this.namespace=t.namespace,this.events=su("events"),this.client=su("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(parseInt(t),e),this.chainId=parseInt(t),this.events.emit(zc,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,e){const r=e||Xc(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new ho(new Bc(r,su("disableProviderPing")))}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const n=parseInt(Qc(e));t[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}getHttpProvider(){const t=this.chainId,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}async handleSwitchChain(t){var e,r;let n=t.request.params?null==(e=t.request.params[0])?void 0:e.chainId:"0x0";n=n.startsWith("0x")?n:`0x${n}`;const i=parseInt(n,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else{if(!this.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:n}]},chainId:null==(r=this.namespace.chains)?void 0:r[0]}),this.setDefaultChain(`${i}`)}return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}}class lu{constructor(t){this.name="solana",this.namespace=t.namespace,this.events=su("events"),this.client=su("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(zc,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const n=Qc(e);t[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||Xc(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new ho(new Dc(r,su("disableProviderPing")))}}class hu{constructor(t){this.name="cosmos",this.namespace=t.namespace,this.events=su("events"),this.client=su("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(zc,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const n=Qc(e);t[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||Xc(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new ho(new Dc(r,su("disableProviderPing")))}}class du{constructor(t){this.name="cip34",this.namespace=t.namespace,this.events=su("events"),this.client=su("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(zc,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{const r=this.getCardanoRPCUrl(e),n=Qc(e);t[n]=this.createHttpProvider(n,r)})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}getCardanoRPCUrl(t){const e=this.namespace.rpcMap;if(e)return e[t]}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||this.getCardanoRPCUrl(t);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new ho(new Dc(r,su("disableProviderPing")))}}class fu{constructor(t){this.name="elrond",this.namespace=t.namespace,this.events=su("events"),this.client=su("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(zc,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const n=Qc(e);t[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||Xc(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new ho(new Dc(r,su("disableProviderPing")))}}class pu{constructor(t){this.name="multiversx",this.namespace=t.namespace,this.events=su("events"),this.client=su("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(zc,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const n=Qc(e);t[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||Xc(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new ho(new Dc(r,su("disableProviderPing")))}}var gu=Object.defineProperty,yu=Object.defineProperties,mu=Object.getOwnPropertyDescriptors,bu=Object.getOwnPropertySymbols,wu=Object.prototype.hasOwnProperty,vu=Object.prototype.propertyIsEnumerable,_u=(t,e,r)=>e in t?gu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Eu=(t,e)=>{for(var r in e||(e={}))wu.call(e,r)&&_u(t,r,e[r]);if(bu)for(var r of bu(e))vu.call(e,r)&&_u(t,r,e[r]);return t},Su=(t,e)=>yu(t,mu(e));class ku{constructor(t){this.events=new(wt()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=t,this.logger=typeof t?.logger<"u"&&"string"!=typeof t?.logger?t.logger:(0,jr.pino)((0,jr.getDefaultLoggerOptions)({level:t?.logger||jc})),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){const e=new ku(t);return await e.initialize(),e}async request(t,e){const[r,n]=this.validateChain(e);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(r).request({request:Eu({},t),chainId:`${r}:${n}`,topic:this.session.topic})}sendAsync(t,e,r){this.request(t,r).then((t=>e(null,t))).catch((t=>e(t,void 0)))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(t=this.session)?void 0:t.topic,reason:_i("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}removeListener(t,e){this.events.removeListener(t,e)}off(t,e){this.events.off(t,e)}get isWalletConnect(){return!0}async pair(t){this.shouldAbortPairingAttempt=!1;let e=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(e>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:r,approval:n}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});r&&(this.uri=r,this.events.emit("display_uri",r)),await n().then((t=>{this.session=t,this.namespaces||(this.namespaces=nu(t.namespaces),this.persist("namespaces",this.namespaces))})).catch((t=>{if(t.message!==dc)throw t;e++}))}while(!this.session);return this.onConnect(),this.session}setDefaultChain(t,e){try{if(!this.session)return;const[r,n]=this.validateChain(t);this.getProvider(r).setDefaultChain(n,e)}catch(t){if(!/Please call connect/.test(t.message))throw t}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const e=this.client.pairing.getAll();if(Ei(e)){for(const r of e)t.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${e.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const t=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[t]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await Rc.init({logger:this.providerOpts.logger||jc,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map((t=>mi(t))))];au("client",this.client),au("events",this.events),au("disableProviderPing",this.disableProviderPing),t.forEach((t=>{if(!this.session)return;const e=function(t,e){const r=Object.keys(e.namespaces).filter((e=>e.includes(t)));if(!r.length)return[];const n=[];return r.forEach((t=>{const r=e.namespaces[t].accounts;n.push(...r)})),n}(t,this.session),r=tu(e),n=function(t={},e={}){const r=eu(t),n=eu(e);return Wc.exports.merge(r,n)}(this.namespaces,this.optionalNamespaces),i=Su(Eu({},n[t]),{accounts:e,chains:r});switch(t){case"eip155":this.rpcProviders[t]=new uu({namespace:i});break;case"solana":this.rpcProviders[t]=new lu({namespace:i});break;case"cosmos":this.rpcProviders[t]=new hu({namespace:i});break;case"polkadot":this.rpcProviders[t]=new cu({namespace:i});break;case"cip34":this.rpcProviders[t]=new du({namespace:i});break;case"elrond":this.rpcProviders[t]=new fu({namespace:i});break;case"multiversx":this.rpcProviders[t]=new pu({namespace:i})}}))}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",(t=>{this.events.emit("session_ping",t)})),this.client.on("session_event",(t=>{const{params:e}=t,{event:r}=e;if("accountsChanged"===r.name){const t=r.data;t&&Ei(t)&&this.events.emit("accountsChanged",t.map(ru))}else if("chainChanged"===r.name){const t=e.chainId,r=e.event.data,n=mi(t),i=iu(t)!==iu(r)?`${n}:${iu(r)}`:t;this.onChainChanged(i)}else this.events.emit(r.name,r.data);this.events.emit("session_event",t)})),this.client.on("session_update",(({topic:t,params:e})=>{var r;const{namespaces:n}=e,i=null==(r=this.client)?void 0:r.session.get(t);this.session=Su(Eu({},i),{namespaces:n}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:e})})),this.client.on("session_delete",(async t=>{await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",Su(Eu({},_i("USER_DISCONNECTED")),{data:t.topic}))})),this.on(zc,(t=>{this.onChainChanged(t,!0)}))}getProvider(t){if(!this.rpcProviders[t])throw new Error(`Provider not found: ${t}`);return this.rpcProviders[t]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach((t=>{var e;this.getProvider(t).updateNamespace(null==(e=this.session)?void 0:e.namespaces[t])}))}setNamespaces(t){const{namespaces:e,optionalNamespaces:r,sessionProperties:n}=t;e&&Object.keys(e).length&&(this.namespaces=e),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=n,this.persist("namespaces",e),this.persist("optionalNamespaces",r)}validateChain(t){const[e,r]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[e,r];if(e&&!Object.keys(this.namespaces||{}).map((t=>mi(t))).includes(e))throw new Error(`Namespace '${e}' is not configured. Please call connect() first with namespace config.`);if(e&&r)return[e,r];const n=mi(Object.keys(this.namespaces)[0]);return[n,this.rpcProviders[n].getDefaultChain()]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}onChainChanged(t,e=!1){var r;if(!this.namespaces)return;const[n,i]=this.validateChain(t);e||this.getProvider(n).setDefaultChain(i),(null!=(r=this.namespaces[n])?r:this.namespaces[`${n}:${i}`]).defaultChain=i,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",i)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(t,e){this.client.core.storage.setItem(`${Uc}/${t}`,e)}async getFromStore(t){return await this.client.core.storage.getItem(`${Uc}/${t}`)}}const xu=ku,Au=["eth_sendTransaction","personal_sign"],Iu=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],Tu=["chainChanged","accountsChanged"],Cu=["chainChanged","accountsChanged","message","disconnect","connect"];var Ou=Object.defineProperty,Pu=Object.defineProperties,Ru=Object.getOwnPropertyDescriptors,Mu=Object.getOwnPropertySymbols,Nu=Object.prototype.hasOwnProperty,Lu=Object.prototype.propertyIsEnumerable,Bu=(t,e,r)=>e in t?Ou(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Du=(t,e)=>{for(var r in e||(e={}))Nu.call(e,r)&&Bu(t,r,e[r]);if(Mu)for(var r of Mu(e))Lu.call(e,r)&&Bu(t,r,e[r]);return t},ju=(t,e)=>Pu(t,Ru(e));function Uu(t){return Number(t[0].split(":")[1])}function zu(t){return`0x${t.toString(16)}`}class Fu{constructor(){this.events=new bt.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(t,e)=>(this.events.on(t,e),this),this.once=(t,e)=>(this.events.once(t,e),this),this.removeListener=(t,e)=>(this.events.removeListener(t,e),this),this.off=(t,e)=>(this.events.off(t,e),this),this.parseAccount=t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t,this.signer={},this.rpc={}}static async init(t){const e=new Fu;return await e.initialize(t),e}async request(t){return await this.signer.request(t,this.formatChainId(this.chainId))}sendAsync(t,e){this.signer.sendAsync(t,e,this.formatChainId(this.chainId))}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);const{required:e,optional:r}=function(t){const{chains:e,optionalChains:r,methods:n,optionalMethods:i,events:o,optionalEvents:s,rpcMap:a}=t;if(!or(e))throw new Error("Invalid chains");const c={chains:e,methods:n||Au,events:o||Tu,rpcMap:Du({},e.length?{[Uu(e)]:a[Uu(e)]}:{})},u=o?.filter((t=>!Tu.includes(t))),l=n?.filter((t=>!Au.includes(t)));if(!(r||s||i||null!=u&&u.length||null!=l&&l.length))return{required:e.length?c:void 0};const h={chains:[...new Set(u?.length&&l?.length||!r?c.chains.concat(r||[]):r)],methods:[...new Set(c.methods.concat(null!=i&&i.length?i:Iu))],events:[...new Set(c.events.concat(null!=s&&s.length?s:Cu))],rpcMap:a};return{required:e.length?c:void 0,optional:r.length?h:void 0}}(this.rpc);try{const n=await new Promise((async(n,i)=>{var o;this.rpc.showQrModal&&(null==(o=this.modal)||o.subscribeModal((t=>{!t.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),i(new Error("Connection request reset. Please try again.")))}))),await this.signer.connect(ju(Du({namespaces:Du({},e&&{[this.namespace]:e})},r&&{optionalNamespaces:{[this.namespace]:r}}),{pairingTopic:t?.pairingTopic})).then((t=>{n(t)})).catch((t=>{i(new Error(t.message))}))}));if(!n)return;const i=function(t,e=[]){const r=[];return Object.keys(t).forEach((n=>{if(e.length&&!e.includes(n))return;const i=t[n];r.push(...i.accounts)})),r}(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:i),this.setAccounts(i),this.events.emit("connect",{chainId:zu(this.chainId)})}catch(t){throw this.signer.logger.error(t),t}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",(t=>{const{params:e}=t,{event:r}=e;"accountsChanged"===r.name?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===r.name?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",t)})),this.signer.on("chainChanged",(t=>{const e=parseInt(t);this.chainId=e,this.events.emit("chainChanged",zu(this.chainId)),this.persist()})),this.signer.on("session_update",(t=>{this.events.emit("session_update",t)})),this.signer.on("session_delete",(t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",ju(Du({},function(t,e){const{message:r,code:n}=ir[t];return{message:e?`${r} ${e}`:r,code:n}}("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))})),this.signer.on("display_uri",(t=>{var e,r;this.rpc.showQrModal&&(null==(e=this.modal)||e.closeModal(),null==(r=this.modal)||r.openModal({uri:t})),this.events.emit("display_uri",t)}))}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return"string"==typeof t&&t.startsWith(`${this.namespace}:`)}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){const e=t.filter((t=>this.isCompatibleChainId(t))).map((t=>this.parseChainId(t)));e.length&&(this.chainId=e[0],this.events.emit("chainChanged",zu(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const e=this.parseChainId(t);this.chainId=e,this.switchEthereumChain(e)}}parseAccountId(t){const[e,r,n]=t.split(":");return{chainId:`${e}:${r}`,address:n}}setAccounts(t){this.accounts=t.filter((t=>this.parseChainId(this.parseAccountId(t).chainId)===this.chainId)).map((t=>this.parseAccountId(t).address)),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var e,r;const n=null!=(e=t?.chains)?e:[],i=null!=(r=t?.optionalChains)?r:[],o=n.concat(i);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const s=n.length?t?.methods||Au:[],a=n.length?t?.events||Tu:[],c=t?.optionalMethods||[],u=t?.optionalEvents||[],l=t?.rpcMap||this.buildRpcMap(o,t.projectId),h=t?.qrModalOptions||void 0;return{chains:n?.map((t=>this.formatChainId(t))),optionalChains:i.map((t=>this.formatChainId(t))),methods:s,events:a,optionalMethods:c,optionalEvents:u,rpcMap:l,showQrModal:!(null==t||!t.showQrModal),qrModalOptions:h,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,e){const r={};return t.forEach((t=>{r[t]=this.getRpcUrl(t,e)})),r}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?Uu(this.rpc.chains):Uu(this.rpc.optionalChains),this.signer=await xu.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let t;try{const{WalletConnectModal:e}=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,9343));t=e}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(t)try{this.modal=new t(Du({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains},this.rpc.qrModalOptions))}catch(t){throw this.signer.logger.error(t),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;const{chains:e,optionalChains:r,rpcMap:n}=t;e&&or(e)&&(this.rpc.chains=e.map((t=>this.formatChainId(t))),e.forEach((t=>{this.rpc.rpcMap[t]=n?.[t]||this.getRpcUrl(t)}))),r&&or(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map((t=>this.formatChainId(t))),r.forEach((t=>{this.rpc.rpcMap[t]=n?.[t]||this.getRpcUrl(t)})))}getRpcUrl(t,e){var r;return(null==(r=this.rpc.rpcMap)?void 0:r[t])||`https://rpc.walletconnect.com/v1/?chainId=eip155:${t}&projectId=${e||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),e=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:e?.accounts),this.setAccounts(e?.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return"string"==typeof t||t instanceof String?[this.parseAccount(t)]:t.map((t=>this.parseAccount(t)))}}const Wu=Fu;class $u extends ot{constructor(){super(tt.WalletConnect)}getRPCMap(){return this.netWorkService.getAll().reduce(((t,e)=>(t[e.id]=e.networkParams.defaultRpcUrl,t)),{})}async connect(t){console.log("WalletConnectWalletService::connect connect to wallet from widget");const e=await Wu.init({rpcMap:this.getRPCMap(),projectId:b.walletConnectProjectId,optionalChains:this.netWorkService.getAll().filter((t=>t.type==S.EVM)).map((t=>t.id)),showQrModal:!0,chains:[1],methods:["eth_sendTransaction"],optionalMethods:["eth_signTypedData","eth_signTypedData_v4","wallet_switchEthereumChain","wallet_requestPermissions","wallet_addEthereumChain"],optionalEvents:["accountsChanged"],qrModalOptions:{explorerExcludedWalletIds:["c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96"]}});e.on("disconnect",(()=>{this.disconnect$.next()}));try{console.log("WalletConnectWalletService::connect try enable"),await e.enable()}catch(t){throw new st(et.CONNECT_ERROR)}console.log("WalletConnectWalletService::connect set provider"),this.setProvider(e),await this.getAccount()}async disconnect(){this.provider&&await this.provider.disconnect(),this.setProvider(null)}}var qu=__webpack_require__(6714),Hu=__webpack_require__(3550),Vu=__webpack_require__.n(Hu),Ku=__webpack_require__(7191),Gu=__webpack_require__.n(Ku),Zu=__webpack_require__(3204),Yu=__webpack_require__.n(Zu),Ju=__webpack_require__(5970),Xu=__webpack_require__(7748);function Qu(t){let e=t.length;for(;--e>=0;)t[e]=0}const tl=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),el=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),rl=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),nl=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),il=new Array(576);Qu(il);const ol=new Array(60);Qu(ol);const sl=new Array(512);Qu(sl);const al=new Array(256);Qu(al);const cl=new Array(29);Qu(cl);const ul=new Array(30);function ll(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let hl,dl,fl;function pl(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}Qu(ul);const gl=t=>t<256?sl[t]:sl[256+(t>>>7)],yl=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},ml=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,yl(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},bl=(t,e,r)=>{ml(t,r[2*e],r[2*e+1])},wl=(t,e)=>{let r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},vl=(t,e,r)=>{const n=new Array(16);let i,o,s=0;for(i=1;i<=15;i++)s=s+r[i-1]<<1,n[i]=s;for(o=0;o<=e;o++){let e=t[2*o+1];0!==e&&(t[2*o]=wl(n[e]++,e))}},_l=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},El=t=>{t.bi_valid>8?yl(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Sl=(t,e,r,n)=>{const i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]},kl=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&Sl(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!Sl(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},xl=(t,e,r)=>{let n,i,o,s,a=0;if(0!==t.sym_next)do{n=255&t.pending_buf[t.sym_buf+a++],n+=(255&t.pending_buf[t.sym_buf+a++])<<8,i=t.pending_buf[t.sym_buf+a++],0===n?bl(t,i,e):(o=al[i],bl(t,o+256+1,e),s=tl[o],0!==s&&(i-=cl[o],ml(t,i,s)),n--,o=gl(n),bl(t,o,r),s=el[o],0!==s&&(n-=ul[o],ml(t,n,s)))}while(a<t.sym_next);bl(t,256,e)},Al=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,a,c,u=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<o;s++)0!==r[2*s]?(t.heap[++t.heap_len]=u=s,t.depth[s]=0):r[2*s+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=u<2?++u:0,r[2*c]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=n[2*c+1]);for(e.max_code=u,s=t.heap_len>>1;s>=1;s--)kl(t,r,s);c=o;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],kl(t,r,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,r[2*c]=r[2*s]+r[2*a],t.depth[c]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,r[2*s+1]=r[2*a+1]=c,t.heap[1]=c++,kl(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,c=e.stat_desc.max_length;let u,l,h,d,f,p,g=0;for(d=0;d<=15;d++)t.bl_count[d]=0;for(r[2*t.heap[t.heap_max]+1]=0,u=t.heap_max+1;u<573;u++)l=t.heap[u],d=r[2*r[2*l+1]+1]+1,d>c&&(d=c,g++),r[2*l+1]=d,l>n||(t.bl_count[d]++,f=0,l>=a&&(f=s[l-a]),p=r[2*l],t.opt_len+=p*(d+f),o&&(t.static_len+=p*(i[2*l+1]+f)));if(0!==g){do{for(d=c-1;0===t.bl_count[d];)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[c]--,g-=2}while(g>0);for(d=c;0!==d;d--)for(l=t.bl_count[d];0!==l;)h=t.heap[--u],h>n||(r[2*h+1]!==d&&(t.opt_len+=(d-r[2*h+1])*r[2*h],r[2*h+1]=d),l--)}})(t,e),vl(r,u,t.bl_count)},Il=(t,e,r)=>{let n,i,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=e[2*(n+1)+1],++a<c&&i===s||(a<u?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))},Tl=(t,e,r)=>{let n,i,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),n=0;n<=r;n++)if(i=s,s=e[2*(n+1)+1],!(++a<c&&i===s)){if(a<u)do{bl(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(bl(t,i,t.bl_tree),a--),bl(t,16,t.bl_tree),ml(t,a-3,2)):a<=10?(bl(t,17,t.bl_tree),ml(t,a-3,3)):(bl(t,18,t.bl_tree),ml(t,a-11,7));a=0,o=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}};let Cl=!1;const Ol=(t,e,r,n)=>{ml(t,0+(n?1:0),3),El(t),yl(t,r),yl(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r};var Pl={_tr_init:t=>{Cl||((()=>{let t,e,r,n,i;const o=new Array(16);for(r=0,n=0;n<28;n++)for(cl[n]=r,t=0;t<1<<tl[n];t++)al[r++]=n;for(al[r-1]=n,i=0,n=0;n<16;n++)for(ul[n]=i,t=0;t<1<<el[n];t++)sl[i++]=n;for(i>>=7;n<30;n++)for(ul[n]=i<<7,t=0;t<1<<el[n]-7;t++)sl[256+i++]=n;for(e=0;e<=15;e++)o[e]=0;for(t=0;t<=143;)il[2*t+1]=8,t++,o[8]++;for(;t<=255;)il[2*t+1]=9,t++,o[9]++;for(;t<=279;)il[2*t+1]=7,t++,o[7]++;for(;t<=287;)il[2*t+1]=8,t++,o[8]++;for(vl(il,287,o),t=0;t<30;t++)ol[2*t+1]=5,ol[2*t]=wl(t,5);hl=new ll(il,tl,257,286,15),dl=new ll(ol,el,0,30,15),fl=new ll(new Array(0),rl,0,19,7)})(),Cl=!0),t.l_desc=new pl(t.dyn_ltree,hl),t.d_desc=new pl(t.dyn_dtree,dl),t.bl_desc=new pl(t.bl_tree,fl),t.bi_buf=0,t.bi_valid=0,_l(t)},_tr_stored_block:Ol,_tr_flush_block:(t,e,r,n)=>{let i,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),Al(t,t.l_desc),Al(t,t.d_desc),s=(t=>{let e;for(Il(t,t.dyn_ltree,t.l_desc.max_code),Il(t,t.dyn_dtree,t.d_desc.max_code),Al(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*nl[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==e?Ol(t,e,r,n):4===t.strategy||o===i?(ml(t,2+(n?1:0),3),xl(t,il,ol)):(ml(t,4+(n?1:0),3),((t,e,r,n)=>{let i;for(ml(t,e-257,5),ml(t,r-1,5),ml(t,n-4,4),i=0;i<n;i++)ml(t,t.bl_tree[2*nl[i]+1],3);Tl(t,t.dyn_ltree,e-1),Tl(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),xl(t,t.dyn_ltree,t.dyn_dtree)),_l(t),n&&El(t)},_tr_tally:(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(al[r]+256+1)]++,t.dyn_dtree[2*gl(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{ml(t,2,3),bl(t,256,il),(t=>{16===t.bi_valid?(yl(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},Rl=(t,e,r,n)=>{let i=65535&t|0,o=t>>>16&65535|0,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do{i=i+e[n++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16|0};const Ml=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e})());var Nl=(t,e,r,n)=>{const i=Ml,o=n+r;t^=-1;for(let r=n;r<o;r++)t=t>>>8^i[255&(t^e[r])];return-1^t},Ll={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Bl={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Dl,_tr_stored_block:jl,_tr_flush_block:Ul,_tr_tally:zl,_tr_align:Fl}=Pl,{Z_NO_FLUSH:Wl,Z_PARTIAL_FLUSH:$l,Z_FULL_FLUSH:ql,Z_FINISH:Hl,Z_BLOCK:Vl,Z_OK:Kl,Z_STREAM_END:Gl,Z_STREAM_ERROR:Zl,Z_DATA_ERROR:Yl,Z_BUF_ERROR:Jl,Z_DEFAULT_COMPRESSION:Xl,Z_FILTERED:Ql,Z_HUFFMAN_ONLY:th,Z_RLE:eh,Z_FIXED:rh,Z_DEFAULT_STRATEGY:nh,Z_UNKNOWN:ih,Z_DEFLATED:oh}=Bl,sh=258,ah=262,ch=42,uh=113,lh=666,hh=(t,e)=>(t.msg=Ll[e],e),dh=t=>2*t-(t>4?9:0),fh=t=>{let e=t.length;for(;--e>=0;)t[e]=0},ph=t=>{let e,r,n,i=t.w_size;e=t.hash_size,n=e;do{r=t.head[--n],t.head[n]=r>=i?r-i:0}while(--e);e=i,n=e;do{r=t.prev[--n],t.prev[n]=r>=i?r-i:0}while(--e)};let gh=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask;const yh=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},mh=(t,e)=>{Ul(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,yh(t.strm)},bh=(t,e)=>{t.pending_buf[t.pending++]=e},wh=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},vh=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=Rl(t.adler,e,i,r):2===t.state.wrap&&(t.adler=Nl(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},_h=(t,e)=>{let r,n,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match;const c=t.strstart>t.w_size-ah?t.strstart-(t.w_size-ah):0,u=t.window,l=t.w_mask,h=t.prev,d=t.strstart+sh;let f=u[o+s-1],p=u[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(r=e,u[r+s]===p&&u[r+s-1]===f&&u[r]===u[o]&&u[++r]===u[o+1]){o+=2,r++;do{}while(u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&o<d);if(n=sh-(d-o),o=d-sh,n>s){if(t.match_start=e,s=n,n>=a)break;f=u[o+s-1],p=u[o+s]}}}while((e=h[e&l])>c&&0!=--i);return s<=t.lookahead?s:t.lookahead},Eh=t=>{const e=t.w_size;let r,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-ah)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),ph(t),n+=e),0===t.strm.avail_in)break;if(r=vh(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=gh(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=gh(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<ah&&0!==t.strm.avail_in)},Sh=(t,e)=>{let r,n,i,o=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s=0,a=t.strm.avail_in;do{if(r=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i)break;if(i=t.strm.avail_out-i,n=t.strstart-t.block_start,r>n+t.strm.avail_in&&(r=n+t.strm.avail_in),r>i&&(r=i),r<o&&(0===r&&e!==Hl||e===Wl||r!==n+t.strm.avail_in))break;s=e===Hl&&r===n+t.strm.avail_in?1:0,jl(t,0,0,s),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,yh(t.strm),n&&(n>r&&(n=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+n),t.strm.next_out),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n,t.block_start+=n,r-=n),r&&(vh(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(0===s);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?4:e!==Wl&&e!==Hl&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(vh(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,o=i>t.w_size?t.w_size:i,n=t.strstart-t.block_start,(n>=o||(n||e===Hl)&&e!==Wl&&0===t.strm.avail_in&&n<=i)&&(r=n>i?i:n,s=e===Hl&&0===t.strm.avail_in&&r===n?1:0,jl(t,t.block_start,r,s),t.block_start+=r,yh(t.strm)),s?3:1)},kh=(t,e)=>{let r,n;for(;;){if(t.lookahead<ah){if(Eh(t),t.lookahead<ah&&e===Wl)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=gh(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-ah&&(t.match_length=_h(t,r)),t.match_length>=3)if(n=zl(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=gh(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=gh(t,t.ins_h,t.window[t.strstart+1]);else n=zl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(mh(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Hl?(mh(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(mh(t,!1),0===t.strm.avail_out)?1:2},xh=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<ah){if(Eh(t),t.lookahead<ah&&e===Wl)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=gh(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-ah&&(t.match_length=_h(t,r),t.match_length<=5&&(t.strategy===Ql||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=zl(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=gh(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(mh(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=zl(t,0,t.window[t.strstart-1]),n&&mh(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=zl(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Hl?(mh(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(mh(t,!1),0===t.strm.avail_out)?1:2};function Ah(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const Ih=[new Ah(0,0,0,0,Sh),new Ah(4,4,8,4,kh),new Ah(4,5,16,8,kh),new Ah(4,6,32,32,kh),new Ah(4,4,16,16,xh),new Ah(8,16,32,32,xh),new Ah(8,16,128,128,xh),new Ah(8,32,128,256,xh),new Ah(32,128,258,1024,xh),new Ah(32,258,258,4096,xh)];function Th(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=oh,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),fh(this.dyn_ltree),fh(this.dyn_dtree),fh(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),fh(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),fh(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ch=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==ch&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==uh&&e.status!==lh?1:0},Oh=t=>{if(Ch(t))return hh(t,Zl);t.total_in=t.total_out=0,t.data_type=ih;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?ch:uh,t.adler=2===e.wrap?0:1,e.last_flush=-2,Dl(e),Kl},Ph=t=>{const e=Oh(t);var r;return e===Kl&&((r=t.state).window_size=2*r.w_size,fh(r.head),r.max_lazy_match=Ih[r.level].max_lazy,r.good_match=Ih[r.level].good_length,r.nice_match=Ih[r.level].nice_length,r.max_chain_length=Ih[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),e},Rh=(t,e,r,n,i,o)=>{if(!t)return Zl;let s=1;if(e===Xl&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>9||r!==oh||n<8||n>15||e<0||e>9||o<0||o>rh||8===n&&1!==s)return hh(t,Zl);8===n&&(n=9);const a=new Th;return t.state=a,a.strm=t,a.status=ch,a.wrap=s,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=o,a.method=r,Ph(t)};var Mh={deflateInit:(t,e)=>Rh(t,e,oh,15,8,nh),deflateInit2:Rh,deflateReset:Ph,deflateResetKeep:Oh,deflateSetHeader:(t,e)=>Ch(t)||2!==t.state.wrap?Zl:(t.state.gzhead=e,Kl),deflate:(t,e)=>{if(Ch(t)||e>Vl||e<0)return t?hh(t,Zl):Zl;const r=t.state;if(!t.output||0!==t.avail_in&&!t.input||r.status===lh&&e!==Hl)return hh(t,0===t.avail_out?Jl:Zl);const n=r.last_flush;if(r.last_flush=e,0!==r.pending){if(yh(t),0===t.avail_out)return r.last_flush=-1,Kl}else if(0===t.avail_in&&dh(e)<=dh(n)&&e!==Hl)return hh(t,Jl);if(r.status===lh&&0!==t.avail_in)return hh(t,Jl);if(r.status===ch&&0===r.wrap&&(r.status=uh),r.status===ch){let e=oh+(r.w_bits-8<<4)<<8,n=-1;if(n=r.strategy>=th||r.level<2?0:r.level<6?1:6===r.level?2:3,e|=n<<6,0!==r.strstart&&(e|=32),e+=31-e%31,wh(r,e),0!==r.strstart&&(wh(r,t.adler>>>16),wh(r,65535&t.adler)),t.adler=1,r.status=uh,yh(t),0!==r.pending)return r.last_flush=-1,Kl}if(57===r.status)if(t.adler=0,bh(r,31),bh(r,139),bh(r,8),r.gzhead)bh(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),bh(r,255&r.gzhead.time),bh(r,r.gzhead.time>>8&255),bh(r,r.gzhead.time>>16&255),bh(r,r.gzhead.time>>24&255),bh(r,9===r.level?2:r.strategy>=th||r.level<2?4:0),bh(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(bh(r,255&r.gzhead.extra.length),bh(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=Nl(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(bh(r,0),bh(r,0),bh(r,0),bh(r,0),bh(r,0),bh(r,9===r.level?2:r.strategy>=th||r.level<2?4:0),bh(r,3),r.status=uh,yh(t),0!==r.pending)return r.last_flush=-1,Kl;if(69===r.status){if(r.gzhead.extra){let e=r.pending,n=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+n>r.pending_buf_size;){let i=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>e&&(t.adler=Nl(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex+=i,yh(t),0!==r.pending)return r.last_flush=-1,Kl;e=0,n-=i}let i=new Uint8Array(r.gzhead.extra);r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>e&&(t.adler=Nl(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=Nl(t.adler,r.pending_buf,r.pending-n,n)),yh(t),0!==r.pending)return r.last_flush=-1,Kl;n=0}e=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,bh(r,e)}while(0!==e);r.gzhead.hcrc&&r.pending>n&&(t.adler=Nl(t.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=Nl(t.adler,r.pending_buf,r.pending-n,n)),yh(t),0!==r.pending)return r.last_flush=-1,Kl;n=0}e=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,bh(r,e)}while(0!==e);r.gzhead.hcrc&&r.pending>n&&(t.adler=Nl(t.adler,r.pending_buf,r.pending-n,n))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(yh(t),0!==r.pending))return r.last_flush=-1,Kl;bh(r,255&t.adler),bh(r,t.adler>>8&255),t.adler=0}if(r.status=uh,yh(t),0!==r.pending)return r.last_flush=-1,Kl}if(0!==t.avail_in||0!==r.lookahead||e!==Wl&&r.status!==lh){let n=0===r.level?Sh(r,e):r.strategy===th?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(Eh(t),0===t.lookahead)){if(e===Wl)return 1;break}if(t.match_length=0,r=zl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(mh(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Hl?(mh(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(mh(t,!1),0===t.strm.avail_out)?1:2})(r,e):r.strategy===eh?((t,e)=>{let r,n,i,o;const s=t.window;for(;;){if(t.lookahead<=sh){if(Eh(t),t.lookahead<=sh&&e===Wl)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){o=t.strstart+sh;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o);t.match_length=sh-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=zl(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=zl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(mh(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Hl?(mh(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(mh(t,!1),0===t.strm.avail_out)?1:2})(r,e):Ih[r.level].func(r,e);if(3!==n&&4!==n||(r.status=lh),1===n||3===n)return 0===t.avail_out&&(r.last_flush=-1),Kl;if(2===n&&(e===$l?Fl(r):e!==Vl&&(jl(r,0,0,!1),e===ql&&(fh(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),yh(t),0===t.avail_out))return r.last_flush=-1,Kl}return e!==Hl?Kl:r.wrap<=0?Gl:(2===r.wrap?(bh(r,255&t.adler),bh(r,t.adler>>8&255),bh(r,t.adler>>16&255),bh(r,t.adler>>24&255),bh(r,255&t.total_in),bh(r,t.total_in>>8&255),bh(r,t.total_in>>16&255),bh(r,t.total_in>>24&255)):(wh(r,t.adler>>>16),wh(r,65535&t.adler)),yh(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?Kl:Gl)},deflateEnd:t=>{if(Ch(t))return Zl;const e=t.state.status;return t.state=null,e===uh?hh(t,Yl):Kl},deflateSetDictionary:(t,e)=>{let r=e.length;if(Ch(t))return Zl;const n=t.state,i=n.wrap;if(2===i||1===i&&n.status!==ch||n.lookahead)return Zl;if(1===i&&(t.adler=Rl(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===i&&(fh(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(r-n.w_size,r),0),e=t,r=n.w_size}const o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,Eh(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=gh(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,Eh(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,n.wrap=i,Kl},deflateInfo:"pako deflate (from Nodeca project)"};const Nh=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Lh={assign:function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const e in r)Nh(r,e)&&(t[e]=r[e])}}return t},flattenChunks:t=>{let e=0;for(let r=0,n=t.length;r<n;r++)e+=t[r].length;const r=new Uint8Array(e);for(let e=0,n=0,i=t.length;e<i;e++){let i=t[e];r.set(i,n),n+=i.length}return r}};let Bh=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Bh=!1}const Dh=new Uint8Array(256);for(let t=0;t<256;t++)Dh[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Dh[254]=Dh[254]=1;var jh={string2buf:t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,r,n,i,o,s=t.length,a=0;for(i=0;i<s;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<s&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<s&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|63&r):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|63&r):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|63&r);return e},buf2string:(t,e)=>{const r=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let n,i;const o=new Array(2*r);for(i=0,n=0;n<r;){let e=t[n++];if(e<128){o[i++]=e;continue}let s=Dh[e];if(s>4)o[i++]=65533,n+=s-1;else{for(e&=2===s?31:3===s?15:7;s>1&&n<r;)e=e<<6|63&t[n++],s--;s>1?o[i++]=65533:e<65536?o[i++]=e:(e-=65536,o[i++]=55296|e>>10&1023,o[i++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Bh)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r})(o,i)},utf8border:(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+Dh[t[r]]>e?r:e}},Uh=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const zh=Object.prototype.toString,{Z_NO_FLUSH:Fh,Z_SYNC_FLUSH:Wh,Z_FULL_FLUSH:$h,Z_FINISH:qh,Z_OK:Hh,Z_STREAM_END:Vh,Z_DEFAULT_COMPRESSION:Kh,Z_DEFAULT_STRATEGY:Gh,Z_DEFLATED:Zh}=Bl;function Yh(t){this.options=Lh.assign({level:Kh,method:Zh,chunkSize:16384,windowBits:15,memLevel:8,strategy:Gh},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Uh,this.strm.avail_out=0;let r=Mh.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Hh)throw new Error(Ll[r]);if(e.header&&Mh.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?jh.string2buf(e.dictionary):"[object ArrayBuffer]"===zh.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=Mh.deflateSetDictionary(this.strm,t),r!==Hh)throw new Error(Ll[r]);this._dict_set=!0}}function Jh(t,e){const r=new Yh(e);if(r.push(t,!0),r.err)throw r.msg||Ll[r.err];return r.result}Yh.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?qh:Fh,"string"==typeof t?r.input=jh.string2buf(t):"[object ArrayBuffer]"===zh.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(o===Wh||o===$h)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(i=Mh.deflate(r,o),i===Vh)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Mh.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Hh;if(0!==r.avail_out){if(o>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Yh.prototype.onData=function(t){this.chunks.push(t)},Yh.prototype.onEnd=function(t){t===Hh&&(this.result=Lh.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Xh={Deflate:Yh,deflate:Jh,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Jh(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Jh(t,e)},constants:Bl};const Qh=16209;var td=function(t,e){let r,n,i,o,s,a,c,u,l,h,d,f,p,g,y,m,b,w,v,_,E,S,k,x;const A=t.state;r=t.next_in,k=t.input,n=r+(t.avail_in-5),i=t.next_out,x=t.output,o=i-(e-t.avail_out),s=i+(t.avail_out-257),a=A.dmax,c=A.wsize,u=A.whave,l=A.wnext,h=A.window,d=A.hold,f=A.bits,p=A.lencode,g=A.distcode,y=(1<<A.lenbits)-1,m=(1<<A.distbits)-1;t:do{f<15&&(d+=k[r++]<<f,f+=8,d+=k[r++]<<f,f+=8),b=p[d&y];e:for(;;){if(w=b>>>24,d>>>=w,f-=w,w=b>>>16&255,0===w)x[i++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=p[(65535&b)+(d&(1<<w)-1)];continue e}if(32&w){A.mode=16191;break t}t.msg="invalid literal/length code",A.mode=Qh;break t}v=65535&b,w&=15,w&&(f<w&&(d+=k[r++]<<f,f+=8),v+=d&(1<<w)-1,d>>>=w,f-=w),f<15&&(d+=k[r++]<<f,f+=8,d+=k[r++]<<f,f+=8),b=g[d&m];r:for(;;){if(w=b>>>24,d>>>=w,f-=w,w=b>>>16&255,!(16&w)){if(0==(64&w)){b=g[(65535&b)+(d&(1<<w)-1)];continue r}t.msg="invalid distance code",A.mode=Qh;break t}if(_=65535&b,w&=15,f<w&&(d+=k[r++]<<f,f+=8,f<w&&(d+=k[r++]<<f,f+=8)),_+=d&(1<<w)-1,_>a){t.msg="invalid distance too far back",A.mode=Qh;break t}if(d>>>=w,f-=w,w=i-o,_>w){if(w=_-w,w>u&&A.sane){t.msg="invalid distance too far back",A.mode=Qh;break t}if(E=0,S=h,0===l){if(E+=c-w,w<v){v-=w;do{x[i++]=h[E++]}while(--w);E=i-_,S=x}}else if(l<w){if(E+=c+l-w,w-=l,w<v){v-=w;do{x[i++]=h[E++]}while(--w);if(E=0,l<v){w=l,v-=w;do{x[i++]=h[E++]}while(--w);E=i-_,S=x}}}else if(E+=l-w,w<v){v-=w;do{x[i++]=h[E++]}while(--w);E=i-_,S=x}for(;v>2;)x[i++]=S[E++],x[i++]=S[E++],x[i++]=S[E++],v-=3;v&&(x[i++]=S[E++],v>1&&(x[i++]=S[E++]))}else{E=i-_;do{x[i++]=x[E++],x[i++]=x[E++],x[i++]=x[E++],v-=3}while(v>2);v&&(x[i++]=x[E++],v>1&&(x[i++]=x[E++]))}break}}break}}while(r<n&&i<s);v=f>>3,r-=v,f-=v<<3,d&=(1<<f)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=i<s?s-i+257:257-(i-s),A.hold=d,A.bits=f};const ed=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),rd=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),nd=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),id=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var od=(t,e,r,n,i,o,s,a)=>{const c=a.bits;let u,l,h,d,f,p,g=0,y=0,m=0,b=0,w=0,v=0,_=0,E=0,S=0,k=0,x=null;const A=new Uint16Array(16),I=new Uint16Array(16);let T,C,O,P=null;for(g=0;g<=15;g++)A[g]=0;for(y=0;y<n;y++)A[e[r+y]]++;for(w=c,b=15;b>=1&&0===A[b];b--);if(w>b&&(w=b),0===b)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(m=1;m<b&&0===A[m];m++);for(w<m&&(w=m),E=1,g=1;g<=15;g++)if(E<<=1,E-=A[g],E<0)return-1;if(E>0&&(0===t||1!==b))return-1;for(I[1]=0,g=1;g<15;g++)I[g+1]=I[g]+A[g];for(y=0;y<n;y++)0!==e[r+y]&&(s[I[e[r+y]]++]=y);if(0===t?(x=P=s,p=20):1===t?(x=ed,P=rd,p=257):(x=nd,P=id,p=0),k=0,y=0,g=m,f=o,v=w,_=0,h=-1,S=1<<w,d=S-1,1===t&&S>852||2===t&&S>592)return 1;for(;;){T=g-_,s[y]+1<p?(C=0,O=s[y]):s[y]>=p?(C=P[s[y]-p],O=x[s[y]-p]):(C=96,O=0),u=1<<g-_,l=1<<v,m=l;do{l-=u,i[f+(k>>_)+l]=T<<24|C<<16|O|0}while(0!==l);for(u=1<<g-1;k&u;)u>>=1;if(0!==u?(k&=u-1,k+=u):k=0,y++,0==--A[g]){if(g===b)break;g=e[r+s[y]]}if(g>w&&(k&d)!==h){for(0===_&&(_=w),f+=m,v=g-_,E=1<<v;v+_<b&&(E-=A[v+_],!(E<=0));)v++,E<<=1;if(S+=1<<v,1===t&&S>852||2===t&&S>592)return 1;h=k&d,i[h]=w<<24|v<<16|f-o|0}}return 0!==k&&(i[f+k]=g-_<<24|64<<16|0),a.bits=w,0};const{Z_FINISH:sd,Z_BLOCK:ad,Z_TREES:cd,Z_OK:ud,Z_STREAM_END:ld,Z_NEED_DICT:hd,Z_STREAM_ERROR:dd,Z_DATA_ERROR:fd,Z_MEM_ERROR:pd,Z_BUF_ERROR:gd,Z_DEFLATED:yd}=Bl,md=16180,bd=16190,wd=16191,vd=16192,_d=16194,Ed=16199,Sd=16200,kd=16206,xd=16209,Ad=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Id(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Td=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<md||e.mode>16211?1:0},Cd=t=>{if(Td(t))return dd;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=md,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,ud},Od=t=>{if(Td(t))return dd;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Cd(t)},Pd=(t,e)=>{let r;if(Td(t))return dd;const n=t.state;return e<0?(r=0,e=-e):(r=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?dd:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Od(t))},Rd=(t,e)=>{if(!t)return dd;const r=new Id;t.state=r,r.strm=t,r.window=null,r.mode=md;const n=Pd(t,e);return n!==ud&&(t.state=null),n};let Md,Nd,Ld=!0;const Bd=t=>{if(Ld){Md=new Int32Array(512),Nd=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(od(1,t.lens,0,288,Md,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;od(2,t.lens,0,32,Nd,0,t.work,{bits:5}),Ld=!1}t.lencode=Md,t.lenbits=9,t.distcode=Nd,t.distbits=5},Dd=(t,e,r,n)=>{let i;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(e.subarray(r-n,r-n+i),o.wnext),(n-=i)?(o.window.set(e.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var jd={inflateReset:Od,inflateReset2:Pd,inflateResetKeep:Cd,inflateInit:t=>Rd(t,15),inflateInit2:Rd,inflate:(t,e)=>{let r,n,i,o,s,a,c,u,l,h,d,f,p,g,y,m,b,w,v,_,E,S,k=0;const x=new Uint8Array(4);let A,I;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Td(t)||!t.output||!t.input&&0!==t.avail_in)return dd;r=t.state,r.mode===wd&&(r.mode=vd),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,n=t.input,a=t.avail_in,u=r.hold,l=r.bits,h=a,d=c,S=ud;t:for(;;)switch(r.mode){case md:if(0===r.wrap){r.mode=vd;break}for(;l<16;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(2&r.wrap&&35615===u){0===r.wbits&&(r.wbits=15),r.check=0,x[0]=255&u,x[1]=u>>>8&255,r.check=Nl(r.check,x,2,0),u=0,l=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=xd;break}if((15&u)!==yd){t.msg="unknown compression method",r.mode=xd;break}if(u>>>=4,l-=4,E=8+(15&u),0===r.wbits&&(r.wbits=E),E>15||E>r.wbits){t.msg="invalid window size",r.mode=xd;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=512&u?16189:wd,u=0,l=0;break;case 16181:for(;l<16;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(r.flags=u,(255&r.flags)!==yd){t.msg="unknown compression method",r.mode=xd;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=xd;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&4&r.wrap&&(x[0]=255&u,x[1]=u>>>8&255,r.check=Nl(r.check,x,2,0)),u=0,l=0,r.mode=16182;case 16182:for(;l<32;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&4&r.wrap&&(x[0]=255&u,x[1]=u>>>8&255,x[2]=u>>>16&255,x[3]=u>>>24&255,r.check=Nl(r.check,x,4,0)),u=0,l=0,r.mode=16183;case 16183:for(;l<16;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&4&r.wrap&&(x[0]=255&u,x[1]=u>>>8&255,r.check=Nl(r.check,x,2,0)),u=0,l=0,r.mode=16184;case 16184:if(1024&r.flags){for(;l<16;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&4&r.wrap&&(x[0]=255&u,x[1]=u>>>8&255,r.check=Nl(r.check,x,2,0)),u=0,l=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&(f=r.length,f>a&&(f=a),f&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+f),E)),512&r.flags&&4&r.wrap&&(r.check=Nl(r.check,n,f,o)),a-=f,o+=f,r.length-=f),r.length))break t;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===a)break t;f=0;do{E=n[o+f++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E))}while(E&&f<a);if(512&r.flags&&4&r.wrap&&(r.check=Nl(r.check,n,f,o)),a-=f,o+=f,E)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===a)break t;f=0;do{E=n[o+f++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E))}while(E&&f<a);if(512&r.flags&&4&r.wrap&&(r.check=Nl(r.check,n,f,o)),a-=f,o+=f,E)break t}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;l<16;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(4&r.wrap&&u!==(65535&r.check)){t.msg="header crc mismatch",r.mode=xd;break}u=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=wd;break;case 16189:for(;l<32;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}t.adler=r.check=Ad(u),u=0,l=0,r.mode=bd;case bd:if(0===r.havedict)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,r.hold=u,r.bits=l,hd;t.adler=r.check=1,r.mode=wd;case wd:if(e===ad||e===cd)break t;case vd:if(r.last){u>>>=7&l,l-=7&l,r.mode=kd;break}for(;l<3;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}switch(r.last=1&u,u>>>=1,l-=1,3&u){case 0:r.mode=16193;break;case 1:if(Bd(r),r.mode=Ed,e===cd){u>>>=2,l-=2;break t}break;case 2:r.mode=16196;break;case 3:t.msg="invalid block type",r.mode=xd}u>>>=2,l-=2;break;case 16193:for(u>>>=7&l,l-=7&l;l<32;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=xd;break}if(r.length=65535&u,u=0,l=0,r.mode=_d,e===cd)break t;case _d:r.mode=16195;case 16195:if(f=r.length,f){if(f>a&&(f=a),f>c&&(f=c),0===f)break t;i.set(n.subarray(o,o+f),s),a-=f,o+=f,c-=f,s+=f,r.length-=f;break}r.mode=wd;break;case 16196:for(;l<14;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=xd;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;l<3;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}r.lens[T[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[T[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,A={bits:r.lenbits},S=od(0,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits=A.bits,S){t.msg="invalid code lengths set",r.mode=xd;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;k=r.lencode[u&(1<<r.lenbits)-1],y=k>>>24,m=k>>>16&255,b=65535&k,!(y<=l);){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(b<16)u>>>=y,l-=y,r.lens[r.have++]=b;else{if(16===b){for(I=y+2;l<I;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(u>>>=y,l-=y,0===r.have){t.msg="invalid bit length repeat",r.mode=xd;break}E=r.lens[r.have-1],f=3+(3&u),u>>>=2,l-=2}else if(17===b){for(I=y+3;l<I;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}u>>>=y,l-=y,E=0,f=3+(7&u),u>>>=3,l-=3}else{for(I=y+7;l<I;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}u>>>=y,l-=y,E=0,f=11+(127&u),u>>>=7,l-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=xd;break}for(;f--;)r.lens[r.have++]=E}}if(r.mode===xd)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=xd;break}if(r.lenbits=9,A={bits:r.lenbits},S=od(1,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits=A.bits,S){t.msg="invalid literal/lengths set",r.mode=xd;break}if(r.distbits=6,r.distcode=r.distdyn,A={bits:r.distbits},S=od(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits=A.bits,S){t.msg="invalid distances set",r.mode=xd;break}if(r.mode=Ed,e===cd)break t;case Ed:r.mode=Sd;case Sd:if(a>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,r.hold=u,r.bits=l,td(t,d),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,n=t.input,a=t.avail_in,u=r.hold,l=r.bits,r.mode===wd&&(r.back=-1);break}for(r.back=0;k=r.lencode[u&(1<<r.lenbits)-1],y=k>>>24,m=k>>>16&255,b=65535&k,!(y<=l);){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(m&&0==(240&m)){for(w=y,v=m,_=b;k=r.lencode[_+((u&(1<<w+v)-1)>>w)],y=k>>>24,m=k>>>16&255,b=65535&k,!(w+y<=l);){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}u>>>=w,l-=w,r.back+=w}if(u>>>=y,l-=y,r.back+=y,r.length=b,0===m){r.mode=16205;break}if(32&m){r.back=-1,r.mode=wd;break}if(64&m){t.msg="invalid literal/length code",r.mode=xd;break}r.extra=15&m,r.mode=16201;case 16201:if(r.extra){for(I=r.extra;l<I;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;k=r.distcode[u&(1<<r.distbits)-1],y=k>>>24,m=k>>>16&255,b=65535&k,!(y<=l);){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(0==(240&m)){for(w=y,v=m,_=b;k=r.distcode[_+((u&(1<<w+v)-1)>>w)],y=k>>>24,m=k>>>16&255,b=65535&k,!(w+y<=l);){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}u>>>=w,l-=w,r.back+=w}if(u>>>=y,l-=y,r.back+=y,64&m){t.msg="invalid distance code",r.mode=xd;break}r.offset=b,r.extra=15&m,r.mode=16203;case 16203:if(r.extra){for(I=r.extra;l<I;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=xd;break}r.mode=16204;case 16204:if(0===c)break t;if(f=d-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=xd;break}f>r.wnext?(f-=r.wnext,p=r.wsize-f):p=r.wnext-f,f>r.length&&(f=r.length),g=r.window}else g=i,p=s-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do{i[s++]=g[p++]}while(--f);0===r.length&&(r.mode=Sd);break;case 16205:if(0===c)break t;i[s++]=r.length,c--,r.mode=Sd;break;case kd:if(r.wrap){for(;l<32;){if(0===a)break t;a--,u|=n[o++]<<l,l+=8}if(d-=c,t.total_out+=d,r.total+=d,4&r.wrap&&d&&(t.adler=r.check=r.flags?Nl(r.check,i,d,s-d):Rl(r.check,i,d,s-d)),d=c,4&r.wrap&&(r.flags?u:Ad(u))!==r.check){t.msg="incorrect data check",r.mode=xd;break}u=0,l=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;l<32;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(4&r.wrap&&u!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=xd;break}u=0,l=0}r.mode=16208;case 16208:S=ld;break t;case xd:S=fd;break t;case 16210:return pd;default:return dd}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,r.hold=u,r.bits=l,(r.wsize||d!==t.avail_out&&r.mode<xd&&(r.mode<kd||e!==sd))&&Dd(t,t.output,t.next_out,d-t.avail_out),h-=t.avail_in,d-=t.avail_out,t.total_in+=h,t.total_out+=d,r.total+=d,4&r.wrap&&d&&(t.adler=r.check=r.flags?Nl(r.check,i,d,t.next_out-d):Rl(r.check,i,d,t.next_out-d)),t.data_type=r.bits+(r.last?64:0)+(r.mode===wd?128:0)+(r.mode===Ed||r.mode===_d?256:0),(0===h&&0===d||e===sd)&&S===ud&&(S=gd),S},inflateEnd:t=>{if(Td(t))return dd;let e=t.state;return e.window&&(e.window=null),t.state=null,ud},inflateGetHeader:(t,e)=>{if(Td(t))return dd;const r=t.state;return 0==(2&r.wrap)?dd:(r.head=e,e.done=!1,ud)},inflateSetDictionary:(t,e)=>{const r=e.length;let n,i,o;return Td(t)?dd:(n=t.state,0!==n.wrap&&n.mode!==bd?dd:n.mode===bd&&(i=1,i=Rl(i,e,r,0),i!==n.check)?fd:(o=Dd(t,e,r,r),o?(n.mode=16210,pd):(n.havedict=1,ud)))},inflateInfo:"pako inflate (from Nodeca project)"},Ud=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const zd=Object.prototype.toString,{Z_NO_FLUSH:Fd,Z_FINISH:Wd,Z_OK:$d,Z_STREAM_END:qd,Z_NEED_DICT:Hd,Z_STREAM_ERROR:Vd,Z_DATA_ERROR:Kd,Z_MEM_ERROR:Gd}=Bl;function Zd(t){this.options=Lh.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Uh,this.strm.avail_out=0;let r=jd.inflateInit2(this.strm,e.windowBits);if(r!==$d)throw new Error(Ll[r]);if(this.header=new Ud,jd.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=jh.string2buf(e.dictionary):"[object ArrayBuffer]"===zd.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=jd.inflateSetDictionary(this.strm,e.dictionary),r!==$d)))throw new Error(Ll[r])}function Yd(t,e){const r=new Zd(e);if(r.push(t),r.err)throw r.msg||Ll[r.err];return r.result}Zd.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=e===~~e?e:!0===e?Wd:Fd,"[object ArrayBuffer]"===zd.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=jd.inflate(r,s),o===Hd&&i&&(o=jd.inflateSetDictionary(r,i),o===$d?o=jd.inflate(r,s):o===Kd&&(o=Hd));r.avail_in>0&&o===qd&&r.state.wrap>0&&0!==t[r.next_in];)jd.inflateReset(r),o=jd.inflate(r,s);switch(o){case Vd:case Kd:case Hd:case Gd:return this.onEnd(o),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(0===r.avail_out||o===qd))if("string"===this.options.to){let t=jh.utf8border(r.output,r.next_out),e=r.next_out-t,i=jh.buf2string(r.output,t);r.next_out=e,r.avail_out=n-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(o!==$d||0!==a){if(o===qd)return o=jd.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},Zd.prototype.onData=function(t){this.chunks.push(t)},Zd.prototype.onEnd=function(t){t===$d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Lh.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Jd={Inflate:Zd,inflate:Yd,inflateRaw:function(t,e){return(e=e||{}).raw=!0,Yd(t,e)},ungzip:Yd,constants:Bl};const{Deflate:Xd,deflate:Qd,deflateRaw:tf,gzip:ef}=Xh,{Inflate:rf,inflate:nf,inflateRaw:of,ungzip:sf}=Jd;var af=nf,cf=__webpack_require__(6729),uf=__webpack_require__.n(cf);const lf=t=>"version"in t;var hf=Object.freeze({__proto__:null,encode:function(t){return t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"0x")},decode:function(t){0===t.indexOf("0x")&&(t=t.substr(2)),t.length%2==1&&(t="0"+t);let e=t.match(/.{2}/g);return null===e?m.Buffer.from([]):m.Buffer.from(e.map((t=>parseInt(t,16))))}});function df(t){return new TextDecoder("utf-8").decode(t)}function ff(t){return(new TextEncoder).encode(t)}var pf=Object.freeze({__proto__:null,decode:df,encode:ff});function gf(t){return Gu().encode(t)}var yf=Object.freeze({__proto__:null,encode:gf,decode:function(t){return Gu().decode(t)}});function mf(t){return t.toString("base64")}function bf(t){return m.Buffer.from(t,"base64")}var wf=Object.freeze({__proto__:null,encode:mf,decode:bf}),vf=Object.freeze({__proto__:null,hex:hf,utf8:pf,bs58:yf,base64:wf});function _f(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const r={};let n=0;return t.args.forEach((t=>{r[t.name]=e[n],n+=1})),r}function Ef(t,e={}){t.forEach((t=>{if("accounts"in t)Ef(t.accounts,e[t.name]);else if(void 0===e[t.name])throw new Error(`Invalid arguments: ${t.name} not provided.`)}))}function Sf(t){return t instanceof qu.PublicKey?t:new qu.PublicKey(t)}class kf extends TypeError{constructor(t,e){let r;const{message:n,...i}=t,{path:o}=t;super(0===o.length?n:"At path: "+o.join(".")+" -- "+n),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var n;return null!=(n=r)?n:r=[t,...e()]}}}function xf(t){return"object"==typeof t&&null!=t}function Af(t){return"string"==typeof t?JSON.stringify(t):""+t}function If(t,e,r,n){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:o}=e,{type:s}=r,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Af(n)+"`"}=t;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*Tf(t,e,r,n){var i;xf(i=t)&&"function"==typeof i[Symbol.iterator]||(t=[t]);for(const i of t){const t=If(i,e,r,n);t&&(yield t)}}function*Cf(t,e,r){void 0===r&&(r={});const{path:n=[],branch:i=[t],coerce:o=!1,mask:s=!1}=r,a={path:n,branch:i};if(o&&(t=e.coercer(t,a),s&&"type"!==e.type&&xf(e.schema)&&xf(t)&&!Array.isArray(t)))for(const r in t)void 0===e.schema[r]&&delete t[r];let c=!0;for(const r of e.validator(t,a))c=!1,yield[r,void 0];for(let[r,u,l]of e.entries(t,a)){const e=Cf(u,l,{path:void 0===r?n:[...n,r],branch:void 0===r?i:[...i,u],coerce:o,mask:s});for(const n of e)n[0]?(c=!1,yield[n[0],void 0]):o&&(u=n[1],void 0===r?t=u:t instanceof Map?t.set(r,u):t instanceof Set?t.add(u):xf(t)&&(t[r]=u))}if(c)for(const r of e.refiner(t,a))c=!1,yield[r,void 0];c&&(yield[void 0,t])}class Of{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:e,schema:r,validator:n,refiner:i,coercer:o=(t=>t),entries:s=function*(){}}=t;this.type=e,this.schema=r,this.entries=s,this.coercer=o,this.validator=n?(t,e)=>Tf(n(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>Tf(i(t,e),e,this,t):()=>[]}assert(t){return function(t,e){const r=Mf(t,e);if(r[0])throw r[0]}(t,this)}create(t){return Pf(t,this)}is(t){return Rf(t,this)}mask(t){return function(t,e){const r=Mf(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}(t,this)}validate(t,e){return void 0===e&&(e={}),Mf(t,this,e)}}function Pf(t,e){const r=Mf(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function Rf(t,e){return!Mf(t,e)[0]}function Mf(t,e,r){void 0===r&&(r={});const n=Cf(t,e,r),i=function(t){const{done:e,value:r}=t.next();return e?void 0:r}(n);return i[0]?[new kf(i[0],(function*(){for(const t of n)t[0]&&(yield t[0])})),void 0]:[void 0,i[1]]}function Nf(t,e){return new Of({type:t,schema:null,validator:e})}function Lf(t){return new Of({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+Af(t)})}function Bf(t){const e=Af(t),r=typeof t;return new Of({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?t:null,validator:r=>r===t||"Expected the literal `"+e+"`, but received: "+Af(r)})}function Df(t){return new Of({...t,validator:(e,r)=>null===e||t.validator(e,r),refiner:(e,r)=>null===e||t.refiner(e,r)})}function jf(){return Nf("number",(t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+Af(t)))}function Uf(t){return new Of({...t,validator:(e,r)=>void 0===e||t.validator(e,r),refiner:(e,r)=>void 0===e||t.refiner(e,r)})}function zf(){return Nf("string",(t=>"string"==typeof t||"Expected a string, but received: "+Af(t)))}function Ff(t){const e=Object.keys(t);return new Of({type:"type",schema:t,*entries(r){if(xf(r))for(const n of e)yield[n,r[n],t[n]]},validator:t=>xf(t)||"Expected an object, but received: "+Af(t)})}function Wf(t){const e=t.map((t=>t.type)).join(" | ");return new Of({type:"union",schema:null,coercer:(e,r)=>(t.find((t=>{const[r]=t.validate(e,{coerce:!0});return!r}))||$f()).coercer(e,r),validator(r,n){const i=[];for(const e of t){const[...t]=Cf(r,e,n),[o]=t;if(!o[0])return[];for(const[e]of t)e&&i.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Af(r),...i]}})}function $f(){return Nf("unknown",(()=>!0))}async function qf(t,e,r){if(e.length<=99)return await Hf(t,e,r);{const n=function(t,e){return Array.apply(0,new Array(Math.ceil(t.length/99))).map(((e,r)=>t.slice(99*r,99*(r+1))))}(e);return(await Promise.all(n.map((e=>Hf(t,e,r))))).flat()}}async function Hf(t,e,r){const n=null!=r?r:t.commitment,{value:i,context:o}=await t.getMultipleAccountsInfoAndContext(e,n);return i.map(((t,r)=>null===t?null:{publicKey:e[r],account:t,context:o}))}async function Vf(t,e,r,n,i){var o;r&&r.length>0&&e.sign(...r);const s=e._compile(),a=s.serialize(),c=e._serialize(a).toString("base64"),u={encoding:"base64",commitment:null!=n?n:t.commitment};if(i){const t=(Array.isArray(i)?i:s.nonProgramIds()).map((t=>t.toBase58()));u.accounts={encoding:"base64",addresses:t}}r&&(u.sigVerify=!0);const l=[c,u],h=Pf(await t._rpcRequest("simulateTransaction",l),Zf);if("error"in h){let t;if("data"in h.error&&(t=null===(o=h.error.data)||void 0===o?void 0:o.logs,t&&Array.isArray(t))){const e="\n    ",r=e+t.join(e);console.error(h.error.message,r)}throw new qu.SendTransactionError("failed to simulate transaction: "+h.error.message,t)}return h.result}const Kf=Gf($f());function Gf(t){return Wf([Ff({jsonrpc:Bf("2.0"),id:zf(),result:t}),Ff({jsonrpc:Bf("2.0"),id:zf(),error:Ff({code:$f(),message:zf(),data:Uf(Nf("any",(()=>!0)))})})])}const Zf=(Jf=Ff({err:Df(Wf([Ff({}),zf()])),logs:Df(Lf(zf())),accounts:Uf(Df(Lf(Df(Ff({executable:Nf("boolean",(t=>"boolean"==typeof t)),owner:zf(),lamports:jf(),data:Lf(zf()),rentEpoch:Uf(jf())}))))),unitsConsumed:Uf(jf())}),function(t,e,r){return new Of({...t,coercer:(r,n)=>Rf(r,e)?t.coercer((t=>"error"in t?t:{...t,result:Pf(t.result,Yf)})(r),n):t.coercer(r,n)})}(Gf(Yf=Ff({context:Ff({slot:jf()}),value:Jf})),Kf));var Yf,Jf,Xf=Object.freeze({__proto__:null,invoke:async function(t,e,r,n){t=Sf(t),n||(n=np());const i=new qu.Transaction;if(i.add(new qu.TransactionInstruction({programId:t,keys:null!=e?e:[],data:r})),void 0===n.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await n.sendAndConfirm(i,[])},getMultipleAccounts:async function(t,e,r){return(await qf(t,e,r)).map((t=>t?{publicKey:t.publicKey,account:t.account}:null))},getMultipleAccountsAndContext:qf,simulateTransaction:Vf});class Qf{constructor(t,e,r){this.connection=t,this.wallet=e,this.opts=r,this.publicKey=null==e?void 0:e.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,e,r){var n,i,o,s;if(void 0===r&&(r=this.opts),lf(t))e&&t.sign(e);else if(t.feePayer=null!==(n=t.feePayer)&&void 0!==n?n:this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,e)for(const r of e)t.partialSign(r);const a=(t=await this.wallet.signTransaction(t)).serialize();try{return await ep(this.connection,a,r)}catch(e){if(e instanceof rp){const r=gf(lf(t)?(null===(i=t.signatures)||void 0===i?void 0:i[0])||new Uint8Array:null!==(o=t.signature)&&void 0!==o?o:new Uint8Array),n=await this.connection.getTransaction(r,{commitment:"confirmed"});if(n){const t=null===(s=n.meta)||void 0===s?void 0:s.logMessages;throw t?new qu.SendTransactionError(e.message,t):e}throw e}throw e}}async sendAll(t,e){var r,n,i;void 0===e&&(e=this.opts);const o=(await this.connection.getLatestBlockhash(e.preflightCommitment)).blockhash;let s=t.map((t=>{var e,r;if(lf(t.tx)){let e=t.tx;return t.signers&&e.sign(t.signers),e}{let n=t.tx,i=null!==(e=t.signers)&&void 0!==e?e:[];return n.feePayer=null!==(r=n.feePayer)&&void 0!==r?r:this.wallet.publicKey,n.recentBlockhash=o,i.forEach((t=>{n.partialSign(t)})),n}}));const a=await this.wallet.signAllTransactions(s),c=[];for(let t=0;t<s.length;t+=1){const o=a[t],s=o.serialize();try{c.push(await ep(this.connection,s,e))}catch(t){if(t instanceof rp){const e=gf(lf(o)?(null===(r=o.signatures)||void 0===r?void 0:r[0])||new Uint8Array:null!==(n=o.signature)&&void 0!==n?n:new Uint8Array),s=await this.connection.getTransaction(e,{commitment:"confirmed"});if(s){const e=null===(i=s.meta)||void 0===i?void 0:i.logMessages;throw e?new qu.SendTransactionError(t.message,e):t}throw t}throw t}}return c}async simulate(t,e,r,n){let i,o=(await this.connection.getLatestBlockhash(null!=r?r:this.connection.commitment)).blockhash;if(lf(t)?(e&&(t.sign(e),t=await this.wallet.signTransaction(t)),i=await this.connection.simulateTransaction(t,{commitment:r})):(t.feePayer=t.feePayer||this.wallet.publicKey,t.recentBlockhash=o,e&&(t=await this.wallet.signTransaction(t)),i=await Vf(this.connection,t,e,r,n)),i.value.err)throw new tp(i.value);return i.value}}class tp extends Error{constructor(t,e){super(e),this.simulationResponse=t}}async function ep(t,e,r){const n=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},i=await t.sendRawTransaction(e,n),o=(await t.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw new rp(`Raw transaction ${i} failed (${JSON.stringify(o)})`);return i}class rp extends Error{constructor(t){super(t)}}function np(){return null===ip?Qf.local():ip}let ip=null;const op=new Set(["anchor-deprecated-state","debug-logs"]),sp=new Map;function ap(t){return void 0!==sp.get(t)}var cp=Object.freeze({__proto__:null,set:function(t){if(!op.has(t))throw new Error("Invalid feature");sp.set(t,!0)},isSet:ap});class up extends Error{constructor(t){super(t),this.name="IdlError"}}class lp{constructor(t){this.stack=t}static parse(t){var e;const r=/^Program (\w*) invoke/,n=/^Program \w* success/,i=[];for(let o=0;o<t.length;o++){if(n.exec(t[o])){i.pop();continue}const s=null===(e=r.exec(t[o]))||void 0===e?void 0:e[1];s&&i.push(new qu.PublicKey(s))}return new lp(i)}}class hp extends Error{constructor(t,e,r,n,i,o){super(r.join("\n").replace("Program log: ","")),this.errorLogs=r,this.logs=n,this.error={errorCode:t,errorMessage:e,comparedValues:o,origin:i},this._programErrorStack=lp.parse(n)}static parse(t){if(!t)return null;const e=t.findIndex((t=>t.startsWith("Program log: AnchorError")));if(-1===e)return null;const r=t[e],n=[r];let i;if(e+1<t.length)if("Program log: Left:"===t[e+1]){const r=/^Program log: (.*)$/,o=r.exec(t[e+2])[1],s=r.exec(t[e+4])[1];i=[new qu.PublicKey(o),new qu.PublicKey(s)],n.push(...t.slice(e+1,e+5))}else if(t[e+1].startsWith("Program log: Left:")){const r=/^Program log: (Left|Right): (.*)$/,o=r.exec(t[e+1])[2],s=r.exec(t[e+2])[2];n.push(...t.slice(e+1,e+3)),i=[o,s]}const o=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),s=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),a=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(o){const[e,r,s]=o.slice(1,4),a={code:e,number:parseInt(r)};return new hp(a,s,n,t,void 0,i)}if(s){const[e,r,o,a,c]=s.slice(1,6),u={code:o,number:parseInt(a)},l={file:e,line:parseInt(r)};return new hp(u,c,n,t,l,i)}if(a){const[e,r,o,s]=a.slice(1,5),c=e,u={code:r,number:parseInt(o)};return new hp(u,s,n,t,c,i)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class dp extends Error{constructor(t,e,r){super(),this.code=t,this.msg=e,this.logs=r,r&&(this._programErrorStack=lp.parse(r))}static parse(t,e){const r=t.toString();let n,i;if(r.includes("custom program error:")){let t=r.split("custom program error: ");if(2!==t.length)return null;n=t[1]}else{const t=r.match(/"Custom":([0-9]+)}/g);if(!t||t.length>1)return null;n=t[0].match(/([0-9]+)/g)[0]}try{i=parseInt(n)}catch(t){return null}let o=e.get(i);return void 0!==o?new dp(i,o,t.logs):(o=pp.get(i),void 0!==o?new dp(i,o,t.logs):null)}get program(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack}toString(){return this.msg}}function fp(t,e){ap("debug-logs")&&console.log("Translating error:",t);const r=hp.parse(t.logs);if(r)return r;const n=dp.parse(t,e);if(n)return n;if(t.logs){const e={get:function(e,r){return"programErrorStack"===r?e.programErrorStack.stack:"program"===r?e.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=lp.parse(t.logs),new Proxy(t,e)}return t}const pp=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exemption constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"Deprecated Error, feel free to replace with something else"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[2020,"A required account for the constraint is None"],[2500,"A require expression was violated"],[2501,"A require_eq expression was violated"],[2502,"A require_keys_eq expression was violated"],[2503,"A require_neq expression was violated"],[2504,"A require_keys_neq expression was violated"],[2505,"A require_gt expression was violated"],[2506,"A require_gte expression was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[3015,"The given public key does not match the required sysvar"],[3016,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[3017,"The account was duplicated for more than one reallocation"],[4100,"The declared program id does not match the actual program id"],[5e3,"The API being used is deprecated and should no longer be used"]]);var gp=function(){return gp=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},gp.apply(this,arguments)},yp=function(){return yp=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},yp.apply(this,arguments)};function mp(t){return t.toLowerCase()}var bp=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],wp=/[^A-Z0-9]+/gi;function vp(t,e,r){return e instanceof RegExp?t.replace(e,r):e.reduce((function(t,e){return t.replace(e,r)}),t)}class _p{static fieldLayout(t,e){const r=void 0!==t.name?Yu()(t.name):void 0;switch(t.type){case"bool":return Ju.bool(r);case"u8":return Ju.u8(r);case"i8":return Ju.i8(r);case"u16":return Ju.u16(r);case"i16":return Ju.i16(r);case"u32":return Ju.u32(r);case"i32":return Ju.i32(r);case"f32":return Ju.f32(r);case"u64":return Ju.u64(r);case"i64":return Ju.i64(r);case"f64":return Ju.f64(r);case"u128":return Ju.u128(r);case"i128":return Ju.i128(r);case"u256":return Ju.u256(r);case"i256":return Ju.i256(r);case"bytes":return Ju.vecU8(r);case"string":return Ju.str(r);case"publicKey":return Ju.publicKey(r);default:if("vec"in t.type)return Ju.vec(_p.fieldLayout({name:void 0,type:t.type.vec},e),r);if("option"in t.type)return Ju.option(_p.fieldLayout({name:void 0,type:t.type.option},e),r);if("defined"in t.type){if(!e)throw new up("User defined types not provided");const n=t.type.defined,i=e.filter((t=>t.name===n));if(1!==i.length)throw new up(`Type not found: ${JSON.stringify(t)}`);return _p.typeDefLayout(i[0],e,r)}if("array"in t.type){let n=t.type.array[0],i=t.type.array[1],o=_p.fieldLayout({name:void 0,type:n},e);return Ju.array(o,i,r)}throw new Error(`Not yet implemented: ${t}`)}}static typeDefLayout(t,e=[],r){switch(t.type.kind){case"struct":{const n=t.type.fields.map((t=>_p.fieldLayout(t,e)));return Ju.struct(n,r)}case"enum":{let n=t.type.variants.map((t=>{const r=Yu()(t.name);if(!t.fields)return Ju.struct([],r);const n=t.fields.map(((t,r)=>(null==t?void 0:t.name)?_p.fieldLayout(t,e):_p.fieldLayout({type:t,name:r.toString()},e)));return Ju.struct(n,r)}));return void 0!==r?Ju.rustEnum(n).replicate(r):Ju.rustEnum(n,r)}case"alias":return _p.fieldLayout({type:t.type.value,name:t.name},e)}}}const Ep="global";class Sp{constructor(t){this.idl=t,this.ixLayout=Sp.parseIxLayout(t);const e=new Map;t.instructions.forEach((t=>{const r=xp(Ep,t.name);e.set(Gu().encode(r),{layout:this.ixLayout.get(t.name),name:t.name})})),this.sighashLayouts=e}encode(t,e){return this._encode(Ep,t,e)}_encode(t,e,r){const n=m.Buffer.alloc(1e3),i=Yu()(e),o=this.ixLayout.get(i);if(!o)throw new Error(`Unknown method: ${i}`);const s=o.encode(r,n),a=n.slice(0,s);return m.Buffer.concat([xp(t,e),a])}static parseIxLayout(t){const e=t.instructions.map((e=>{let r=e.args.map((e=>{var r,n;return _p.fieldLayout(e,Array.from([...null!==(r=t.accounts)&&void 0!==r?r:[],...null!==(n=t.types)&&void 0!==n?n:[]]))}));const n=Yu()(e.name);return[n,Ju.struct(r,n)]}));return new Map(e)}decode(t,e="hex"){"string"==typeof t&&(t="hex"===e?m.Buffer.from(t,"hex"):Gu().decode(t));let r=Gu().encode(t.slice(0,8)),n=t.slice(8);const i=this.sighashLayouts.get(r);return i?{data:i.layout.decode(n),name:i.name}:null}format(t,e){return kp.format(t,e,this.idl)}}class kp{static format(t,e,r){const n=r.instructions.filter((e=>t.name===e.name))[0];if(void 0===n)return console.error("Invalid instruction given"),null;const i=n.args.map((e=>({name:e.name,type:kp.formatIdlType(e.type),data:kp.formatIdlData(e,t.data[e.name],r.types)}))),o=kp.flattenIdlAccounts(n.accounts);return{args:i,accounts:e.map(((t,e)=>e<o.length?{name:o[e].name,...t}:{name:void 0,...t}))}}static formatIdlType(t){if("string"==typeof t)return t;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("defined"in t)return t.defined;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,r){if("string"==typeof t.type)return e.toString();if(t.type.hasOwnProperty("vec"))return"["+e.map((e=>this.formatIdlData({name:"",type:t.type.vec},e))).join(", ")+"]";if(t.type.hasOwnProperty("option"))return null===e?"null":this.formatIdlData({name:"",type:t.type.option},e,r);if(t.type.hasOwnProperty("defined")){if(void 0===r)throw new Error("User defined types not provided");const n=r.filter((e=>e.name===t.type.defined));if(1!==n.length)throw new Error(`Type not found: ${t.type.defined}`);return kp.formatIdlDataDefined(n[0],e,r)}return"unknown"}static formatIdlDataDefined(t,e,r){switch(t.type.kind){case"struct":{const n=t.type,i=Object.keys(e).map((t=>{const i=n.fields.find((e=>e.name===t));if(!i)throw new Error("Unable to find type");return t+": "+kp.formatIdlData(i,e[t],r)})).join(", ");return"{ "+i+" }"}case"enum":if(0===t.type.variants.length)return"{}";if(t.type.variants[0].name){const n=t.type.variants,i=Object.keys(e)[0],o=e[i],s=Object.keys(o).map((t=>{var e;const s=o[t],a=null===(e=n[i])||void 0===e?void 0:e.find((e=>e.name===t));if(!a)throw new Error("Unable to find variant");return t+": "+kp.formatIdlData(a,s,r)})).join(", "),a=Yu()(i,{pascalCase:!0});return 0===s.length?a:`${a} { ${s} }`}return"Tuple formatting not yet implemented";case"alias":return kp.formatIdlType(t.type.value)}}static flattenIdlAccounts(t,e){return t.map((t=>{const r=function(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}(t.name);if(t.hasOwnProperty("accounts")){const n=e?`${e} > ${r}`:r;return kp.flattenIdlAccounts(t.accounts,n)}return{...t,name:e?`${e} > ${r}`:r}})).flat()}}function xp(t,e){var r;let n=`${t}:${void 0===r&&(r={}),function(t,e){return void 0===e&&(e={}),function(t,e){void 0===e&&(e={});for(var r=e.splitRegexp,n=void 0===r?bp:r,i=e.stripRegexp,o=void 0===i?wp:i,s=e.transform,a=void 0===s?mp:s,c=e.delimiter,u=void 0===c?" ":c,l=vp(vp(t,n,"$1\0$2"),o,"\0"),h=0,d=l.length;"\0"===l.charAt(h);)h++;for(;"\0"===l.charAt(d-1);)d--;return l.slice(h,d).split("\0").map(a).join(u)}(t,yp({delimiter:"."},e))}(e,gp({delimiter:"_"},r))}`;return m.Buffer.from((0,Xu.J)(n).slice(0,8))}function Ap(t,e){switch(e.type.kind){case"struct":return e.type.fields.map((e=>Ip(t,e.type))).reduce(((t,e)=>t+e),0);case"enum":{const r=e.type.variants.map((e=>e.fields?e.fields.map((e=>Ip(t,"object"==typeof e&&"name"in e?e.type:e))).reduce(((t,e)=>t+e),0):0));return Math.max(...r)+1}case"alias":return Ip(t,e.type.value)}}function Ip(t,e){var r,n;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"u256":case"i256":case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+Ip(t,e.option);if("coption"in e)return 4+Ip(t,e.coption);if("defined"in e){const i=null!==(n=null===(r=t.types)||void 0===r?void 0:r.filter((t=>t.name===e.defined)))&&void 0!==n?n:[];if(1!==i.length)throw new up(`Type not found: ${JSON.stringify(e)}`);return Ap(t,i[0])}if("array"in e){let r=e.array[0],n=e.array[1];return Ip(t,r)*n}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}function Tp(t){return Buffer.from((0,Xu.J)(t).slice(0,8))}class Cp{constructor(t){if(void 0===t.accounts)return void(this.accountLayouts=new Map);const e=t.accounts.map((e=>[e.name,_p.typeDefLayout(e,t.types)]));this.accountLayouts=new Map(e),this.idl=t}async encode(t,e){const r=m.Buffer.alloc(1e3),n=this.accountLayouts.get(t);if(!n)throw new Error(`Unknown account: ${t}`);const i=n.encode(e,r);let o=r.slice(0,i),s=Cp.accountDiscriminator(t);return m.Buffer.concat([s,o])}decode(t,e){if(Cp.accountDiscriminator(t).compare(e.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeAny(t){const e=t.slice(0,8),r=Array.from(this.accountLayouts.keys()).find((t=>Cp.accountDiscriminator(t).equals(e)));if(!r)throw new Error("Account descriminator not found");return this.decodeUnchecked(r,t)}decodeUnchecked(t,e){const r=e.subarray(8),n=this.accountLayouts.get(t);if(!n)throw new Error(`Unknown account: ${t}`);return n.decode(r)}memcmp(t,e){const r=Cp.accountDiscriminator(t);return{offset:0,bytes:Gu().encode(e?m.Buffer.concat([r,e]):r)}}size(t){var e;return 8+(null!==(e=Ap(this.idl,t))&&void 0!==e?e:0)}static accountDiscriminator(t){return Tp(`account:${Yu()(t,{pascalCase:!0,preserveConsecutiveUppercase:!0})}`)}}class Op{constructor(t){if(void 0===t.events)return void(this.layouts=new Map);const e=t.events.map((e=>{let r={name:e.name,type:{kind:"struct",fields:e.fields.map((t=>({name:t.name,type:t.type})))}};return[e.name,_p.typeDefLayout(r,t.types)]}));this.layouts=new Map(e),this.discriminators=new Map(void 0===t.events?[]:t.events.map((t=>{return[mf((e=t.name,Tp(`event:${e}`))),t.name];var e})))}decode(t){let e;try{e=bf(t)}catch(t){return null}const r=mf(e.slice(0,8)),n=this.discriminators.get(r);if(void 0===n)return null;const i=this.layouts.get(n);if(!i)throw new Error(`Unknown event: ${n}`);return{data:i.decode(e.slice(8)),name:n}}}class Pp{constructor(t){if(void 0===t.types)return void(this.typeLayouts=new Map);const e=t.types.map((e=>[e.name,_p.typeDefLayout(e,t.types)]));this.typeLayouts=new Map(e),this.idl=t}encode(t,e){const r=m.Buffer.alloc(1e3),n=this.typeLayouts.get(t);if(!n)throw new Error(`Unknown type: ${t}`);const i=n.encode(e,r);return r.slice(0,i)}decode(t,e){const r=this.typeLayouts.get(t);if(!r)throw new Error(`Unknown type: ${t}`);return r.decode(e)}}class Rp{constructor(t){this.instruction=new Sp(t),this.accounts=new Cp(t),this.events=new Op(t),this.types=new Pp(t)}}var Mp="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{};function Np(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}class Lp{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,r){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var Bp=Lp;class Dp extends Lp{isCount(){throw new Error("ExternalLayout is abstract")}}class jp extends Dp{constructor(t,e,r){if(!(t instanceof Lp))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Up||this.layout instanceof zp}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,r){return void 0===r&&(r=0),this.layout.encode(t,e,r+this.offset)}}class Up extends Lp{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntLE(t,r,this.span),this.span}}class zp extends Lp{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntBE(t,r,this.span),this.span}}const Fp=Math.pow(2,32);function Wp(t){const e=Math.floor(t/Fp);return{hi32:e,lo32:t-e*Fp}}function $p(t,e){return t*Fp+e}class qp extends Lp{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32LE(e);return $p(t.readInt32LE(e+4),r)}encode(t,e,r){void 0===r&&(r=0);const n=Wp(t);return e.writeUInt32LE(n.lo32,r),e.writeInt32LE(n.hi32,r+4),8}}class Hp extends Lp{constructor(t,e,r){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof Lp),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===r&&(r=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(n,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(t,e);return e+=i,r+i}),0)}catch(t){throw new RangeError("indeterminate span")}return r}decode(t,e){void 0===e&&(e=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(t,e)),e+=n.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r){void 0===r&&(r=0);const n=r;let i=0,o=0;for(const n of this.fields){let s=n.span;if(o=0<s?s:0,void 0!==n.property){const i=t[n.property];void 0!==i&&(o=n.encode(i,e,r),0>s&&(s=n.getSpan(e,r)))}i=r,r+=s}return i+o-n}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class Vp{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Kp extends Vp{constructor(t,e){if(!(t instanceof Dp&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}}class Gp extends Lp{constructor(t,e,r){const n=t instanceof Up||t instanceof zp;if(n)t=new Kp(new jp(t));else if(t instanceof Dp&&t.isCount())t=new Kp(t);else if(!(t instanceof Vp))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof Lp))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&n&&(i+=t.layout.span)),super(i,r),this.discriminator=t,this.usesPrefixDiscriminator=n,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return o(t)},this.configGetSourceVariant=function(t){o=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const r=this.getVariant(t,e);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const r=this.registry[e];if(t.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(t,e){let r;void 0===e&&(e=0);const n=this.discriminator,i=n.decode(t,e);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=n.layout.span),r=this.makeDestinationObject(),r[n.property]=i,r[o.property]=this.defaultLayout.decode(t,e+s)}else r=o.decode(t,e);return r}encode(t,e,r){void 0===r&&(r=0);const n=this.getSourceVariant(t);if(void 0===n){const n=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=n.layout.span),n.encode(t[n.property],e,r),o+i.encode(t[i.property],e,r+o)}return n.encode(t,e,r)}addVariant(t,e,r){const n=new Zp(this,t,e,r);return this.registry[t]=n,n}getVariant(t,e){let r=t;return Buffer.isBuffer(t)&&(void 0===e&&(e=0),r=this.discriminator.decode(t,e)),this.registry[r]}}class Zp extends Lp{constructor(t,e,r,n){if(!(t instanceof Gp))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof Lp))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof n)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=r?r.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,n),this.union=t,this.variant=e,this.layout=r||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(t,e+r)}decode(t,e){const r=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let i=n;if(this.layout&&(this.layout.encode(t[this.property],e,r+n),i+=this.layout.getSpan(e,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class Yp extends Lp{constructor(t,e){if(!(t instanceof Dp&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof Dp||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e){void 0===e&&(e=0);let r=this.span;return 0>r&&(r=this.length.decode(t,e)),t.slice(e,e+r)}encode(t,e,r){let n=this.length;if(this.length instanceof Dp&&(n=t.length),!Buffer.isBuffer(t)||n!==t.length)throw new TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+n+") Buffer as src"));var i;if(r+n>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),r,n,"hex"),this.length instanceof Dp&&this.length.encode(n,e,r),n}}var Jp=(t,e,r)=>new jp(t,e,r),Xp=t=>new Up(4,t),Qp=t=>new qp(t),tg=(t,e,r)=>new Hp(t,e,r),eg=(t,e,r)=>new Gp(t,e,r),rg=(t,e)=>new Yp(t,e);class ng extends Bp{constructor(t){super(-1,t),this.property=t,this.layout=tg([Xp("length"),Xp("lengthPadding"),rg(Jp(Xp(),-8),"chars")],this.property)}encode(t,e,r=0){if(null==t)return this.layout.span;const n={chars:Buffer.from(t,"utf8")};return this.layout.encode(n,e,r)}decode(t,e=0){return this.layout.decode(t,e).chars.toString()}getSpan(t,e=0){return Xp().span+Xp().span+new(Vu())(new Uint8Array(t).slice(e,e+4),10,"le").toNumber()}}function ig(t){return new ng(t)}function og(t){return rg(32,t)}const sg=eg(Xp("instruction"));sg.addVariant(0,tg([Qp("lamports"),Qp("space"),og("owner")]),"createAccount"),sg.addVariant(1,tg([og("owner")]),"assign"),sg.addVariant(2,tg([Qp("lamports")]),"transfer"),sg.addVariant(3,tg([og("base"),ig("seed"),Qp("lamports"),Qp("space"),og("owner")]),"createAccountWithSeed"),sg.addVariant(4,tg([og("authorized")]),"advanceNonceAccount"),sg.addVariant(5,tg([Qp("lamports")]),"withdrawNonceAccount"),sg.addVariant(6,tg([og("authorized")]),"initializeNonceAccount"),sg.addVariant(7,tg([og("authorized")]),"authorizeNonceAccount"),sg.addVariant(8,tg([Qp("space")]),"allocate"),sg.addVariant(9,tg([og("base"),ig("seed"),Qp("space"),og("owner")]),"allocateWithSeed"),sg.addVariant(10,tg([og("base"),ig("seed"),og("owner")]),"assignWithSeed"),sg.addVariant(11,tg([Qp("lamports"),ig("seed"),og("owner")]),"transferWithSeed"),Math.max(...Object.values(sg.registry).map((t=>t.span)));class ag extends Bp{constructor(t,e,r,n){super(t.span,n),this.layout=t,this.decoder=e,this.encoder=r}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,r){return this.layout.encode(this.encoder(t),e,r)}getSpan(t,e){return this.layout.getSpan(t,e)}}function cg(t){return new ag(rg(32),(t=>new qu.PublicKey(t)),(t=>t.toBuffer()),t)}tg([Xp("version"),Xp("state"),cg("authorizedPubkey"),cg("nonce"),tg([("lamportsPerSignature",new class extends Lp{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32LE(e);return $p(t.readUInt32LE(e+4),r)}encode(t,e,r){void 0===r&&(r=0);const n=Wp(t);return e.writeUInt32LE(n.lo32,r),e.writeUInt32LE(n.hi32,r+4),8}}("lamportsPerSignature"))],"feeCalculator")]);var ug=Object.freeze({__proto__:null,hash:function(t){return(new TextDecoder).decode((0,Xu.J)(t))}});function lg(t,...e){let r=[m.Buffer.from([97,110,99,104,111,114])];e.forEach((t=>{r.push(t instanceof m.Buffer?t:Sf(t).toBuffer())}));const[n]=qu.PublicKey.findProgramAddressSync(r,Sf(t));return n}var hg=Object.freeze({__proto__:null,createWithSeedSync:function(t,e,r){const n=m.Buffer.concat([t.toBuffer(),m.Buffer.from(e),r.toBuffer()]);return new qu.PublicKey((0,Xu.J)(n))},associated:lg});const dg=new qu.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),fg=new qu.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var pg=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:dg,ASSOCIATED_PROGRAM_ID:fg,associatedAddress:function({mint:t,owner:e}){return qu.PublicKey.findProgramAddressSync([e.toBuffer(),dg.toBuffer(),t.toBuffer()],fg)[0]}}),gg={exports:{}};!function(t,e){var r="undefined"!=typeof self?self:Mp,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function g(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,r=p(e);return e.readAsText(t),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(t,e){t=u(t),e=l(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},d.prototype.delete=function(t){delete this.map[u(t)]},d.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},d.prototype.set=function(t,e){this.map[u(t)]=l(e)},d.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},d.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),h(t)},d.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},d.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),h(t)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var r,n,i=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(n=(r=e.method||this.method||"GET").toUpperCase(),b.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},m.call(w.prototype),m.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];_.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function S(t,r){return new Promise((function(n,o){var s=new w(t,r);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new d,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new _(i,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,t.fetch||(t.fetch=S,t.Headers=d,t.Request=w,t.Response=_),e.Headers=d,e.Request=w,e.Response=_,e.fetch=S,Object.defineProperty(e,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(gg,gg.exports);var yg=Np(gg.exports);async function mg(t,e){const r=await t.getAccountInfo(e);if(null===r)throw new Error("program account not found");const{program:n}=wg(r.data),i=await t.getAccountInfo(n.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=wg(i.data);return o}const bg=Ju.rustEnum([Ju.struct([],"uninitialized"),Ju.struct([Ju.option(Ju.publicKey(),"authorityAddress")],"buffer"),Ju.struct([Ju.publicKey("programdataAddress")],"program"),Ju.struct([Ju.u64("slot"),Ju.option(Ju.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,Ju.u32());function wg(t){return bg.decode(t)}var vg=Object.freeze({__proto__:null,verifiedBuild:async function(t,e,r=5){const n=`https://api.apr.dev/api/v0/program/${e.toString()}/latest?limit=${r}`,[i,o]=await Promise.all([mg(t,e),yg(n)]),s=(await o.json()).filter((t=>!t.aborted&&"Built"===t.state&&"Verified"===t.verified));if(0===s.length)return null;const a=s[0];return i.slot.toNumber()!==a.verified_slot?null:a},fetchData:mg,decodeUpgradeableLoaderState:wg}),_g=Object.freeze({__proto__:null,sha256:ug,rpc:Xf,publicKey:hg,bytes:vf,token:pg,features:cp,registry:vg});function Eg(t){return"accounts"in t}const Sg=Ju.struct([Ju.publicKey("authority"),Ju.vecU8("data")]);function kg(t,e){var r,n;let i={};const o=t.args?t.args.length:0;if(e.length>o){if(e.length!==o+1)throw new Error(`provided too many arguments ${e} to instruction ${null==t?void 0:t.name} expecting: ${null!==(n=null===(r=t.args)||void 0===r?void 0:r.map((t=>t.name)))&&void 0!==n?n:[]}`);i=e.pop()}return[e,i]}class xg{static build(t,e,r){if("_inner"===t.name)throw new up("the _inner name is reserved");const n=(...i)=>{const[o,s]=kg(t,[...i]);Ef(t.accounts,s.accounts);const a=n.accounts(s.accounts);return void 0!==s.remainingAccounts&&a.push(...s.remainingAccounts),ap("debug-logs")&&console.log("Outgoing account metas:",a),new qu.TransactionInstruction({keys:a,programId:r,data:e(t.name,_f(t,...o))})};return n.accounts=e=>xg.accountsArray(e,t.accounts,r,t.name),n}static accountsArray(t,e,r,n){return t?e.map((e=>{if(void 0!==("accounts"in e?e.accounts:void 0)){const i=t[e.name];return xg.accountsArray(i,e.accounts,r,n).flat()}{const i=e;let o;try{o=Sf(t[e.name])}catch(t){throw new Error(`Wrong input type for account "${e.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}const s=i.isOptional&&o.equals(r);return{pubkey:o,isWritable:i.isMut&&!s,isSigner:i.isSigner&&!s}}})).flat():[]}}class Ag{static build(t,e){return(...r)=>{var n,i,o;const[,s]=kg(t,[...r]),a=new qu.Transaction;if(s.preInstructions&&s.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(n=s.preInstructions)||void 0===n||n.forEach((t=>a.add(t))),null===(i=s.instructions)||void 0===i||i.forEach((t=>a.add(t))),a.add(e(...r)),null===(o=s.postInstructions)||void 0===o||o.forEach((t=>a.add(t))),a}}}class Ig{static build(t,e,r,n){return async(...i)=>{var o;const s=e(...i),[,a]=kg(t,[...i]);if(void 0===n.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await n.sendAndConfirm(s,null!==(o=a.signers)&&void 0!==o?o:[],a.options)}catch(t){throw fp(t,r)}}}}class Tg{static build(t,e,r,n){var i;const o={};return null===(i=t.accounts)||void 0===i||i.forEach((i=>{const s=Yu()(i.name);o[s]=new Cg(t,i,r,n,e)})),o}}class Cg{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}get idlAccount(){return this._idlAccount}constructor(t,e,r,n,i){this._idlAccount=e,this._programId=r,this._provider=null!=n?n:np(),this._coder=null!=i?i:new Rp(t),this._size=this._coder.accounts.size(e)}async fetchNullable(t,e){const{data:r}=await this.fetchNullableAndContext(t,e);return r}async fetchNullableAndContext(t,e){const r=await this.getAccountInfoAndContext(t,e),{value:n,context:i}=r;return{data:n&&0!==n.data.length?this._coder.accounts.decode(this._idlAccount.name,n.data):null,context:i}}async fetch(t,e){const{data:r}=await this.fetchNullableAndContext(t,e);if(null===r)throw new Error(`Account does not exist or has no data ${t.toString()}`);return r}async fetchAndContext(t,e){const{data:r,context:n}=await this.fetchNullableAndContext(t,e);if(null===r)throw new Error(`Account does not exist ${t.toString()}`);return{data:r,context:n}}async fetchMultiple(t,e){return(await this.fetchMultipleAndContext(t,e)).map((t=>t?t.data:null))}async fetchMultipleAndContext(t,e){return(await qf(this._provider.connection,t.map((t=>Sf(t))),e)).map((t=>{if(null==t)return null;const{account:e,context:r}=t;return{data:this._coder.accounts.decode(this._idlAccount.name,e.data),context:r}}))}async all(t){const e=this.coder.accounts.memcmp(this._idlAccount.name,t instanceof Buffer?t:void 0),r=[];return null!=(null==e?void 0:e.offset)&&null!=(null==e?void 0:e.bytes)&&r.push({memcmp:{offset:e.offset,bytes:e.bytes}}),null!=(null==e?void 0:e.dataSize)&&r.push({dataSize:e.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...r,...Array.isArray(t)?t:[]]})).map((({pubkey:t,account:e})=>({publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,e.data)})))}subscribe(t,e){const r=Og.get(t.toString());if(r)return r.ee;const n=new(uf());t=Sf(t);const i=this._provider.connection.onAccountChange(t,(t=>{const e=this._coder.accounts.decode(this._idlAccount.name,t.data);n.emit("change",e)}),e);return Og.set(t.toString(),{ee:n,listener:i}),n}async unsubscribe(t){let e=Og.get(t.toString());e?Og&&await this._provider.connection.removeAccountChangeListener(e.listener).then((()=>{Og.delete(t.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(t,e){const r=this.size;if(void 0===this._provider.publicKey)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return qu.SystemProgram.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:t.publicKey,space:null!=e?e:r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=e?e:r),programId:this._programId})}async associated(...t){const e=await this.associatedAddress(...t);return await this.fetch(e)}async associatedAddress(...t){return await lg(this._programId,...t)}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo(Sf(t),e)}async getAccountInfoAndContext(t,e){return await this._provider.connection.getAccountInfoAndContext(Sf(t),e)}}const Og=new Map,Pg="Program log: ";class Rg{constructor(t,e,r){this._programId=t,this._provider=e,this._eventParser=new Mg(t,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e){var r;let n=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(t)||this._eventListeners.set(t,[]),this._eventListeners.set(t,(null!==(r=this._eventListeners.get(t))&&void 0!==r?r:[]).concat(n)),this._eventCallbacks.set(n,[t,e]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((t,e)=>{if(!t.err)for(const r of this._eventParser.parseLogs(t.logs)){const n=this._eventListeners.get(r.name);n&&n.forEach((n=>{const i=this._eventCallbacks.get(n);if(i){const[,n]=i;n(r.data,e.slot,t.signature)}}))}}))),n}async removeEventListener(t){const e=this._eventCallbacks.get(t);if(!e)throw new Error(`Event listener ${t} doesn't exist!`);const[r]=e;let n=this._eventListeners.get(r);if(!n)throw new Error(`Event listeners don't exist for ${r}!`);if(this._eventCallbacks.delete(t),n=n.filter((e=>e!==t)),this._eventListeners.set(r,n),0===n.length&&this._eventListeners.delete(r),0===this._eventCallbacks.size){if(0!==this._eventListeners.size)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class Mg{constructor(t,e){this.coder=e,this.programId=t}*parseLogs(t,e=!1){const r=new Lg(t),n=new Ng;let i=r.next();for(;null!==i;){let[t,o,s]=this.handleLog(n,i,e);t&&(yield t),o&&n.push(o),s&&n.pop(),i=r.next()}}handleLog(t,e,r){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e,r):[null,...this.handleSystemLog(e)]}handleProgramLog(t,e){if(t.startsWith(Pg)||t.startsWith("Program data: ")){const r=t.startsWith(Pg)?t.slice(13):t.slice(14),n=this.coder.events.decode(r);if(e&&null===n)throw new Error(`Unable to decode event ${r}`);return[n,null,!1]}return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const e=t.split(":")[0];return null!==e.match(/^Program (.*) success/g)?[null,!0]:e.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:e.includes("invoke")?["cpi",!1]:[null,!1]}}class Ng{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class Lg{constructor(t){this.logs=t}next(){if(0===this.logs.length)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}class Bg{static build(t,e,r,n,i,o,s){return async(...a)=>{var c;const u=e(...a),[,l]=kg(t,[...a]);let h;if(void 0===n.simulate)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{h=await n.simulate(u,l.signers,null===(c=l.options)||void 0===c?void 0:c.commitment)}catch(t){throw fp(t,r)}if(void 0===h)throw new Error("Unable to simulate transaction");const d=h.logs;if(!d)throw new Error("Simulated logs not found");const f=[];if(s.events){let t=new Mg(o,i);for(const e of t.parseLogs(d))f.push(e)}return{events:f,raw:d}}}}function Dg(t){return new zg(rg(8),(t=>Wg.fromBuffer(t)),(t=>t.toBuffer()),t)}function jg(t){return new zg(rg(32),(t=>new qu.PublicKey(t)),(t=>t.toBuffer()),t)}function Ug(t,e){return new Fg(t,e)}class zg extends Bp{constructor(t,e,r,n){super(t.span,n),this.layout=t,this.decoder=e,this.encoder=r}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,r){return this.layout.encode(this.encoder(t),e,r)}getSpan(t,e){return this.layout.getSpan(t,e)}}class Fg extends Bp{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=Xp()}encode(t,e,r=0){return null==t?this.layout.span+this.discriminator.encode(0,e,r):(this.discriminator.encode(1,e,r),this.layout.encode(t,e,r+4)+4)}decode(t,e=0){const r=this.discriminator.decode(t,e);if(0===r)return null;if(1===r)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}class Wg extends(Vu()){toBuffer(){const t=super.toArray().reverse(),e=Buffer.from(t);if(8===e.length)return e;if(e.length>=8)throw new Error("u64 too large");const r=Buffer.alloc(8);return e.copy(r),r}static fromBuffer(t){if(8!==t.length)throw new Error(`Invalid buffer length: ${t.length}`);return new Wg([...t].reverse().map((t=>`00${t.toString(16)}`.slice(-2))).join(""),16)}}const $g=tg([jg("mint"),jg("owner"),Dg("amount"),Ug(jg(),"delegate"),(t=>{const e=eg(new Up(1,"discriminator"),null,"state");return e.addVariant(0,tg([]),"uninitialized"),e.addVariant(1,tg([]),"initialized"),e.addVariant(2,tg([]),"frozen"),e})(),Ug(Dg(),"isNative"),Dg("delegatedAmount"),Ug(jg(),"closeAuthority")]);class qg{constructor(t,e,r,n,i,o,s,a){this._accounts=e,this._provider=r,this._programId=n,this._idlIx=i,this._idlTypes=s,this._customResolver=a,this._args=t,this._accountStore=new Hg(r,o,this._programId)}args(t){this._args=t}async resolve(){for(await this.resolveConst(this._idlIx.accounts),this._resolveEventCpi(this._idlIx.accounts);await this.resolvePdas(this._idlIx.accounts)+await this.resolveRelations(this._idlIx.accounts)+await this.resolveCustom()>0;);}async resolveCustom(){if(this._customResolver){const{accounts:t,resolved:e}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=t,e}return 0}resolveOptionalsHelper(t,e){const r={};for(const n of e){const e=n.name,i=t[e];void 0!==i&&(Kg(i)?Eg(n)?r[e]=this.resolveOptionalsHelper(i,n.accounts):r[e]=Gg(i,!0):null!==i?r[e]=Sf(i):n.isOptional&&(r[e]=this._programId))}return r}resolveOptionals(t){Object.assign(this._accounts,this.resolveOptionalsHelper(t,this._idlIx.accounts))}get(t){const e=t.reduce(((t,e)=>t&&t[e]),this._accounts);if(e&&e.toBase58)return e}set(t,e){let r=this._accounts;t.forEach(((n,i)=>{i==t.length-1&&(r[n]=e),r[n]=r[n]||{},r=r[n]}))}async resolveConst(t,e=[]){for(let r=0;r<t.length;r+=1){const n=t[r],i=n.accounts;i&&await this.resolveConst(i,[...e,Yu()(n.name)]);const o=n,s=Yu()(n.name);if(o.isSigner&&!this.get([...e,s])){if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this.set([...e,s],this._provider.wallet.publicKey)}Reflect.has(qg.CONST_ACCOUNTS,s)&&!this.get([...e,s])&&this.set([...e,s],qg.CONST_ACCOUNTS[s])}}_resolveEventCpi(t,e=[]){for(const r in t){const n=t[r],i=n.accounts;i&&this._resolveEventCpi(i,[...e,Yu()(n.name)]);const o=+r+1;if(o===t.length)return;const s=Yu()(t[r].name),a=Yu()(t[o].name);if("eventAuthority"===s&&"program"===a){const t=[...e,s],r=[...e,a];return this.get(t)||this.set(t,qu.PublicKey.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),void(this.get(r)||this.set(r,this._programId))}}}async resolvePdas(t,e=[]){let r=0;for(let n=0;n<t.length;n+=1){const i=t[n],o=i.accounts;o&&(r+=await this.resolvePdas(o,[...e,Yu()(i.name)]));const s=i,a=Yu()(i.name);s.pda&&s.pda.seeds.length>0&&!this.get([...e,a])&&Boolean(await this.autoPopulatePda(s,e))&&(r+=1)}return r}async resolveRelations(t,e=[]){let r=0;for(let n=0;n<t.length;n+=1){const i=t[n],o=i.accounts;o&&(r+=await this.resolveRelations(o,[...e,Yu()(i.name)]));const s=i.relations||[],a=Yu()(i.name),c=[...e,a],u=this.get(c);if(u){const t=s.filter((t=>!this.get([...e,Yu()(t)])));if(r+=t.length,t.length>0){const r=await this._accountStore.fetchAccount({publicKey:u});await Promise.all(t.map((async t=>{const n=Yu()(t);return this.set([...e,n],r[n]),r[n]})))}}}return r}async autoPopulatePda(t,e=[]){if(!t.pda||!t.pda.seeds)throw new Error("Must have seeds");const r=await Promise.all(t.pda.seeds.map((t=>this.toBuffer(t,e))));if(r.some((t=>void 0===t)))return;const n=await this.parseProgramId(t,e);if(!n)return;const[i]=await qu.PublicKey.findProgramAddress(r,n);this.set([...e,Yu()(t.name)],i)}async parseProgramId(t,e=[]){var r;if(!(null===(r=t.pda)||void 0===r?void 0:r.programId))return this._programId;switch(t.pda.programId.kind){case"const":return new qu.PublicKey(this.toBufferConst(t.pda.programId.value));case"arg":return this.argValue(t.pda.programId);case"account":return await this.accountValue(t.pda.programId,e);default:throw new Error(`Unexpected program seed kind: ${t.pda.programId.kind}`)}}async toBuffer(t,e=[]){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t,e);default:throw new Error(`Unexpected seed kind: ${t.kind}`)}}getType(t,e=[]){if(e.length>0&&t.defined){const r=this._idlTypes.find((e=>e.name===t.defined));if(!r)throw new Error(`Cannot find type ${t.defined}`);const n=r.type.fields.find((t=>t.name===e[0]));return this.getType(n.type,e.slice(1))}return t}toBufferConst(t){return this.toBufferValue(this.getType(t.type,(t.path||"").split(".").slice(1)),t.value)}async toBufferArg(t){const e=this.argValue(t);if(void 0!==e)return this.toBufferValue(this.getType(t.type,(t.path||"").split(".").slice(1)),e)}argValue(t){const e=t.path.split("."),r=Yu()(e[0]),n=this._idlIx.args.findIndex((t=>t.name===r));if(-1===n)throw new Error(`Unable to find argument for seed: ${r}`);return e.slice(1).reduce(((t,e)=>(t||{})[e]),this._args[n])}async toBufferAccount(t,e=[]){const r=await this.accountValue(t,e);if(r)return this.toBufferValue(t.type,r)}async accountValue(t,e=[]){const r=t.path.split("."),n=r[0],i=this.get([...e,Yu()(n)]);if(null===i)throw new Error("fieldPubkey is null");if(1===r.length)return i;const o=await this._accountStore.fetchAccount({publicKey:i,name:t.account});return this.parseAccountValue(o,r.slice(1))}parseAccountValue(t,e){let r;for(;e.length>0;)r=t[Yu()(e[0])],e=e.slice(1);return r}toBufferValue(t,e){switch(t){case"u8":return Buffer.from([e]);case"u16":let r=Buffer.alloc(2);return r.writeUInt16LE(e),r;case"u32":let n=Buffer.alloc(4);return n.writeUInt32LE(e),n;case"u64":let i=Buffer.alloc(8);return i.writeBigUInt64LE(BigInt(e)),i;case"string":return Buffer.from(ff(e));case"publicKey":return e.toBuffer();default:if(t.array)return Buffer.from(e);throw new Error(`Unexpected seed type: ${t}`)}}}qg.CONST_ACCOUNTS={associatedTokenProgram:fg,rent:qu.SYSVAR_RENT_PUBKEY,systemProgram:qu.SystemProgram.programId,tokenProgram:dg,clock:qu.SYSVAR_CLOCK_PUBKEY};class Hg{constructor(t,e,r){this._provider=t,this._programId=r,this._cache=new Map,this._idls={},this._idls[r.toBase58()]=e}async ensureIdl(t){if(!this._idls[t.toBase58()]){const e=await Xg.fetchIdl(t,this._provider);if(e){const r=new Xg(e,t,this._provider);this._idls[t.toBase58()]=r.account}}return this._idls[t.toBase58()]}async fetchAccount({publicKey:t,name:e,programId:r=this._programId}){const n=t.toString();if(!this._cache.has(n))if("TokenAccount"===e){const e=await this._provider.connection.getAccountInfo(t);if(null===e)throw new Error(`invalid account info for ${n}`);const r=function(t){return $g.decode(t)}(e.data);this._cache.set(n,r)}else if(e){const i=await this.ensureIdl(r);if(i){const r=i[Yu()(e)];if(r){const e=await r.fetch(t);this._cache.set(n,e)}}}else{const e=await this._provider.connection.getAccountInfo(t);if(null===e)throw new Error(`invalid account info for ${n}`);const r=e.data,i=await this.ensureIdl(e.owner);if(i){const t=Object.values(i)[0];if(!t)throw new Error("No accounts for this program");const e=t.coder.accounts.decodeAny(r);this._cache.set(n,e)}}return this._cache.get(n)}}class Vg{static build(t,e,r,n,i,o,s,a,c,u,l){return(...h)=>new Zg(h,n,i,o,s,a,t,e,r,c,u,l)}}function Kg(t){return"object"==typeof t&&null!==t&&!("_bn"in t)}function Gg(t,e){const r={};for(const n in t){const i=t[n];if(null!==i)r[n]=Kg(i)?Gg(i,!0):Sf(i);else if(e)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!")}return r}class Zg{constructor(t,e,r,n,i,o,s,a,c,u,l,h){this._ixFn=e,this._txFn=r,this._rpcFn=n,this._simulateFn=i,this._viewFn=o,this._programId=a,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._args=t,this._accountsResolver=new qg(t,this._accounts,s,a,c,u,l,h)}args(t){this._args=t,this._accountsResolver.args(t)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(t){return this._autoResolveAccounts=!0,this._accountsResolver.resolveOptionals(t),this}accountsStrict(t){return this._autoResolveAccounts=!1,this._accountsResolver.resolveOptionals(t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t){return this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async rpc(t){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpcAndKeys(t){return{pubkeys:await this.pubkeys(),signature:await this.rpc(t)}}async view(t){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async simulate(t){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:await this._signers}}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class Yg{static build(t,e,r,n){const i=e.accounts.find((t=>t.isMut)),o=!!e.returns;if(!i&&o)return async(...i)=>{var o,s;let a=await r(...i);const c=`Program return: ${t} `;let u=a.raw.find((t=>t.startsWith(c)));if(!u)throw new Error("View expected return log");let l=bf(u.slice(c.length)),h=e.returns;if(!h)throw new Error("View expected return type");return _p.fieldLayout({type:h},Array.from([...null!==(o=n.accounts)&&void 0!==o?o:[],...null!==(s=n.types)&&void 0!==s?s:[]])).decode(l)}}}class Jg{static build(t,e,r,n,i){const o={},s={},a={},c={},u={},l={},h=function(t){const e=new Map;return t.errors&&t.errors.forEach((t=>{var r;let n=null!==(r=t.msg)&&void 0!==r?r:t.name;e.set(t.code,n)})),e}(t),d=t.accounts?Tg.build(t,e,r,n):{};return t.instructions.forEach((f=>{const p=xg.build(f,((t,r)=>e.instruction.encode(t,r)),r),g=Ag.build(f,p),y=Ig.build(f,g,h,n),m=Bg.build(f,g,h,n,e,r,t),b=Yg.build(r,f,m,t),w=Vg.build(n,r,f,p,g,y,m,b,d,t.types||[],i&&i(f)),v=Yu()(f.name);s[v]=p,a[v]=g,o[v]=y,c[v]=m,u[v]=w,b&&(l[v]=b)})),[o,s,a,d,c,u,l]}}class Xg{get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}constructor(t,e,r,n,i){e=Sf(e),r||(r=np()),this._idl=t,this._provider=r,this._programId=e,this._coder=null!=n?n:new Rp(t),this._events=new Rg(this._programId,r,this._coder);const[o,s,a,c,u,l,h]=Jg.build(t,this._coder,e,r,null!=i?i:()=>{});this.rpc=o,this.instruction=s,this.transaction=a,this.account=c,this.simulate=u,this.methods=l,this.views=h}static async at(t,e){const r=Sf(t),n=await Xg.fetchIdl(r,e);if(!n)throw new Error(`IDL not found for program: ${t.toString()}`);return new Xg(n,r,e)}static async fetchIdl(t,e){e=null!=e?e:np();const r=Sf(t),n=await async function(t){const e=(await qu.PublicKey.findProgramAddress([],t))[0];return await qu.PublicKey.createWithSeed(e,"anchor:idl",t)}(r),i=await e.connection.getAccountInfo(n);if(!i)return null;let o=(s=i.data.slice(8),Sg.decode(s));var s;const a=af(o.data);return JSON.parse(df(a))}addEventListener(t,e){return this._events.addEventListener(t,e)}async removeEventListener(t){return await this._events.removeEventListener(t)}}new qu.PublicKey("11111111111111111111111111111111");class Qg{get accountChanged(){return this.accountChanged$.asObservable()}get disconnected(){return this.disconnect$.asObservable()}get error(){return this.error$.asObservable()}get chainChanged(){return this.chainChanged$.asObservable()}constructor(t=tt.Phantom){this.walletId=t,this.accountChanged$=new nt,this.chainChanged$=new nt,this.disconnect$=new nt,this.error$=new nt,this.publicKey=null,this.provider=null}async getPublicKey(){return this.publicKey}setPublicKey(t){this.publicKey=t}async disconnect(){this.provider?.disconnect&&await this.provider.disconnect(),this.setProvider(null)}setProvider(t){this.provider=t,this.provider?t.on("accountChanged",(async t=>{this.setPublicKey(t),await this.provider.connect()})):this.setPublicKey(null)}async request(t,e){const r=new k,n=new qu.Connection(r.getChain(v.Solana).networkParams.defaultRpcUrl),i=await n.getLatestBlockhash({commitment:"confirmed"});if("signAllTransactions"==t){const t=e.map((t=>{const e=qu.VersionedTransaction.deserialize(Buffer.from(t,"base64"));return"version"in e?e.message.recentBlockhash=i.blockhash:e.recentBlockhash=i.blockhash,e})),r=await this.provider.signAllTransactions(t);return console.log(r),r.map((t=>t.serialize()))}if("signTransaction"==t){const t=qu.VersionedTransaction.deserialize(Buffer.from(_g.bytes.bs58.decode(e)));return await this.provider.signTransaction(t)}return null}async connect(t){const e=await this.detectProvider(500,2);if(!e)throw new st(et.WALLET_NOT_FOUND);try{const r=t?.quiet?await e.connect({onlyIfTrusted:!0}):await e.connect();return this.setPublicKey(r.publicKey),this.setProvider(e),{publicKey:r.publicKey.toString()}}catch(t){if(4001==t.code)throw new st(et.USER_REJECTED);throw t}}async detectProvider(t,e){if(e<=0)return null;do{const e=await ty({timeout:t});if(e)return e}while(--e);return null}findProvider(t){const e=t?.providers||[t];return e.length>1?e.find((t=>t?.isMetaMask)):t}}function ty({timeout:t=3e3,mustBePhantom:e=!1}={}){let r=!1;return new Promise((n=>{function i(){if(r)return;r=!0,window.removeEventListener("ethereum#initialized",i);const t=window.phantom?.solana;!t||e&&!t.isPhantom?n(null):n(t)}window.solana?i():(window.addEventListener("solana#initialized",i,{once:!0}),setTimeout((()=>{i()}),t))}))}class ey{constructor(t){this.widgetFrame=t,this.wallets={[tt.Coinbase]:new yt,[tt.Metamask]:new mt,[tt.WalletConnect]:new $u,[tt.Phantom]:new Qg,[tt.ExternalEvmWallet]:null},this.activeWallet=null,this.destroyEvents={},window.addEventListener("message",(async t=>{if(this.widgetFrame.getOrigin()==t.origin&&t.data?.widgetId==this.widgetFrame.getWidgetId()){console.log("ProxyWalletListener::message",t,this.widgetFrame.getOrigin(),this.widgetFrame.getWidgetId());const e=t.data?.requestId,r=t.data?.walletId,n=t.data?.data?.method,i=t.data?.data?.params;if(e&&n)try{switch(n){case"enable":r&&await this.connect(r,e,i);break;case"disconnect":r&&await this.disconnect(r,e);break;case"sendAsync":{const t=this.wallets[r];if(t){const r=await t.sendAsync(i);this.sendToWidgetResponse(e,!1,r)}}break;default:if(r){const t=this.wallets[r];if(t){const r=await t.request(n,i);this.sendToWidgetResponse(e,!1,r)}else this.sendToWidgetResponse(e,!0),this.widgetFrame.disconnect()}}}catch(t){this.sendToWidgetResponse(e,!0,t)}}}),!1)}async disconnect(t,e){const r=this.wallets[t];r?(await r.disconnect(),this.destroyEvents[t]?.next(),this.destroyEvents[t]=null,this.sendToWidgetResponse(e),this.activeWallet=null):(this.sendToWidgetResponse(e,!0),this.widgetFrame.disconnect())}async connect(t,e,r){const n=this.wallets[t];if(n){const i=await n.connect(r);this.activeWallet=n,this.destroyEvents[t]=new nt,n.accountChanged.pipe(dt(this.destroyEvents[t])).subscribe((t=>n===this.activeWallet&&this.sendToWidgetEvent("accountsChanged",t))),n.disconnected.pipe(dt(this.destroyEvents[t])).subscribe((e=>{this.destroyEvents[t]?.next(),this.destroyEvents[t]=null,this.sendToWidgetEvent("disconnect",e)})),n.chainChanged.pipe(dt(this.destroyEvents[t])).subscribe((t=>{n===this.activeWallet&&this.sendToWidgetEvent("chainChanged",t)})),n.error.pipe(dt(this.destroyEvents[t])).subscribe((t=>n===this.activeWallet&&this.sendToWidgetEvent("error",t))),this.sendToWidgetResponse(e,!1,i)}else this.sendToWidgetResponse(e,!0),this.widgetFrame.disconnect()}sendToWidgetResponse(t,e,r){this.widgetFrame.getFrame().contentWindow.postMessage({widgetId:this.widgetFrame.getWidgetId(),parentURI:this.widgetFrame.getParentURI(),requestId:t,isRejected:e,isSolana:this.activeWallet instanceof Qg,data:r},this.widgetFrame.getOrigin())}sendToWidgetEvent(t,e){this.widgetFrame.getFrame().contentWindow.postMessage({widgetId:this.widgetFrame.getWidgetId(),parentURI:this.widgetFrame.getParentURI(),event:t,isSolana:this.activeWallet instanceof Qg,data:e},this.widgetFrame.getOrigin())}async setExternalEVMWallet(t){this.wallets[tt.ExternalEvmWallet]&&await this.wallets[tt.ExternalEvmWallet].disconnect(),this.activeWallet=this.wallets[tt.ExternalEvmWallet]=t}}window.deBridge={widget:t=>{t.widgetMode=!0,t.width||(t.width="600"),t.height||(t.height="800");var e=document.querySelector("#"+t.element);if(!e)throw new Error(`There isn't element with id ${t.element}`);var r=document.createElement("iframe");r.width=t.width+"px",r.height=t.height+"px",r.style.border="none",r.className="debridge-widget-iframe";var n={widgetMode:!0,...t};try{const t=window.ethereum;t?.isMetaMask&&(n.isMetamask=!0),(t?.isCoinbaseWallet||t?.isCoinbaseBrowser)&&(n.isCoinbaseWallet=!0)}catch(t){}n.mode&&"deswap"!=n.mode||(n.mode="deswap-widget"),n.widgetId=Date.now();var i="https://app.debridge.finance";try{var o=document.querySelector('script[src$="/assets/scripts/widget.js');if(o){var s=new URL(o.src).origin;s&&(new URL(s),i=s)}}catch(t){}function a(t,e=null,o=null,s=!1){r.contentWindow.postMessage({widgetId:n.widgetId,parentURI:n.parentURI,event:t,params:e,requestId:o,isRejected:s},i)}n.parentURI=window.location.href;const c={getWidgetId:function(){return n.widgetId},getOrigin:function(){return i},getFrame:function(){return r},getParentURI:function(){return n.parentURI},on:function(t,e){u[t]&&!u[t].includes(e)&&(t==f.CallData?u[t]=[e]:u[t].push(e))},off:function(t,e){u[t].includes(e)||(u[t]=u[t].filter((t=>t!=e)))},setExternalEVMWallet:function(t){d.setExternalEVMWallet(new at(t.provider)),a(p.ExternalEVMWallet,{name:t.name,imageSrc:t.imageSrc})},disconnect:function(){a(p.Disconnect)},changeInputChain:function(t){a(p.ChangeInputChain,{chainId:t})},changeOutputChain:function(t){a(p.ChangeOutputChain,{chainId:t})},changeInputToken:function(t){a(p.ChangeInputToken,{address:t})},changeOutputToken:function(t){a(p.ChangeOutputToken,{address:t})},setRecieverAddress:function(t){a(p.SetRecieverAddress,{address:t})}},u={[f.NeedConnect]:[],[f.Order]:[],[f.Bridge]:[],[f.SingleChainSwap]:[],[f.Ready]:[],[f.CallData]:[],[f.InputChainChanged]:[],[f.OutputChainChanged]:[],[f.InputTokenChanged]:[],[f.OutputTokenChanged]:[]},l=new Promise((t=>{u[f.Ready].push(t)}));window.addEventListener("message",(t=>{if(c.getOrigin()==t.origin&&t.data?.widgetId==c.getWidgetId()){const e=t.data?.requestId,r=(t.data,t.data?.event),n=t.data?.params;if(e&&r)try{if(u[r])if(r==f.CallData)if(u[r].length)try{const t=u[r][0](c,n);t?.then?t.then((t=>{a(p.Response,t,e)})).catch((t=>{a(p.Response,t,e,!0)})):a(p.Response,t,e)}catch(t){a(p.Response,t,e,!0)}else a(p.Response,null,e);else u[r].forEach((t=>t(c,n)))}catch(t){console.error("Widget::addEventListene::catch",t)}}}),!1);const h=i+"/"+n.mode+"?"+new URLSearchParams(n).toString();r.src=h,e.append(r);const d=new ey(c);return l.disconnect=c.disconnect,l.disconnect=c.getWidgetId,l.disconnect=c.getOrigin,l.disconnect=c.getFrame,l.disconnect=c.getParentURI,l}}})()})();